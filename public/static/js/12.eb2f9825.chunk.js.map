{"version":3,"sources":["components/points/PointsTable.jsx","components/points/PointModalEdit.jsx","components/points/PointModalDelete.jsx","components/points/PointModalAdd.jsx","pages/points/Points.jsx","pages/points/index.js"],"names":["PointTable","points","toggle","modes","Table","striped","responsive","className","style","width","map","point","key","_id","name","Button","color","onClick","UPDATE","DELETE","PointModalEdit","onCancel","onSave","onToggle","showModal","onChangeText","Modal","isOpen","ModalHeader","ModalBody","FormGroup","Label","for","Input","type","id","placeholder","onChange","ModalFooter","PointModalDelete","onDelete","PointModalAdd","ADD","Points","props","handleUpdate","modifyPoint","updatePoint","state","selectedId","newName","toggleModal","handleDelete","removePoint","deletePoint","handleAdd","createPoint","addPoint","handleChange","e","target","value","setState","mode","prevState","showErrors","errors","Row","error","Alert","getModal","modal","this","ids","actionInProgress","shownPoints","AppLayout","Helmet","Container","length","Spinner","size","Col","xs","md","PointsTable","PureComponent","mapDispatchToProps","connect","get","pages"],"mappings":"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","file":"static/js/12.eb2f9825.chunk.js","sourcesContent":["import React from 'react';\nimport { Table, Button } from 'reactstrap';\nimport PropTypes from 'prop-types';\n\nconst PointTable = ({ points, toggle, modes }) => {\n  return (\n    <Table striped responsive>\n      <thead>\n        <tr>\n          <th className=\"text-center\" style={{ width: '50%' }}>\n            Name\n          </th>\n          <th className=\"text-center\">Actions</th>\n        </tr>\n      </thead>\n      <tbody>\n        {points.map(point => {\n          return (\n            <tr key={point._id}>\n              <td className=\"text-center\">{point.name}</td>\n              <td className=\"text-center\">\n                <Button\n                  color=\"primary\"\n                  onClick={() => toggle(modes.UPDATE, point._id)}\n                >\n                  Edit\n                </Button>{' '}\n                <Button\n                  onClick={() => toggle(modes.DELETE, point._id)}\n                  color=\"danger\"\n                >\n                  Delete\n                </Button>\n              </td>\n            </tr>\n          );\n        })}\n      </tbody>\n    </Table>\n  );\n};\n\nPointTable.propTypes = {\n  points: PropTypes.arrayOf(\n    PropTypes.shape({\n      _id: PropTypes.string,\n      name: PropTypes.string\n    })\n  ).isRequired,\n  toggle: PropTypes.func.isRequired,\n  modes: PropTypes.shape({\n    UPDATE: PropTypes.string.isRequired,\n    DELETE: PropTypes.string.isRequired,\n    ADD: PropTypes.string.isRequired\n  }).isRequired\n};\n\nexport default PointTable;\n","import React from 'react';\nimport {\n  Modal,\n  ModalHeader,\n  ModalBody,\n  ModalFooter,\n  Button,\n  FormGroup,\n  Label,\n  Input\n} from 'reactstrap';\nimport PropTypes from 'prop-types';\n\nconst PointModalEdit = ({\n  onCancel,\n  onSave,\n  onToggle,\n  showModal,\n  onChangeText,\n  point\n}) => {\n  return (\n    <Modal isOpen={showModal} toggle={() => onToggle()}>\n      <ModalHeader toggle={() => onToggle()}>Updating for {point}</ModalHeader>\n      <ModalBody>\n        <FormGroup>\n          <Label for=\"pointName\">New name for {point}</Label>\n          <Input\n            type=\"text\"\n            name=\"pointName\"\n            id=\"pointName\"\n            placeholder={point}\n            onChange={onChangeText}\n          />\n        </FormGroup>\n      </ModalBody>\n      <ModalFooter>\n        <Button color=\"success\" onClick={onSave}>\n          Save\n        </Button>\n        <Button color=\"secondary\" onClick={() => onCancel()}>\n          Cancel\n        </Button>\n      </ModalFooter>\n    </Modal>\n  );\n};\n\nPointModalEdit.propTypes = {\n  onCancel: PropTypes.func.isRequired,\n  onSave: PropTypes.func.isRequired,\n  onToggle: PropTypes.func.isRequired,\n  showModal: PropTypes.bool.isRequired,\n  onChangeText: PropTypes.func.isRequired,\n  point: PropTypes.string.isRequired\n};\n\nexport default PointModalEdit;\n","import React from 'react';\nimport { Modal, ModalHeader, ModalBody, ModalFooter, Button } from 'reactstrap';\nimport PropTypes from 'prop-types';\n\nconst PointModalDelete = ({\n  onCancel,\n  onDelete,\n  onToggle,\n  showModal,\n  point\n}) => {\n  return (\n    <Modal isOpen={showModal} toggle={() => onToggle()}>\n      <ModalHeader toggle={() => onToggle()}>\n        Action is irreversible!\n      </ModalHeader>\n      <ModalBody>\n        <p>Are you sure you want to delete {point.name}?</p>\n      </ModalBody>\n      <ModalFooter>\n        <Button color=\"danger\" onClick={onDelete}>\n          Delete\n        </Button>\n        <Button color=\"secondary\" onClick={() => onCancel()}>\n          Cancel\n        </Button>\n      </ModalFooter>\n    </Modal>\n  );\n};\n\nPointModalDelete.propTypes = {\n  onCancel: PropTypes.func.isRequired,\n  onDelete: PropTypes.func.isRequired,\n  onToggle: PropTypes.func.isRequired,\n  showModal: PropTypes.bool.isRequired,\n  point: PropTypes.shape({\n    _id: PropTypes.string.isRequired,\n    name: PropTypes.string.isRequired\n  }).isRequired\n};\n\nexport default PointModalDelete;\n","import React from 'react';\nimport {\n  Modal,\n  ModalHeader,\n  ModalBody,\n  ModalFooter,\n  Button,\n  FormGroup,\n  Label,\n  Input\n} from 'reactstrap';\nimport PropTypes from 'prop-types';\n\nconst PointModalAdd = ({\n  onCancel,\n  onSave,\n  onToggle,\n  showModal,\n  onChangeText\n}) => {\n  return (\n    <Modal isOpen={showModal} toggle={() => onToggle()}>\n      <ModalHeader toggle={() => onToggle()}>Adding New Point!</ModalHeader>\n      <ModalBody>\n        <FormGroup>\n          <Label for=\"pointName\">New point</Label>\n          <Input\n            type=\"text\"\n            name=\"pointName\"\n            id=\"pointName\"\n            onChange={onChangeText}\n          />\n        </FormGroup>\n      </ModalBody>\n      <ModalFooter>\n        <Button color=\"success\" onClick={onSave}>\n          Add\n        </Button>\n        <Button color=\"secondary\" onClick={() => onCancel()}>\n          Cancel\n        </Button>\n      </ModalFooter>\n    </Modal>\n  );\n};\n\nPointModalAdd.propTypes = {\n  onCancel: PropTypes.func.isRequired,\n  onSave: PropTypes.func.isRequired,\n  onToggle: PropTypes.func.isRequired,\n  onChangeText: PropTypes.func.isRequired,\n  showModal: PropTypes.bool.isRequired\n};\n\nexport default PointModalAdd;\n","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport { Container, Col, Row, Button, Alert, Spinner } from 'reactstrap';\nimport { connect } from 'react-redux';\nimport { Helmet } from 'react-helmet';\n\nimport AppLayout from '../shared/AppLayout';\nimport PointsTable from '../../components/points/PointsTable';\nimport PointModalEdit from '../../components/points/PointModalEdit';\nimport PointModalDelete from '../../components/points/PointModalDelete';\nimport PointModalAdd from '../../components/points/PointModalAdd';\n\nimport { addPoint, deletePoint, updatePoint } from './actions';\n\nconst modes = {\n  UPDATE: 'UPDATE',\n  DELETE: 'DELETE',\n  ADD: 'ADD'\n};\n\nexport class Points extends PureComponent {\n  constructor(props) {\n    super(props);\n    this.state = {\n      selectedId: null,\n      showModal: false,\n      mode: null,\n      newName: ''\n    };\n  }\n\n  handleUpdate = () => {\n    const { updatePoint: modifyPoint } = this.props;\n    const { selectedId, newName } = this.state;\n    modifyPoint(selectedId, newName);\n    this.toggleModal();\n  };\n\n  handleDelete = () => {\n    const { deletePoint: removePoint } = this.props;\n    const { selectedId } = this.state;\n    removePoint(selectedId);\n    this.toggleModal();\n  };\n\n  handleAdd = () => {\n    const { addPoint: createPoint } = this.props;\n    const { newName } = this.state;\n    createPoint(newName);\n    this.toggleModal();\n  };\n\n  handleChange = e => {\n    const name = e.target.value;\n    this.setState({\n      newName: name\n    });\n  };\n\n  toggleModal = (mode = null, id = null) => {\n    this.setState(prevState => {\n      return {\n        showModal: !prevState.showModal,\n        selectedId: id,\n        mode,\n        newName: ''\n      };\n    });\n  };\n\n  showErrors = () => {\n    const { errors } = this.props;\n\n    return (\n      <Row>\n        {errors.map(error => {\n          return (\n            <Alert key={error} color=\"danger\" className=\"w-100\">\n              {error}\n            </Alert>\n          );\n        })}\n      </Row>\n    );\n  };\n\n  getModal = () => {\n    const { points } = this.props;\n    const { showModal, selectedId, mode } = this.state;\n\n    let modal = null;\n    if (mode === modes.UPDATE) {\n      modal = (\n        <PointModalEdit\n          point={points[selectedId].name}\n          onCancel={this.toggleModal}\n          onToggle={this.toggleModal}\n          onChangeText={this.handleChange}\n          showModal={showModal}\n          onSave={this.handleUpdate}\n        />\n      );\n    } else if (mode === modes.DELETE) {\n      modal = (\n        <PointModalDelete\n          point={points[selectedId]}\n          onCancel={this.toggleModal}\n          onToggle={this.toggleModal}\n          onDelete={this.handleDelete}\n          showModal={showModal}\n        />\n      );\n    } else if (mode === modes.ADD) {\n      modal = (\n        <PointModalAdd\n          onCancel={this.toggleModal}\n          onToggle={this.toggleModal}\n          onSave={this.handleAdd}\n          onChangeText={this.handleChange}\n          showModal={showModal}\n        />\n      );\n    }\n    return modal;\n  };\n\n  render() {\n    const { ids, points, errors, actionInProgress } = this.props;\n\n    const modal = this.getModal();\n\n    const shownPoints = ids.map(id => {\n      return points[id];\n    });\n\n    return (\n      <AppLayout>\n        <Helmet>\n          <title>Points</title>\n        </Helmet>\n        <Container>\n          {modal}\n          {errors.length > 0 && this.showErrors()}\n          {actionInProgress && (\n            <Row>\n              <Alert color=\"primary\" className=\"w-100\">\n                Action in progress <Spinner color=\"primary\" size=\"sm\" />\n              </Alert>\n            </Row>\n          )}\n          <Row className=\"my-2 d-flex justify-content-center align-items-center\">\n            <Col xs=\"9\">\n              <h1>Points</h1>\n            </Col>\n            <Col xs=\"3\" className=\"d-flex justify-content-end\">\n              <Button\n                color=\"success\"\n                size=\"md\"\n                onClick={() => this.toggleModal(modes.ADD)}\n              >\n                Add\n              </Button>\n            </Col>\n          </Row>\n          <Row>\n            <Col md=\"12\">\n              <PointsTable\n                modes={modes}\n                points={shownPoints}\n                toggle={this.toggleModal}\n              />\n            </Col>\n          </Row>\n        </Container>\n      </AppLayout>\n    );\n  }\n}\n\nPoints.propTypes = {\n  ids: PropTypes.arrayOf(PropTypes.string).isRequired,\n  points: PropTypes.shape({\n    id: PropTypes.string\n  }).isRequired,\n  errors: PropTypes.arrayOf(PropTypes.string).isRequired,\n  addPoint: PropTypes.func.isRequired,\n  deletePoint: PropTypes.func.isRequired,\n  updatePoint: PropTypes.func.isRequired,\n  actionInProgress: PropTypes.bool.isRequired\n};\n\nconst mapStateToProps = state => ({\n  ids: state.points.get('ids'),\n  points: state.points.get('points'),\n  errors: state.pages.points.get('errors'),\n  actionInProgress: state.pages.points.get('actionInProgress')\n});\n\nconst mapDispatchToProps = {\n  addPoint,\n  deletePoint,\n  updatePoint\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Points);\n","export { default } from './Points';\n"],"sourceRoot":""}