(this.webpackJsonpfrontend_duty=this.webpackJsonpfrontend_duty||[]).push([[15],{364:function(e,a,n){"use strict";n.r(a);var t=n(21),l=n(22),r=n(50),o=n(49),c=n(51),s=n(1),d=n.n(s),u=n(274),m=n(355),i=n(273),g=n(275),E=n(276),h=n(132),f=n(44),k=n(283),p=n(98),C=n(351),w=function(e){var a=e.ranks,n=e.toggle,t=e.modes;return d.a.createElement(C.a,{striped:!0,responsive:!0},d.a.createElement("thead",null,d.a.createElement("tr",null,d.a.createElement("th",{className:"text-center",style:{width:"50%"}},"Name"),d.a.createElement("th",{className:"text-center"},"Actions"))),d.a.createElement("tbody",null,a.map((function(e){return d.a.createElement("tr",{key:e._id},d.a.createElement("td",{className:"text-center"},e.name),d.a.createElement("td",{className:"text-center"},d.a.createElement(h.a,{color:"primary",onClick:function(){return n(t.UPDATE,e._id)}},"Edit")," ",d.a.createElement(h.a,{onClick:function(){return n(t.DELETE,e._id)},color:"danger"},"Delete")))}))))},M=n(371),v=n(352),N=n(353),D=n(336),y=n(337),T=n(338),A=n(354),x=function(e){var a=e.onCancel,n=e.onSave,t=e.onToggle,l=e.showModal,r=e.onChangeText,o=e.rank;return d.a.createElement(M.a,{isOpen:l,toggle:function(){return t()}},d.a.createElement(v.a,{toggle:function(){return t()}},"Updating for ",o),d.a.createElement(N.a,null,d.a.createElement(D.a,null,d.a.createElement(y.a,{for:"rankName"},"New name for ",o),d.a.createElement(T.a,{type:"text",name:"rankName",id:"rankName",placeholder:o,onChange:r}))),d.a.createElement(A.a,null,d.a.createElement(h.a,{color:"success",onClick:n},"Save"),d.a.createElement(h.a,{color:"secondary",onClick:function(){return a()}},"Cancel")))},b=function(e){var a=e.onCancel,n=e.onDelete,t=e.onToggle,l=e.showModal,r=e.rank;return d.a.createElement(M.a,{isOpen:l,toggle:function(){return t()}},d.a.createElement(v.a,{toggle:function(){return t()}},"Action is irreversible!"),d.a.createElement(N.a,null,d.a.createElement("p",null,"Are you sure you want to delete ",r.name,"?")),d.a.createElement(A.a,null,d.a.createElement(h.a,{color:"danger",onClick:n},"Delete"),d.a.createElement(h.a,{color:"secondary",onClick:function(){return a()}},"Cancel")))},O=function(e){var a=e.onCancel,n=e.onSave,t=e.onToggle,l=e.showModal,r=e.onChangeText;return d.a.createElement(M.a,{isOpen:l,toggle:function(){return t()}},d.a.createElement(v.a,{toggle:function(){return t()}},"Adding New Rank!"),d.a.createElement(N.a,null,d.a.createElement(D.a,null,d.a.createElement(y.a,{for:"rankName"},"New rank"),d.a.createElement(T.a,{type:"text",name:"rankName",id:"rankName",onChange:r}))),d.a.createElement(A.a,null,d.a.createElement(h.a,{color:"success",onClick:n},"Add"),d.a.createElement(h.a,{color:"secondary",onClick:function(){return a()}},"Cancel")))},R=n(25),j={UPDATE:"UPDATE",DELETE:"DELETE",ADD:"ADD"},I=function(e){function a(e){var n;return Object(t.a)(this,a),(n=Object(r.a)(this,Object(o.a)(a).call(this,e))).handleUpdate=function(){var e=n.props.updateRank,a=n.state;e(a.selectedId,a.newName),n.toggleModal()},n.handleDelete=function(){(0,n.props.deleteRank)(n.state.selectedId),n.toggleModal()},n.handleAdd=function(){(0,n.props.addRank)(n.state.newName),n.toggleModal()},n.handleChange=function(e){var a=e.target.value;n.setState({newName:a})},n.toggleModal=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;n.setState((function(n){return{showModal:!n.showModal,selectedId:a,mode:e,newName:""}}))},n.showErrors=function(){var e=n.props.errors;return d.a.createElement(u.a,null,e.map((function(e){return d.a.createElement(m.a,{key:e,color:"danger",className:"w-100"},e)})))},n.getModal=function(){var e=null,a=n.props.ranks,t=n.state,l=t.showModal,r=t.selectedId,o=t.mode;return o===j.UPDATE?e=d.a.createElement(x,{rank:a[r].name,onCancel:n.toggleModal,onToggle:n.toggleModal,onChangeText:n.handleChange,showModal:l,onSave:n.handleUpdate}):o===j.DELETE?e=d.a.createElement(b,{rank:a[r],onCancel:n.toggleModal,onToggle:n.toggleModal,onDelete:n.handleDelete,showModal:l}):o===j.ADD&&(e=d.a.createElement(O,{onCancel:n.toggleModal,onToggle:n.toggleModal,onSave:n.handleAdd,onChangeText:n.handleChange,showModal:l})),e},n.state={selectedId:null,showModal:!1,mode:null,newName:""},n}return Object(c.a)(a,e),Object(l.a)(a,[{key:"render",value:function(){var e=this,a=this.props,n=a.ids,t=a.ranks,l=a.errors,r=a.actionInProgress,o=this.getModal(),c=n.map((function(e){return t[e]}));return d.a.createElement(p.a,null,d.a.createElement(k.Helmet,null,d.a.createElement("title",null,"Ranks")),d.a.createElement(i.a,null,o,l.length>0&&this.showErrors(),r&&d.a.createElement(u.a,null,d.a.createElement(m.a,{color:"primary",className:"w-100"},"Action in progress ",d.a.createElement(g.a,{color:"primary",size:"sm"}))),d.a.createElement(u.a,{className:"my-2 d-flex justify-content-center align-items-center"},d.a.createElement(E.a,{xs:"9"},d.a.createElement("h1",null,"Ranks")),d.a.createElement(E.a,{xs:"3",className:"d-flex justify-content-end"},d.a.createElement(h.a,{color:"success",size:"md",onClick:function(){return e.toggleModal(j.ADD)}},"Add"))),d.a.createElement(u.a,null,d.a.createElement(E.a,{md:"12"},d.a.createElement(w,{modes:j,ranks:c,toggle:this.toggleModal})))))}}]),a}(s.PureComponent),P={addRank:R.a,deleteRank:R.d,updateRank:R.g},S=Object(f.b)((function(e){return{ids:e.ranks.get("ids"),ranks:e.ranks.get("ranks"),errors:e.pages.ranks.get("errors"),actionInProgress:e.pages.ranks.get("actionInProgress")}}),P)(I);n.d(a,"default",(function(){return S}))}}]);
//# sourceMappingURL=15.7ec298f6.chunk.js.map