(this.webpackJsonpfrontend_duty=this.webpackJsonpfrontend_duty||[]).push([[13],{367:function(e,t,a){"use strict";a.r(t);var n=a(21),l=a(22),o=a(50),r=a(49),c=a(51),s=a(1),d=a.n(s),u=a(274),m=a(360),i=a(273),g=a(275),E=a(276),p=a(132),h=a(44),f=a(283),C=a(98),w=a(356),M=function(e){var t=e.platoons,a=e.toggle,n=e.modes;return d.a.createElement(w.a,{striped:!0,responsive:!0},d.a.createElement("thead",null,d.a.createElement("tr",null,d.a.createElement("th",{className:"text-center",style:{width:"50%"}},"Name"),d.a.createElement("th",{className:"text-center"},"Actions"))),d.a.createElement("tbody",null,t.map((function(e){return d.a.createElement("tr",{key:e._id},d.a.createElement("td",{className:"text-center"},e.name),d.a.createElement("td",{className:"text-center"},d.a.createElement(p.a,{color:"primary",onClick:function(){return a(n.UPDATE,e._id)}},"Edit")," ",d.a.createElement(p.a,{onClick:function(){return a(n.DELETE,e._id)},color:"danger"},"Delete")))}))))},v=a(373),N=a(357),D=a(358),y=a(338),T=a(339),A=a(340),P=a(359),k=function(e){var t=e.onCancel,a=e.onSave,n=e.onToggle,l=e.showModal,o=e.onChangeText,r=e.platoon;return d.a.createElement(v.a,{isOpen:l,toggle:function(){return n()}},d.a.createElement(N.a,{toggle:function(){return n()}},"Updating for ",r),d.a.createElement(D.a,null,d.a.createElement(y.a,null,d.a.createElement(T.a,{for:"platoonName"},"New name for ",r),d.a.createElement(A.a,{type:"text",name:"platoonName",id:"platoonName",placeholder:r,onChange:o}))),d.a.createElement(P.a,null,d.a.createElement(p.a,{color:"success",onClick:a},"Save"),d.a.createElement(p.a,{color:"secondary",onClick:function(){return t()}},"Cancel")))},x=function(e){var t=e.onCancel,a=e.onDelete,n=e.onToggle,l=e.showModal,o=e.platoon;return d.a.createElement(v.a,{isOpen:l,toggle:function(){return n()}},d.a.createElement(N.a,{toggle:function(){return n()}},"Action is irreversible!"),d.a.createElement(D.a,null,d.a.createElement("p",null,"Are you sure you want to delete ",o.name,"?")),d.a.createElement(P.a,null,d.a.createElement(p.a,{color:"danger",onClick:a},"Delete"),d.a.createElement(p.a,{color:"secondary",onClick:function(){return t()}},"Cancel")))},b=function(e){var t=e.onCancel,a=e.onSave,n=e.onToggle,l=e.showModal,o=e.onChangeText;return d.a.createElement(v.a,{isOpen:l,toggle:function(){return n()}},d.a.createElement(N.a,{toggle:function(){return n()}},"Adding New Platoon!"),d.a.createElement(D.a,null,d.a.createElement(y.a,null,d.a.createElement(T.a,{for:"platoonName"},"New platoon"),d.a.createElement(A.a,{type:"text",name:"platoonName",id:"platoonName",onChange:o}))),d.a.createElement(P.a,null,d.a.createElement(p.a,{color:"success",onClick:a},"Add"),d.a.createElement(p.a,{color:"secondary",onClick:function(){return t()}},"Cancel")))},O=a(26),j={UPDATE:"UPDATE",DELETE:"DELETE",ADD:"ADD"},I=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(r.a)(t).call(this,e))).handleUpdate=function(){var e=a.props.updatePlatoon,t=a.state;e(t.selectedId,t.newName),a.toggleModal()},a.handleDelete=function(){(0,a.props.deletePlatoon)(a.state.selectedId),a.toggleModal()},a.handleAdd=function(){(0,a.props.addPlatoon)(a.state.newName),a.toggleModal()},a.handleChange=function(e){var t=e.target.value;a.setState({newName:t})},a.toggleModal=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;a.setState((function(a){return{showModal:!a.showModal,selectedId:t,mode:e,newName:""}}))},a.showErrors=function(){var e=a.props.errors;return d.a.createElement(u.a,null,e.map((function(e){return d.a.createElement(m.a,{key:e,color:"danger",className:"w-100"},e)})))},a.getModal=function(){var e=null,t=a.state,n=t.showModal,l=t.selectedId,o=t.mode,r=a.props.platoons;return o===j.UPDATE?e=d.a.createElement(k,{platoon:r[l].name,onCancel:a.toggleModal,onToggle:a.toggleModal,onChangeText:a.handleChange,showModal:n,onSave:a.handleUpdate}):o===j.DELETE?e=d.a.createElement(x,{platoon:r[l],onCancel:a.toggleModal,onToggle:a.toggleModal,onDelete:a.handleDelete,showModal:n}):o===j.ADD&&(e=d.a.createElement(b,{onCancel:a.toggleModal,onToggle:a.toggleModal,onSave:a.handleAdd,onChangeText:a.handleChange,showModal:n})),e},a.state={selectedId:null,showModal:!1,mode:null,newName:""},a}return Object(c.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.ids,n=t.platoons,l=t.errors,o=t.actionInProgress,r=this.getModal(),c=a.map((function(e){return n[e]}));return d.a.createElement(C.a,null,d.a.createElement(f.Helmet,null,d.a.createElement("title",null,"Platoons")),d.a.createElement(i.a,null,r,l.length>0&&this.showErrors(),o&&d.a.createElement(u.a,null,d.a.createElement(m.a,{color:"primary",className:"w-100"},"Action in progress ",d.a.createElement(g.a,{color:"primary",size:"sm"}))),d.a.createElement(u.a,{className:"my-2 d-flex justify-content-center align-items-center"},d.a.createElement(E.a,{xs:"9"},d.a.createElement("h1",null,"Platoons")),d.a.createElement(E.a,{xs:"3",className:"d-flex justify-content-end"},d.a.createElement(p.a,{color:"success",size:"md",onClick:function(){return e.toggleModal(j.ADD)}},"Add"))),d.a.createElement(u.a,null,d.a.createElement(E.a,{md:"12"},d.a.createElement(M,{modes:j,platoons:c,toggle:this.toggleModal})))))}}]),t}(s.PureComponent),S={addPlatoon:O.a,deletePlatoon:O.d,updatePlatoon:O.g},U=Object(h.b)((function(e){return{ids:e.platoons.get("ids"),platoons:e.platoons.get("platoons"),errors:e.pages.platoons.get("errors"),actionInProgress:e.pages.platoons.get("actionInProgress")}}),S)(I);a.d(t,"default",(function(){return U}))}}]);
//# sourceMappingURL=13.dbc0fa5c.chunk.js.map