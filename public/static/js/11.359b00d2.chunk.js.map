{"version":3,"sources":["hooks/useReduxPageSelector.js","hooks/useDeleteModal.js","hooks/useUpdateModal.js","hooks/useAddModal.js","pages/platoons/selectors.js","components/platoons/PlatoonsTable.jsx","pages/platoons/Platoons.jsx","pages/platoons/index.js"],"names":["useReduxPageSelector","pages","selector","useSelector","storeState","get","reduce","storePages","page","Map","useUpdateModal","dispatch","deleteFunc","useCallback","id","name","a","async","Swal","fire","title","text","icon","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","reverseButtons","value","updateFunc","category","input","inputValue","inputPlaceholder","cancelButtonText","inputValidator","result","showModal","addFunc","getPlatoons","createSelector","state","platoons","ids","byPlatoonIds","map","memo","handleUpdate","handleDelete","Table","striped","responsive","className","style","width","platoon","key","Button","color","onClick","useDispatch","errors","actionInProgress","handleAdd","useAddModal","addPlatoon","updatePlatoon","useDeleteModal","deletePlatoon","Helmet","Container","size","Row","Col","Alert","error","Spinner","xs","PlatoonsTable"],"mappings":"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","file":"static/js/11.359b00d2.chunk.js","sourcesContent":["import { useSelector } from 'react-redux';\nimport { Map } from 'immutable';\n\nfunction useReduxPageSelector(pages, selector) {\n  const state = useSelector(storeState => {\n    if (typeof pages === 'string') {\n      return storeState.pages[pages].get(selector);\n    }\n    const foundPage = pages.reduce((storePages, page) => {\n      if (storePages && storePages[page] !== 'undefined') {\n        return storePages[page];\n      }\n      return Map();\n    }, storeState.pages);\n\n    return foundPage.get(selector);\n  });\n\n  return state;\n}\n\nexport default useReduxPageSelector;\n","import { useCallback } from 'react';\nimport Swal from 'sweetalert2';\n\nfunction useUpdateModal(dispatch, deleteFunc) {\n  const deleteCallBackModal = useCallback(\n    (id, name) => {\n      async function showModal() {\n        const result = await Swal.fire({\n          title: `Are you sure you want to delete ${name}?`,\n          text: \"You won't be able to revert this!\",\n          icon: 'warning',\n          showCancelButton: true,\n          confirmButtonColor: '#dc3545',\n          cancelButtonColor: '#3085d6',\n          confirmButtonText: 'Yes, delete it!',\n          reverseButtons: true\n        });\n        if (result.value) {\n          dispatch(deleteFunc(id));\n        }\n      }\n      showModal();\n    },\n    [deleteFunc, dispatch]\n  );\n  return deleteCallBackModal;\n}\n\nexport default useUpdateModal;\n","import { useCallback } from 'react';\nimport Swal from 'sweetalert2';\n\nfunction useUpdateModal(dispatch, updateFunc, category) {\n  const updateCallBackModal = useCallback(\n    (id, name) => {\n      async function showModal() {\n        const result = await Swal.fire({\n          title: `Enter a new ${category} name for ${name}`,\n          input: 'text',\n          inputValue: '',\n          inputPlaceholder: name,\n          showCancelButton: true,\n          confirmButtonText: 'Update',\n          confirmButtonColor: '#28a745',\n          cancelButtonText: 'Cancel',\n          cancelButtonColor: '#007bff',\n          reverseButtons: true,\n          inputValidator: value => {\n            if (!value) {\n              return `Updating a ${category} name cannot be empty`;\n            }\n            return null;\n          }\n        });\n        if (result.value) {\n          dispatch(updateFunc(id, result.value));\n        }\n      }\n      showModal();\n    },\n    [category, dispatch, updateFunc]\n  );\n  return updateCallBackModal;\n}\n\nexport default useUpdateModal;\n","import { useCallback } from 'react';\nimport Swal from 'sweetalert2';\n\nfunction useUpdateModal(dispatch, addFunc, category) {\n  const deleteCallBackModal = useCallback(() => {\n    async function showModal() {\n      const result = await Swal.fire({\n        title: `Enter a new ${category} name`,\n        input: 'text',\n        inputValue: '',\n        showCancelButton: true,\n        confirmButtonText: 'Add',\n        confirmButtonColor: '#28a745',\n        cancelButtonText: 'Cancel',\n        cancelButtonColor: '#007bff',\n        reverseButtons: true,\n        inputValidator: value => {\n          if (!value) {\n            return 'Name cannot be empty';\n          }\n          return null;\n        }\n      });\n      if (result.value) {\n        dispatch(addFunc(result.value));\n      }\n    }\n    showModal();\n  }, [addFunc, category, dispatch]);\n\n  return deleteCallBackModal;\n}\n\nexport default useUpdateModal;\n","import { createSelector } from 'reselect';\n\nconst platoonIds = state => state.platoons.get('ids');\nconst allPlatoons = state => state.platoons.get('platoons');\nconst getPlatoons = createSelector(\n  platoonIds,\n  allPlatoons,\n  (ids, byPlatoonIds) => ids.map(id => byPlatoonIds.get(id))\n);\n\nexport { getPlatoons };\n\nexport default getPlatoons;\n","import React, { memo } from 'react';\nimport { Table, Button } from 'reactstrap';\nimport PropTypes from 'prop-types';\nimport { List } from 'immutable';\n\nconst PlatoonTable = ({ platoons, handleUpdate, handleDelete }) => {\n  return (\n    <Table striped responsive>\n      <thead>\n        <tr>\n          <th className=\"text-center\" style={{ width: '50%' }}>\n            Name\n          </th>\n          <th className=\"text-center\">Actions</th>\n        </tr>\n      </thead>\n      <tbody>\n        {platoons.map(platoon => {\n          const name = platoon.get('name');\n          const id = platoon.get('_id');\n          return (\n            <tr key={id}>\n              <td className=\"text-center\">{name}</td>\n              <td className=\"text-center\">\n                <Button color=\"primary\" onClick={() => handleUpdate(id, name)}>\n                  Edit\n                </Button>{' '}\n                <Button onClick={() => handleDelete(id, name)} color=\"danger\">\n                  Delete\n                </Button>\n              </td>\n            </tr>\n          );\n        })}\n      </tbody>\n    </Table>\n  );\n};\n\nPlatoonTable.propTypes = {\n  platoons: PropTypes.instanceOf(List).isRequired,\n  handleUpdate: PropTypes.func.isRequired,\n  handleDelete: PropTypes.func.isRequired\n};\n\nexport default memo(PlatoonTable);\n","import React, { memo } from 'react';\nimport { Container, Col, Row, Button, Alert, Spinner } from 'reactstrap';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Helmet } from 'react-helmet';\nimport { getPlatoons } from './selectors';\n\nimport Layout from '../shared/AppLayout';\nimport PlatoonsTable from '../../components/platoons/PlatoonsTable';\n\nimport { addPlatoon, deletePlatoon, updatePlatoon } from './actions';\nimport useReduxPageSelector from '../../hooks/useReduxPageSelector';\nimport useUpdateModal from '../../hooks/useUpdateModal';\nimport useDeleteModal from '../../hooks/useDeleteModal';\nimport useAddModal from '../../hooks/useAddModal';\n\nexport function Platoons() {\n  const dispatch = useDispatch();\n  const platoons = useSelector(getPlatoons);\n  const errors = useReduxPageSelector('platoons', 'errors');\n  const actionInProgress = useReduxPageSelector('platoons', 'actionInProgress');\n  const handleAdd = useAddModal(dispatch, addPlatoon, 'platoon');\n  const handleUpdate = useUpdateModal(dispatch, updatePlatoon, 'platoon');\n  const handleDelete = useDeleteModal(dispatch, deletePlatoon);\n\n  return (\n    <Layout>\n      <Helmet>\n        <title>Platoons</title>\n      </Helmet>\n      <Container className=\"py-2\">\n        {errors.size > 0 && (\n          <Row>\n            <Col>\n              <Alert color=\"danger\" className=\"w-100\">\n                {errors.map(error => {\n                  return (\n                    <p className=\"mb-0\" key={error}>\n                      {error}\n                    </p>\n                  );\n                })}\n              </Alert>\n            </Col>\n          </Row>\n        )}\n        {actionInProgress !== 0 && (\n          <Row>\n            <Col>\n              <Alert color=\"primary\" className=\"w-100\">\n                {actionInProgress} action(s) in progress{' '}\n                <Spinner color=\"primary\" size=\"sm\" />\n              </Alert>\n            </Col>\n          </Row>\n        )}\n        <Row className=\"justify-content-center align-items-center\">\n          <Col xs=\"9\">\n            <h1>Platoons</h1>\n          </Col>\n          <Col xs=\"3\" className=\"d-flex justify-content-end\">\n            <Button color=\"success\" size=\"md\" onClick={handleAdd}>\n              Add\n            </Button>\n          </Col>\n        </Row>\n        <Row>\n          <Col>\n            <PlatoonsTable\n              platoons={platoons}\n              handleUpdate={handleUpdate}\n              handleDelete={handleDelete}\n            />\n          </Col>\n        </Row>\n      </Container>\n    </Layout>\n  );\n}\n\nexport default memo(Platoons);\n","export { default } from './Platoons';\n"],"sourceRoot":""}