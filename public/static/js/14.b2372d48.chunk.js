(this.webpackJsonpfrontend_duty=this.webpackJsonpfrontend_duty||[]).push([[14],{313:function(e,t,a){"use strict";a.r(t);var n=a(21),l=a(22),r=a(49),o=a(48),s=a(50),c=a(1),u=a.n(c),d=a(272),m=a(307),i=a(271),g=a(273),E=a(274),h=a(130),f=a(43),p=a(278),C=a(96),w=a(303),M=function(e){var t=e.statuses,a=e.toggle,n=e.modes;return u.a.createElement(w.a,{striped:!0,responsive:!0},u.a.createElement("thead",null,u.a.createElement("tr",null,u.a.createElement("th",{style:{width:"50%"},className:"text-center"},"Name"),u.a.createElement("th",{className:"text-center"},"Actions"))),u.a.createElement("tbody",null,t.map((function(e){return u.a.createElement("tr",{key:e._id},u.a.createElement("td",{className:"text-center"},e.name),u.a.createElement("td",{className:"text-center"},u.a.createElement(h.a,{color:"primary",onClick:function(){return a(n.UPDATE,e._id)}},"Edit")," ",u.a.createElement(h.a,{onClick:function(){return a(n.DELETE,e._id)},color:"danger"},"Delete")))}))))},v=a(317),N=a(304),D=a(305),y=a(284),T=a(285),A=a(286),S=a(306),k=function(e){var t=e.onCancel,a=e.onSave,n=e.onToggle,l=e.showModal,r=e.onChangeText,o=e.status;return u.a.createElement(v.a,{isOpen:l,toggle:function(){return n()}},u.a.createElement(N.a,{toggle:function(){return n()}},"Updating for ",o),u.a.createElement(D.a,null,u.a.createElement(y.a,null,u.a.createElement(T.a,{for:"statusName"},"New name for ",o),u.a.createElement(A.a,{type:"text",name:"statusName",id:"statusName",placeholder:o,onChange:r}))),u.a.createElement(S.a,null,u.a.createElement(h.a,{color:"success",onClick:a},"Save"),u.a.createElement(h.a,{color:"secondary",onClick:function(){return t()}},"Cancel")))},x=function(e){var t=e.onCancel,a=e.onDelete,n=e.onToggle,l=e.showModal,r=e.status;return u.a.createElement(v.a,{isOpen:l,toggle:function(){return n()}},u.a.createElement(N.a,{toggle:function(){return n()}},"Action is irreversible!"),u.a.createElement(D.a,null,u.a.createElement("p",null,"Are you sure you want to delete ",r.name,"?")),u.a.createElement(S.a,null,u.a.createElement(h.a,{color:"danger",onClick:a},"Delete"),u.a.createElement(h.a,{color:"secondary",onClick:function(){return t()}},"Cancel")))},b=function(e){var t=e.onCancel,a=e.onSave,n=e.onToggle,l=e.showModal,r=e.onChangeText;return u.a.createElement(v.a,{isOpen:l,toggle:function(){return n()}},u.a.createElement(N.a,{toggle:function(){return n()}},"Adding New Status!"),u.a.createElement(D.a,null,u.a.createElement(y.a,null,u.a.createElement(T.a,{for:"statusName"},"New status"),u.a.createElement(A.a,{type:"text",name:"statusName",id:"statusName",onChange:r}))),u.a.createElement(S.a,null,u.a.createElement(h.a,{color:"success",onClick:a},"Add"),u.a.createElement(h.a,{color:"secondary",onClick:function(){return t()}},"Cancel")))},O=a(30),j={UPDATE:"UPDATE",DELETE:"DELETE",ADD:"ADD"},I=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(o.a)(t).call(this,e))).handleUpdate=function(){var e=a.props.updateStatus,t=a.state;e(t.selectedId,t.newName),a.toggleModal()},a.handleDelete=function(){(0,a.props.deleteStatus)(a.state.selectedId),a.toggleModal()},a.handleAdd=function(){(0,a.props.addStatus)(a.state.newName),a.toggleModal()},a.handleChange=function(e){var t=e.target.value;a.setState({newName:t})},a.toggleModal=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;a.setState((function(a){return{showModal:!a.showModal,selectedId:t,mode:e,newName:""}}))},a.showErrors=function(){var e=a.props.errors;return u.a.createElement(d.a,null,e.map((function(e){return u.a.createElement(m.a,{key:e,color:"danger",className:"w-100"},e)})))},a.getModal=function(){var e=null,t=a.state,n=t.showModal,l=t.selectedId,r=t.mode,o=a.props.statuses;return r===j.UPDATE?e=u.a.createElement(k,{status:o[l].name,onCancel:a.toggleModal,onToggle:a.toggleModal,onChangeText:a.handleChange,showModal:n,onSave:a.handleUpdate}):r===j.DELETE?e=u.a.createElement(x,{status:o[l],onCancel:a.toggleModal,onToggle:a.toggleModal,onDelete:a.handleDelete,showModal:n}):r===j.ADD&&(e=u.a.createElement(b,{onCancel:a.toggleModal,onToggle:a.toggleModal,onSave:a.handleAdd,onChangeText:a.handleChange,showModal:n})),e},a.state={selectedId:null,showModal:!1,mode:null,newName:""},a}return Object(s.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.ids,n=t.statuses,l=t.errors,r=t.actionInProgress,o=this.getModal(),s=a.map((function(e){return n[e]}));return u.a.createElement(C.a,null,u.a.createElement(p.Helmet,null,u.a.createElement("title",null,"Statuses")),u.a.createElement(i.a,null,o,l.length>0&&this.showErrors(),r&&u.a.createElement(d.a,null,u.a.createElement(m.a,{color:"primary",className:"w-100"},"Action in progress ",u.a.createElement(g.a,{color:"primary",size:"sm"}))),u.a.createElement(d.a,{className:"my-2 d-flex justify-content-center align-items-center"},u.a.createElement(E.a,{xs:"9"},u.a.createElement("h1",null,"Statuses")),u.a.createElement(E.a,{xs:"3",className:"d-flex justify-content-end"},u.a.createElement(h.a,{color:"success",size:"md",onClick:function(){return e.toggleModal(j.ADD)}},"Add"))),u.a.createElement(d.a,null,u.a.createElement(E.a,{md:"12"},u.a.createElement(M,{modes:j,statuses:s,toggle:this.toggleModal})))))}}]),t}(c.PureComponent),P={addStatus:O.a,deleteStatus:O.d,updateStatus:O.g},U=Object(f.b)((function(e){return{ids:e.statuses.get("ids"),statuses:e.statuses.get("statuses"),errors:e.pages.statuses.get("errors"),actionInProgress:e.pages.statuses.get("actionInProgress")}}),P)(I);a.d(t,"default",(function(){return U}))}}]);
//# sourceMappingURL=14.b2372d48.chunk.js.map