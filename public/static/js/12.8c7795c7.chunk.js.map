{"version":3,"sources":["hooks/useReduxPageSelector.js","hooks/useDeleteModal.js","hooks/useUpdateModal.js","hooks/useAddModal.js","pages/points/selectors.js","components/points/SinglePoint.jsx","components/points/PointsTable.jsx","pages/points/Points.jsx","pages/points/index.js"],"names":["useReduxPageSelector","pages","selector","useSelector","storeState","get","reduce","storePages","page","Map","useUpdateModal","dispatch","deleteFunc","useCallback","id","name","a","async","Swal","fire","title","text","icon","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","reverseButtons","value","updateFunc","category","input","inputValue","inputPlaceholder","cancelButtonText","inputValidator","result","showModal","addFunc","getPoints","createSelector","state","points","ids","byPointIds","map","memo","point","handleUpdate","handleDelete","updatePoint","deletePoint","className","Button","color","onClick","Table","striped","responsive","style","width","key","useDispatch","errors","actionInProgress","handleAdd","useAddModal","addPoint","useDeleteModal","Helmet","Container","size","Row","Col","Alert","error","Spinner","xs","md","PointsTable"],"mappings":"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","file":"static/js/12.8c7795c7.chunk.js","sourcesContent":["import { useSelector } from 'react-redux';\nimport { Map } from 'immutable';\n\nfunction useReduxPageSelector(pages, selector) {\n  const state = useSelector(storeState => {\n    if (typeof pages === 'string') {\n      return storeState.pages[pages].get(selector);\n    }\n    const foundPage = pages.reduce((storePages, page) => {\n      if (storePages && storePages[page] !== 'undefined') {\n        return storePages[page];\n      }\n      return Map();\n    }, storeState.pages);\n\n    return foundPage.get(selector);\n  });\n\n  return state;\n}\n\nexport default useReduxPageSelector;\n","import { useCallback } from 'react';\nimport Swal from 'sweetalert2';\n\nfunction useUpdateModal(dispatch, deleteFunc) {\n  const deleteCallBackModal = useCallback(\n    (id, name) => {\n      async function showModal() {\n        const result = await Swal.fire({\n          title: `Are you sure you want to delete ${name}?`,\n          text: \"You won't be able to revert this!\",\n          icon: 'warning',\n          showCancelButton: true,\n          confirmButtonColor: '#dc3545',\n          cancelButtonColor: '#3085d6',\n          confirmButtonText: 'Yes, delete it!',\n          reverseButtons: true\n        });\n        if (result.value) {\n          dispatch(deleteFunc(id));\n        }\n      }\n      showModal();\n    },\n    [deleteFunc, dispatch]\n  );\n  return deleteCallBackModal;\n}\n\nexport default useUpdateModal;\n","import { useCallback } from 'react';\nimport Swal from 'sweetalert2';\n\nfunction useUpdateModal(dispatch, updateFunc, category) {\n  const updateCallBackModal = useCallback(\n    (id, name) => {\n      async function showModal() {\n        const result = await Swal.fire({\n          title: `Enter a new ${category} name for ${name}`,\n          input: 'text',\n          inputValue: '',\n          inputPlaceholder: name,\n          showCancelButton: true,\n          confirmButtonText: 'Update',\n          confirmButtonColor: '#28a745',\n          cancelButtonText: 'Cancel',\n          cancelButtonColor: '#007bff',\n          reverseButtons: true,\n          inputValidator: value => {\n            if (!value) {\n              return `Updating a ${category} name cannot be empty`;\n            }\n            return null;\n          }\n        });\n        if (result.value) {\n          dispatch(updateFunc(id, result.value));\n        }\n      }\n      showModal();\n    },\n    [category, dispatch, updateFunc]\n  );\n  return updateCallBackModal;\n}\n\nexport default useUpdateModal;\n","import { useCallback } from 'react';\nimport Swal from 'sweetalert2';\n\nfunction useUpdateModal(dispatch, addFunc, category) {\n  const deleteCallBackModal = useCallback(() => {\n    async function showModal() {\n      const result = await Swal.fire({\n        title: `Enter a new ${category} name`,\n        input: 'text',\n        inputValue: '',\n        showCancelButton: true,\n        confirmButtonText: 'Add',\n        confirmButtonColor: '#28a745',\n        cancelButtonText: 'Cancel',\n        cancelButtonColor: '#007bff',\n        reverseButtons: true,\n        inputValidator: value => {\n          if (!value) {\n            return 'Name cannot be empty';\n          }\n          return null;\n        }\n      });\n      if (result.value) {\n        dispatch(addFunc(result.value));\n      }\n    }\n    showModal();\n  }, [addFunc, category, dispatch]);\n\n  return deleteCallBackModal;\n}\n\nexport default useUpdateModal;\n","import { createSelector } from 'reselect';\n\nconst pointIds = state => state.points.get('ids');\nconst allPoints = state => state.points.get('points');\nconst getPoints = createSelector(pointIds, allPoints, (ids, byPointIds) =>\n  ids.map(id => byPointIds.get(id))\n);\n\nexport { getPoints };\n\nexport default getPoints;\n","import React, { memo, useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport { Button } from 'reactstrap';\nimport { Map } from 'immutable';\n\nfunction SinglePoint({ point, handleUpdate, handleDelete }) {\n  const name = point.get('name');\n  const id = point.get('_id');\n\n  const updatePoint = useCallback(() => {\n    handleUpdate(id, name);\n  }, [handleUpdate, id, name]);\n\n  const deletePoint = useCallback(() => {\n    handleDelete(id, name);\n  }, [handleDelete, id, name]);\n\n  return (\n    <tr>\n      <td className=\"text-center\">{name}</td>\n      <td className=\"text-center\">\n        <Button color=\"primary\" onClick={updatePoint}>\n          Edit\n        </Button>{' '}\n        <Button onClick={deletePoint} color=\"danger\">\n          Delete\n        </Button>\n      </td>\n    </tr>\n  );\n}\n\nSinglePoint.propTypes = {\n  point: PropTypes.instanceOf(Map).isRequired,\n  handleUpdate: PropTypes.func.isRequired,\n  handleDelete: PropTypes.func.isRequired\n};\n\nexport default memo(SinglePoint);\n","import React, { memo } from 'react';\nimport { Table } from 'reactstrap';\nimport PropTypes from 'prop-types';\nimport { List } from 'immutable';\nimport SinglePoint from './SinglePoint';\n\nconst PointTable = ({ points, handleUpdate, handleDelete }) => {\n  return (\n    <Table striped responsive>\n      <thead>\n        <tr>\n          <th className=\"text-center\" style={{ width: '50%' }}>\n            Name\n          </th>\n          <th className=\"text-center\">Actions</th>\n        </tr>\n      </thead>\n      <tbody>\n        {points.map(point => {\n          return (\n            <SinglePoint\n              key={point.get('_id')}\n              point={point}\n              handleUpdate={handleUpdate}\n              handleDelete={handleDelete}\n            />\n          );\n        })}\n      </tbody>\n    </Table>\n  );\n};\n\nPointTable.propTypes = {\n  points: PropTypes.instanceOf(List).isRequired,\n  handleDelete: PropTypes.func.isRequired,\n  handleUpdate: PropTypes.func.isRequired\n};\n\nexport default memo(PointTable);\n","import React, { memo } from 'react';\nimport { Container, Col, Row, Button, Alert, Spinner } from 'reactstrap';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { Helmet } from 'react-helmet';\n\nimport { addPoint, deletePoint, updatePoint } from './actions';\nimport { getPoints } from './selectors';\n\nimport Layout from '../shared/AppLayout';\nimport PointsTable from '../../components/points/PointsTable';\nimport useReduxPageSelector from '../../hooks/useReduxPageSelector';\nimport useUpdateModal from '../../hooks/useUpdateModal';\nimport useAddModal from '../../hooks/useAddModal';\nimport useDeleteModal from '../../hooks/useDeleteModal';\n\nexport function Points() {\n  const dispatch = useDispatch();\n  const points = useSelector(getPoints);\n  const errors = useReduxPageSelector('points', 'errors');\n  const actionInProgress = useReduxPageSelector('points', 'actionInProgress');\n  const handleAdd = useAddModal(dispatch, addPoint, 'point system');\n  const handleUpdate = useUpdateModal(dispatch, updatePoint, 'point system');\n  const handleDelete = useDeleteModal(dispatch, deletePoint);\n\n  return (\n    <Layout>\n      <Helmet>\n        <title>Points System</title>\n      </Helmet>\n      <Container className=\"py-2\">\n        {errors.size > 0 && (\n          <Row>\n            <Col>\n              <Alert color=\"danger\" className=\"w-100\">\n                {errors.map(error => {\n                  return (\n                    <p className=\"mb-0\" key={error}>\n                      {error}\n                    </p>\n                  );\n                })}\n              </Alert>\n            </Col>\n          </Row>\n        )}\n        {actionInProgress !== 0 && (\n          <Row>\n            <Col>\n              <Alert color=\"primary\" className=\"w-100\">\n                {actionInProgress} action(s) in progress{' '}\n                <Spinner color=\"primary\" size=\"sm\" />\n              </Alert>\n            </Col>\n          </Row>\n        )}\n        <Row className=\"justify-content-center align-items-center\">\n          <Col xs=\"9\">\n            <h1>Points System</h1>\n          </Col>\n          <Col xs=\"3\" className=\"d-flex justify-content-end\">\n            <Button color=\"success\" size=\"md\" onClick={handleAdd}>\n              Add\n            </Button>\n          </Col>\n        </Row>\n        <Row>\n          <Col md=\"12\">\n            <PointsTable\n              handleDelete={handleDelete}\n              handleUpdate={handleUpdate}\n              points={points}\n            />\n          </Col>\n        </Row>\n      </Container>\n    </Layout>\n  );\n}\n\nexport default memo(Points);\n","export { default } from './Points';\n"],"sourceRoot":""}