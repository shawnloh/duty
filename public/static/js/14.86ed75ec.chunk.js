(this.webpackJsonpfrontend_duty=this.webpackJsonpfrontend_duty||[]).push([[14],{368:function(e,t,n){"use strict";n.r(t);var a=n(21),l=n(22),o=n(50),r=n(49),c=n(51),s=n(1),i=n.n(s),d=n(274),m=n(360),u=n(273),g=n(275),E=n(276),p=n(132),h=n(44),f=n(283),C=n(98),w=n(356),y=function(e){var t=e.points,n=e.toggle,a=e.modes;return i.a.createElement(w.a,{striped:!0,responsive:!0},i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",{className:"text-center",style:{width:"50%"}},"Name"),i.a.createElement("th",{className:"text-center"},"Actions"))),i.a.createElement("tbody",null,t.map((function(e){return i.a.createElement("tr",{key:e._id},i.a.createElement("td",{className:"text-center"},e.name),i.a.createElement("td",{className:"text-center"},i.a.createElement(p.a,{color:"primary",onClick:function(){return n(a.UPDATE,e._id)}},"Edit")," ",i.a.createElement(p.a,{onClick:function(){return n(a.DELETE,e._id)},color:"danger"},"Delete")))}))))},M=n(373),v=n(357),N=n(358),D=n(338),T=n(339),A=n(340),P=n(359),k=function(e){var t=e.onCancel,n=e.onSave,a=e.onToggle,l=e.showModal,o=e.onChangeText,r=e.point;return i.a.createElement(M.a,{isOpen:l,toggle:function(){return a()}},i.a.createElement(v.a,{toggle:function(){return a()}},"Updating for ",r," point system"),i.a.createElement(N.a,null,i.a.createElement(D.a,null,i.a.createElement(T.a,{for:"pointName"},"New name for ",r),i.a.createElement(A.a,{type:"text",name:"pointName",id:"pointName",placeholder:r,onChange:o}))),i.a.createElement(P.a,null,i.a.createElement(p.a,{color:"success",onClick:n},"Save"),i.a.createElement(p.a,{color:"secondary",onClick:function(){return t()}},"Cancel")))},x=function(e){var t=e.onCancel,n=e.onDelete,a=e.onToggle,l=e.showModal,o=e.point;return i.a.createElement(M.a,{isOpen:l,toggle:function(){return a()}},i.a.createElement(v.a,{toggle:function(){return a()}},"Action is irreversible!"),i.a.createElement(N.a,null,i.a.createElement("p",null,"Are you sure you want to delete ",o.name,"?")),i.a.createElement(P.a,null,i.a.createElement(p.a,{color:"danger",onClick:n},"Delete"),i.a.createElement(p.a,{color:"secondary",onClick:function(){return t()}},"Cancel")))},b=function(e){var t=e.onCancel,n=e.onSave,a=e.onToggle,l=e.showModal,o=e.onChangeText;return i.a.createElement(M.a,{isOpen:l,toggle:function(){return a()}},i.a.createElement(v.a,{toggle:function(){return a()}},"Adding New Point System!"),i.a.createElement(N.a,null,i.a.createElement(D.a,null,i.a.createElement(T.a,{for:"pointName"},"New point system"),i.a.createElement(A.a,{type:"text",name:"pointName",id:"pointName",onChange:o}))),i.a.createElement(P.a,null,i.a.createElement(p.a,{color:"success",onClick:n},"Add"),i.a.createElement(p.a,{color:"secondary",onClick:function(){return t()}},"Cancel")))},O=n(27),S={UPDATE:"UPDATE",DELETE:"DELETE",ADD:"ADD"},j=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(o.a)(this,Object(r.a)(t).call(this,e))).handleUpdate=function(){var e=n.props.updatePoint,t=n.state;e(t.selectedId,t.newName),n.toggleModal()},n.handleDelete=function(){(0,n.props.deletePoint)(n.state.selectedId),n.toggleModal()},n.handleAdd=function(){(0,n.props.addPoint)(n.state.newName),n.toggleModal()},n.handleChange=function(e){var t=e.target.value;n.setState({newName:t})},n.toggleModal=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;n.setState((function(n){return{showModal:!n.showModal,selectedId:t,mode:e,newName:""}}))},n.showErrors=function(){var e=n.props.errors;return i.a.createElement(d.a,null,e.map((function(e){return i.a.createElement(m.a,{key:e,color:"danger",className:"w-100"},e)})))},n.getModal=function(){var e=n.props.points,t=n.state,a=t.showModal,l=t.selectedId,o=t.mode,r=null;return o===S.UPDATE?r=i.a.createElement(k,{point:e[l].name,onCancel:n.toggleModal,onToggle:n.toggleModal,onChangeText:n.handleChange,showModal:a,onSave:n.handleUpdate}):o===S.DELETE?r=i.a.createElement(x,{point:e[l],onCancel:n.toggleModal,onToggle:n.toggleModal,onDelete:n.handleDelete,showModal:a}):o===S.ADD&&(r=i.a.createElement(b,{onCancel:n.toggleModal,onToggle:n.toggleModal,onSave:n.handleAdd,onChangeText:n.handleChange,showModal:a})),r},n.state={selectedId:null,showModal:!1,mode:null,newName:""},n}return Object(c.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.ids,a=t.points,l=t.errors,o=t.actionInProgress,r=this.getModal(),c=n.map((function(e){return a[e]}));return i.a.createElement(C.a,null,i.a.createElement(f.Helmet,null,i.a.createElement("title",null,"Points")),i.a.createElement(u.a,null,r,l.length>0&&this.showErrors(),o&&i.a.createElement(d.a,null,i.a.createElement(m.a,{color:"primary",className:"w-100"},"Action in progress ",i.a.createElement(g.a,{color:"primary",size:"sm"}))),i.a.createElement(d.a,{className:"my-2 d-flex justify-content-center align-items-center"},i.a.createElement(E.a,{xs:"9"},i.a.createElement("h1",null,"Points System")),i.a.createElement(E.a,{xs:"3",className:"d-flex justify-content-end"},i.a.createElement(p.a,{color:"success",size:"md",onClick:function(){return e.toggleModal(S.ADD)}},"Add"))),i.a.createElement(d.a,null,i.a.createElement(E.a,{md:"12"},i.a.createElement(y,{modes:S,points:c,toggle:this.toggleModal})))))}}]),t}(s.PureComponent),I={addPoint:O.a,deletePoint:O.d,updatePoint:O.g},U=Object(h.b)((function(e){return{ids:e.points.get("ids"),points:e.points.get("points"),errors:e.pages.points.get("errors"),actionInProgress:e.pages.points.get("actionInProgress")}}),I)(j);n.d(t,"default",(function(){return U}))}}]);
//# sourceMappingURL=14.86ed75ec.chunk.js.map