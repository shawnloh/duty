(this.webpackJsonpfrontend_duty=this.webpackJsonpfrontend_duty||[]).push([[12],{527:function(e,t,a){"use strict";a.r(t);var n=a(21),r=a(22),l=a(49),s=a(48),c=a(50),o=a(1),u=a.n(o),m=a(53),i=a(96),d=a(272),p=a(519),E=a(271),g=a(273),h=a(274),f=a(131),b=a(281),v=a.n(b),D=a(43),y=a(41),k=a(515),j=function(e){var t=e.personnels,a=e.onDelete;return u.a.createElement(k.a,{striped:!0,responsive:!0},u.a.createElement("thead",null,u.a.createElement("tr",null,u.a.createElement("th",{className:"text-center",style:{width:"50%"}},"Name"),u.a.createElement("th",{className:"text-center"},"Actions"))),u.a.createElement("tbody",null,t.map((function(e){var t=e.rank.name,n=e.platoon.name,r=e.name,l=e._id;return u.a.createElement("tr",{key:e._id},u.a.createElement("td",{className:"text-center"},"".concat(n," ").concat(t," ").concat(r)),u.a.createElement("td",{className:"text-center"},u.a.createElement(f.a,{color:"primary",tag:y.b,to:"/personnels/".concat(l)},"Edit")," ",u.a.createElement(f.a,{color:"danger",onClick:function(){return a(l)}},"Delete")))}))))},N=a(520),O=a(521),P=a(522),C=function(e){var t=e.rowsPerPage,a=e.totalPosts,n=e.currentPage,r=e.setPage,l=Object(o.useMemo)((function(){for(var e=[],n=1;n<=Math.ceil(a/t);n+=1)e.push(n);return e}),[a,t]);return 0===l.length?null:u.a.createElement(N.a,{"aria-label":"Personnel navigation"},u.a.createElement(O.a,{disabled:1===n},u.a.createElement(P.a,{first:!0,onClick:function(){return r(1)}})),u.a.createElement(O.a,{disabled:1===n},u.a.createElement(P.a,{previous:!0,onClick:function(){return r(n-1)}})),l.map((function(e){return u.a.createElement(O.a,{active:n===e,key:e},u.a.createElement(P.a,{onClick:function(){return r(e)}},e))})),u.a.createElement(O.a,{disabled:n===l[l.length-1]},u.a.createElement(P.a,{next:!0,onClick:function(){return r(n+1)}})),u.a.createElement(O.a,{disabled:n===l[l.length-1]},u.a.createElement(P.a,{last:!0,onClick:function(){return r(l[l.length-1])}})))},I=a(5),S=a(9),M=a(2),w=a.n(M),x=a(15),T=a.n(x),A=a(6),Y={tag:A.n,size:w.a.string,className:w.a.string,cssModule:w.a.object},B=function(e){var t=e.className,a=e.cssModule,n=e.tag,r=e.size,l=Object(S.a)(e,["className","cssModule","tag","size"]),s=Object(A.j)(T()(t,"input-group",r?"input-group-"+r:null),a);return u.a.createElement(n,Object(I.a)({},l,{className:s}))};B.propTypes=Y,B.defaultProps={tag:"div"};var F=B,_=a(373),q={tag:A.n,className:w.a.string,cssModule:w.a.object},z=function(e){var t=e.className,a=e.cssModule,n=e.tag,r=Object(S.a)(e,["className","cssModule","tag"]),l=Object(A.j)(T()(t,"input-group-text"),a);return u.a.createElement(n,Object(I.a)({},r,{className:l}))};z.propTypes=q,z.defaultProps={tag:"span"};var R=z,L={tag:A.n,addonType:w.a.oneOf(["prepend","append"]).isRequired,children:w.a.node,className:w.a.string,cssModule:w.a.object},V=function(e){var t=e.className,a=e.cssModule,n=e.tag,r=e.addonType,l=e.children,s=Object(S.a)(e,["className","cssModule","tag","addonType","children"]),c=Object(A.j)(T()(t,"input-group-"+r),a);return"string"===typeof l?u.a.createElement(n,Object(I.a)({},s,{className:c}),u.a.createElement(R,{children:l})):u.a.createElement(n,Object(I.a)({},s,{className:c,children:l}))};V.propTypes=L,V.defaultProps={tag:"div"};var U=V,J=function(e){var t=e.search,a=e.onChange,n=e.onClear;return u.a.createElement(F,null,u.a.createElement(_.a,{placeholder:"search...",value:t,onChange:a}),""!==t&&u.a.createElement(U,{addonType:"append"},u.a.createElement(f.a,{color:"primary",onClick:n},"Clear")))},H=a(536),G=a(516),K=a(517),Q=a(518),W=function(e){var t=e.onCancel,a=e.onDelete,n=e.onToggle,r=e.showModal,l=e.person;return u.a.createElement(H.a,{isOpen:r,toggle:function(){return n()}},u.a.createElement(G.a,{toggle:function(){return n()}},"Action is irreversible!"),u.a.createElement(K.a,null,u.a.createElement("p",null,"Are you sure you want to delete ",l.name,"?")),u.a.createElement(Q.a,null,u.a.createElement(f.a,{color:"danger",onClick:a},"Delete"),u.a.createElement(f.a,{color:"secondary",onClick:function(){return t()}},"Cancel")))},X=a(58),Z=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(l.a)(this,Object(s.a)(t).call(this,e))).showErrors=function(){var e=a.props.errors;return u.a.createElement(d.a,null,e.map((function(e){return u.a.createElement(p.a,{key:e,color:"danger",className:"w-100"},e)})))},a.onChangeSearch=function(e){a.setState({search:e.target.value,page:1})},a.setPage=function(e){a.setState({page:e})},a.clearSearch=function(){a.setState({search:""})},a.getPersonnels=function(){var e=a.props,t=e.ids,n=e.personnels,r=a.state,l=r.rowsPerPage,s=r.page,c=r.search,o=s*l,u=o-l;if(""===c)return{shownPersonnels:t.slice(u,o).map((function(e){return n[e]})),ids:t};var m=t.filter((function(e){var t=n[e].name.toLowerCase(),a=n[e].platoon.name.toLowerCase(),r=n[e].rank.name.toLowerCase(),l=c.toLowerCase();return t.indexOf(l)>-1||a.indexOf(l)>-1||r.indexOf(l)>-1}));return{shownPersonnels:m.slice(u,o).map((function(e){return n[e]})),ids:m}},a.toggleDeleteModal=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;a.setState((function(t){return{showDeleteModal:!t.showDeleteModal,selectedId:e}}))},a.handleDelete=function(){var e=a.state.selectedId;(0,a.props.removePersonnel)(e),a.toggleDeleteModal()},a.getDeleteModal=function(){var e=a.state,t=e.selectedId,n=e.showDeleteModal,r=a.props.personnels;return t?u.a.createElement(W,{onCancel:a.toggleDeleteModal,onDelete:a.handleDelete,onToggle:a.toggleDeleteModal,showModal:n,person:r[t]}):null},a.state={rowsPerPage:10,page:1,search:"",selectedId:null,showDeleteModal:!1},a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.errors,a=e.actionInProgress,n=e.match.path,r=this.state,l=r.rowsPerPage,s=r.page,c=r.search,o=this.getPersonnels(),m=o.shownPersonnels,i=o.ids,b=this.getDeleteModal();return u.a.createElement(u.a.Fragment,null,u.a.createElement(v.a,null,u.a.createElement("title",null,"Personnels"),"P"),u.a.createElement(E.a,null,b,t.length>0&&this.showErrors(),a&&u.a.createElement(d.a,null,u.a.createElement(p.a,{color:"primary",className:"w-100"},"Action in progress ",u.a.createElement(g.a,{color:"primary",size:"sm"}))),u.a.createElement(d.a,{className:"my-2 justify-content-center align-items-center"},u.a.createElement(h.a,{xs:"9"},u.a.createElement("h1",null,"Personnels")),u.a.createElement(h.a,{xs:"3",className:"d-flex justify-content-end"},u.a.createElement(f.a,{tag:y.b,to:"".concat(n,"/add"),color:"success",size:"md"},"Add"))),u.a.createElement(d.a,{className:"my-2 mx-1"},u.a.createElement(J,{onChange:this.onChangeSearch,onClear:this.clearSearch,search:c})),u.a.createElement(d.a,null,u.a.createElement(j,{personnels:m,onDelete:this.toggleDeleteModal})),u.a.createElement(d.a,{className:"justify-content-center align-items-center"},u.a.createElement(C,{rowsPerPage:l,currentPage:s,setPage:this.setPage,totalPosts:i.length}))))}}]),t}(o.PureComponent),$={removePersonnel:X.a},ee=Object(D.b)((function(e){return{ids:e.personnels.get("ids"),personnels:e.personnels.get("personnels"),errors:e.pages.personnels.all.get("errors"),actionInProgress:e.pages.personnels.all.get("actionInProgress")}}),$)(Z),te=a(524),ae=a(525),ne=a(59),re=a(370),le=a(371),se=a(372),ce=a(523),oe=a(306),ue=a(309),me=ue.object().shape({name:ue.string().required("Name is required"),rank:ue.string().required("Rank is required"),platoon:ue.string().required("Platoon is required")}),ie=function(e){var t=e.handleSubmit,a=e.ranks,n=e.rankIds,r=e.platoons,l=e.platoonIds,s=Object(oe.a)({initialValues:{name:"",rank:n[0]||"",platoon:l[0]||""},validationSchema:me,onSubmit:t});return u.a.createElement(re.a,{onSubmit:s.handleSubmit},u.a.createElement(le.a,null,u.a.createElement(se.a,{for:"nameInput"},"Name"),u.a.createElement(_.a,{type:"text",name:"name",id:"nameInput",placeholder:"John",invalid:s.touched.name&&s.errors.name&&""!==s.errors.name,value:s.values.name,onChange:s.handleChange}),s.touched.name&&s.errors.name?u.a.createElement(ce.a,null,s.errors.name):null),u.a.createElement(le.a,null,u.a.createElement(se.a,{for:"rankSelect"},"Rank"),u.a.createElement(_.a,{type:"select",name:"rank",id:"rankSelect",invalid:s.touched.rank&&s.errors.rank&&""!==s.errors.rank,onChange:s.handleChange,value:s.values.rank},n.map((function(e){return u.a.createElement("option",{value:e,key:e},a[e].name)}))),s.touched.rank&&s.errors.rank?u.a.createElement(ce.a,null,s.errors.rank):null),u.a.createElement(le.a,null,u.a.createElement(se.a,{for:"platoonSelect"},"Platoon"),u.a.createElement(_.a,{type:"select",name:"platoon",id:"platoonSelect",invalid:s.touched.platoon&&s.errors.platoon&&""!==s.errors.platoon,onChange:s.handleChange,value:s.values.platoon},l.map((function(e){return u.a.createElement("option",{value:e,key:e},r[e].name)}))),s.touched.platoon&&s.errors.platoon?u.a.createElement(ce.a,null,s.errors.platoon):null),u.a.createElement(f.a,{color:"success",className:"w-100",disabled:s.isSubmitting,type:"submit"},"Submit"))},de=function(e){var t=e.name;return u.a.createElement(p.a,{color:"primary",className:"w-100"},t," in progress ",u.a.createElement(g.a,{color:"primary",size:"sm"}))},pe=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,c=new Array(r),o=0;o<r;o++)c[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(c)))).showErrors=function(){var e=a.props.errors;return u.a.createElement(d.a,{className:"my-2 flex-column"},u.a.createElement(h.a,null,u.a.createElement(p.a,{color:"danger",className:"w-100"},e.map((function(e){return u.a.createElement("p",{key:e},e)})))))},a.handleSubmit=function(e){var t=e.name,n=e.platoon,r=e.rank;(0,a.props.createPersonnel)(t,n,r)},a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.actionInProgress,n=t.errors,r=t.history;e.actionInProgress&&!a&&0===n.length&&r.replace("/personnels")}},{key:"render",value:function(){var e=this.props,t=e.rankIds,a=e.ranks,n=e.platoonIds,r=e.platoons,l=e.actionInProgress,s=e.errors,c=e.success,o=null;return 0!==t.length&&0!==n.length||(o=u.a.createElement(p.a,{color:"danger"},u.a.createElement(y.b,{to:"/ranks"},"Rank")," / ",u.a.createElement(y.b,{to:"/platoons"},"Platoon")," is needed to create personnels")),u.a.createElement(u.a.Fragment,null,u.a.createElement(b.Helmet,null,u.a.createElement("title",null,"Add Personnel")),u.a.createElement(E.a,null,u.a.createElement(d.a,{className:"my-2 justify-content-center align-items-center"},u.a.createElement(h.a,null,u.a.createElement(te.a,{tag:"nav",listTag:"div"},u.a.createElement(ae.a,{tag:y.b,to:"/personnels"},"Personnels"),u.a.createElement(ae.a,{active:!0,tag:"span"},"Add")))),o&&u.a.createElement(d.a,{className:"my-2"},u.a.createElement(h.a,null,o)),s.length>0&&this.showErrors(),l&&u.a.createElement(d.a,{className:"my-2"},u.a.createElement(h.a,null,u.a.createElement(de,{name:"Adding"}))),c&&u.a.createElement(d.a,{className:"my-2"},u.a.createElement(h.a,null,u.a.createElement(p.a,{color:"success",className:"w-100"},"Successfully added personnel"))),u.a.createElement(d.a,null,u.a.createElement(h.a,null,u.a.createElement(ie,{handleSubmit:this.handleSubmit,platoonIds:n,platoons:r,rankIds:t,ranks:a})))))}}]),t}(o.PureComponent),Ee={createPersonnel:ne.a},ge=Object(D.b)((function(e){return{rankIds:e.ranks.get("ids"),ranks:e.ranks.get("ranks"),platoonIds:e.platoons.get("ids"),platoons:e.platoons.get("platoons"),errors:e.pages.personnels.add.get("errors"),actionInProgress:e.pages.personnels.add.get("actionInProgress"),success:e.pages.personnels.add.get("success")}}),Ee)(pe),he=a(20),fe=a(99),be=u.a.createContext({}),ve={tag:A.n,activeTab:w.a.any,className:w.a.string,cssModule:w.a.object},De=function(e){function t(t){var a;return(a=e.call(this,t)||this).state={activeTab:a.props.activeTab},a}return Object(he.a)(t,e),t.getDerivedStateFromProps=function(e,t){return t.activeTab!==e.activeTab?{activeTab:e.activeTab}:null},t.prototype.render=function(){var e=this.props,t=e.className,a=e.cssModule,n=e.tag,r=Object(A.k)(this.props,Object.keys(ve)),l=Object(A.j)(T()("tab-content",t),a);return u.a.createElement(be.Provider,{value:{activeTabId:this.state.activeTab}},u.a.createElement(n,Object(I.a)({},r,{className:l})))},t}(o.Component);Object(fe.polyfill)(De);var ye=De;De.propTypes=ve,De.defaultProps={tag:"div"};var ke={tag:A.n,className:w.a.string,cssModule:w.a.object,tabId:w.a.any};function je(e){var t=e.className,a=e.cssModule,n=e.tabId,r=e.tag,l=Object(S.a)(e,["className","cssModule","tabId","tag"]),s=function(e){return Object(A.j)(T()("tab-pane",t,{active:n===e}),a)};return u.a.createElement(be.Consumer,null,(function(e){var t=e.activeTabId;return u.a.createElement(r,Object(I.a)({},l,{className:s(t)}))}))}je.propTypes=ke,je.defaultProps={tag:"div"};var Ne=a(32),Oe=function(e){var t=e.name,a=e.rank,n=e.platoon,r=e.eventsDate;return u.a.createElement(u.a.Fragment,null,u.a.createElement(k.a,{striped:!0,responsive:!0},u.a.createElement("tbody",null,u.a.createElement("tr",null,u.a.createElement("th",{className:"text-center"},"Name:"),u.a.createElement("td",{className:"text-center"},t)),u.a.createElement("tr",null,u.a.createElement("th",{className:"text-center"},"Rank:"),u.a.createElement("td",{className:"text-center"},a.name)),u.a.createElement("tr",null,u.a.createElement("th",{className:"text-center"},"Platoon:"),u.a.createElement("td",{className:"text-center"},n.name)))),u.a.createElement(k.a,{striped:!0,responsive:!0},u.a.createElement("thead",null,u.a.createElement("tr",null,u.a.createElement("th",null,"Event Dates:"))),u.a.createElement("tbody",null,r.map((function(e){return u.a.createElement("tr",{key:e},u.a.createElement("td",{className:"text-center"},e))})))))};Oe.defaultProps={eventsDate:[]};var Pe=Oe,Ce=a(267),Ie=a(268),Se=a(269),Me=function(e){var t=e.setTab,a=e.activeTab;return u.a.createElement(Ce.a,{tabs:!0},u.a.createElement(Ie.a,null,u.a.createElement(Se.a,{className:"1"===a?"active":"",onClick:function(){t("1")}},"Info")),u.a.createElement(Ie.a,null,u.a.createElement(Se.a,{className:"2"===a?"active":"",onClick:function(){t("2")}},"Status")),u.a.createElement(Ie.a,null,u.a.createElement(Se.a,{className:"3"===a?"active":"",onClick:function(){t("3")}},"Blockout dates")))},we=a(97),xe={_id:null,name:null,startDate:null,endDate:null},Te=function(e){var t=e.statuses,a=e.onDelete,n=Object(o.useState)(!1),r=Object(we.a)(n,2),l=r[0],s=r[1],c=Object(o.useState)(xe),m=Object(we.a)(c,2),i=m[0],p=m[1],E=function(){l&&p(xe),s(!l)},g=u.a.createElement(H.a,{isOpen:l,toggle:E},u.a.createElement(G.a,{toggle:E},"Confirm delete ",i.name),u.a.createElement(K.a,null,"Deleting ",i.name,", ",i.startDate," - ",i.endDate,".",u.a.createElement("br",null),u.a.createElement("b",null,"Action is irreversible!")),u.a.createElement(Q.a,null,u.a.createElement(f.a,{color:"danger",onClick:function(){a(i._id),E()}},"Confirm Delete")," ",u.a.createElement(f.a,{color:"secondary",onClick:E},"Cancel")));return u.a.createElement(u.a.Fragment,null,g,u.a.createElement(d.a,null,u.a.createElement(h.a,null,u.a.createElement(k.a,{striped:!0,responsive:!0},u.a.createElement("thead",null,u.a.createElement("tr",null,u.a.createElement("th",null,"Status"),u.a.createElement("th",null,"Start date"),u.a.createElement("th",null,"End date"),u.a.createElement("th",null,"Actions"))),u.a.createElement("tbody",null,t.map((function(e){return u.a.createElement("tr",{key:e._id},u.a.createElement("th",null,e.statusId.name),u.a.createElement("td",null,e.startDate),u.a.createElement("td",null,e.endDate),u.a.createElement("td",null,u.a.createElement(f.a,{color:"danger",onClick:function(){p({_id:e._id,name:e.statusId.name,startDate:e.startDate,endDate:e.endDate}),E()}},"Delete")))})))))))},Ae=a(266),Ye=a(377),Be={tag:A.n,className:w.a.string,cssModule:w.a.object,innerRef:w.a.oneOfType([w.a.object,w.a.string,w.a.func])},Fe=function(e){var t=e.className,a=e.cssModule,n=e.innerRef,r=e.tag,l=Object(S.a)(e,["className","cssModule","innerRef","tag"]),s=Object(A.j)(T()(t,"card-body"),a);return u.a.createElement(r,Object(I.a)({},l,{className:s,ref:n}))};Fe.propTypes=Be,Fe.defaultProps={tag:"div"};var _e=Fe,qe=a(526),ze=a(63),Re=a.n(ze),Le=function(e){return Re()(e,"DDMMYY",!0).isValid()||"permanent"===e.toLowerCase()},Ve=function(e){var t=e.handleAdd,a=e.statuses,n=e.statusIds,r=Re()().tz("Asia/Singapore").format("DDMMYY"),l=Object(o.useState)(!1),s=Object(we.a)(l,2),c=s[0],m=s[1],i=Object(o.useState)(n[0]||""),p=Object(we.a)(i,2),E=p[0],g=p[1],h=Object(o.useState)(r),b=Object(we.a)(h,2),v=b[0],D=b[1],y=Object(o.useState)(r),k=Object(we.a)(y,2),j=k[0],N=k[1],O=function(){m(!c),g(n[0]||""),D(r),N(r)};return u.a.createElement(u.a.Fragment,null,u.a.createElement(d.a,{className:"flex-column justify-content-end align-items-end my-2 mx-2"},u.a.createElement(f.a,{className:"my-2",color:"primary",onClick:O},"Add Status"),u.a.createElement(Ae.a,{isOpen:c,className:"w-100"},u.a.createElement(Ye.a,null,u.a.createElement(_e,null,u.a.createElement(re.a,null,u.a.createElement(le.a,null,u.a.createElement(se.a,{for:"statusSelect"},"Status"),u.a.createElement(_.a,{type:"select",value:E,name:"select",id:"statusSelect",onChange:function(e){return g(e.target.value)}},n.map((function(e){return u.a.createElement("option",{value:e,key:e},a[e].name)})))),u.a.createElement(le.a,null,u.a.createElement(se.a,{for:"startDateInput"},"Start date"),u.a.createElement(_.a,{type:"text",value:v,name:"startDate",id:"startDateInput",invalid:!Le(v),onChange:function(e){return D(e.target.value)}})),u.a.createElement(le.a,null,u.a.createElement(se.a,{for:"endDateInput"},"End date"),u.a.createElement(_.a,{type:"text",value:j,name:"endDate",id:"endDateInput",invalid:!Le(j),onChange:function(e){return N(e.target.value)}}),u.a.createElement(qe.a,{color:"muted"},"Dates must be in DDMMYY format, it will be automatically be converted to DD-MM-YYYY"),u.a.createElement(qe.a,{color:"muted"},"If permanent, please indicate permanent in end date")),u.a.createElement(f.a,{color:"success",className:"w-100",onClick:function(e){e&&e.preventDefault(),t({statusId:E,startDate:v,endDate:j}),O()},disabled:!Le(v)||!Le(j)||""===E},"Add")))))))},Ue=function(e){var t={};if(e.startDate?Re()(e.startDate,"DDMMYY",!0).isValid()||(t.startDate="Date is not in a valid format"):t.startDate="Date is required",e.endDate){var a=Re()(e.endDate,"DDMMYY",!0);a.isValid()?a.isSameOrBefore(Re()(e.startDate,"DDMMYY",!0))&&(t.endDate="Until date must be after starting date"):t.endDate="Until date is not valid format"}return t},Je=function(e){var t=e.handleAdd,a=Object(o.useState)(!1),n=Object(we.a)(a,2),r=n[0],l=n[1],s=function(){l(!r)},c=Object(oe.a)({initialValues:{startDate:"",endDate:""},validate:Ue,onSubmit:function(e,a){var n=a.resetForm;t(e),n(),s()}}),m=Re()().tz("Asia/Singapore").format("DDMMYY");return u.a.createElement(u.a.Fragment,null,u.a.createElement(d.a,{className:"flex-column justify-content-end align-items-end my-2 mx-2"},u.a.createElement(f.a,{className:"my-2",color:"primary",onClick:s},"Add Blockout"),u.a.createElement(Ae.a,{isOpen:r,className:"w-100"},u.a.createElement(Ye.a,null,u.a.createElement(_e,null,u.a.createElement(re.a,{onSubmit:c.handleSubmit},u.a.createElement(le.a,null,u.a.createElement(se.a,{for:"dateInput"},"Date"),u.a.createElement(_.a,{type:"text",value:c.values.startDate,name:"startDate",id:"dateInput",placeholder:"e.g. ".concat(m),invalid:c.touched.startDate&&c.errors.startDate&&""!==c.errors.startDate,onChange:c.handleChange}),u.a.createElement(qe.a,{color:"muted"},"Date must be in DDMMYY format"),c.touched.startDate&&c.errors.startDate?u.a.createElement(ce.a,null,c.errors.startDate):null),u.a.createElement(le.a,null,u.a.createElement(se.a,{for:"untilDateInput"},"Until"),u.a.createElement(_.a,{type:"text",value:c.values.endDate,name:"endDate",id:"untilDateInput",placeholder:"e.g. ".concat(m," *OPTIONAL*"),invalid:c.touched.endDate&&c.errors.endDate&&""!==c.errors.endDate,onChange:c.handleChange}),u.a.createElement(qe.a,{color:"muted"},"This is optional, you can leave this blank if you want to add a single date"),c.touched.endDate&&c.errors.endDate?u.a.createElement(ce.a,null,c.errors.endDate):null),u.a.createElement(f.a,{color:"success",className:"w-100",type:"submit"},"Add")))))))};function He(e){var t=e.blockoutDates,a=e.handleDelete;return 0===t.length?u.a.createElement("h3",{className:"my-2"},"No blockout date for this personnel"):u.a.createElement(k.a,{striped:!0,responsive:!0},u.a.createElement("thead",null,u.a.createElement("tr",null,u.a.createElement("th",{className:"text-center"},"Blockout Dates:"),u.a.createElement("th",{className:"text-center"},"Action:"))),u.a.createElement("tbody",null,t.map((function(e){return u.a.createElement("tr",{key:e},u.a.createElement("td",{className:"text-center"},e),u.a.createElement("td",{className:"text-center"},u.a.createElement(f.a,{color:"danger",onClick:function(){return a(e)}},"Delete")))}))))}He.defaultProps={blockoutDates:[]};var Ge=He,Ke=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(l.a)(this,Object(s.a)(t).call(this,e))).setTab=function(e){e!==a.state.activeTab&&a.setState({activeTab:e})},a.handleDeleteStatus=function(e){var t=a.props;(0,t.deletePersonnelStatus)(t.match.params.personnelId,e)},a.handleAddStatus=function(e){var t=e.statusId,n=e.startDate,r=e.endDate,l=a.props,s=l.match.params.personnelId;(0,l.addPersonnelStatus)(s,t,n,r)},a.handleAddBlockoutDate=function(e){var t=e.startDate,n=e.endDate,r=a.props,l=r.match.params.personnelId,s=r.addBlockoutDate,c={startDate:t};n&&(c.endDate=n),s(l,c)},a.handleDeleteBlockoutDate=function(e){var t=a.props,n=t.match.params.personnelId;(0,t.deleteBlockoutDate)(n,e)},a.showErrors=function(){var e=a.props.errors;return u.a.createElement(d.a,{className:"my-2 flex-column"},u.a.createElement(h.a,null,u.a.createElement(p.a,{color:"danger",className:"w-100"},e.map((function(e){return u.a.createElement("p",{key:e},e)})))))},a.state={activeTab:"1"},a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.match.params.personnelId,a=e.personnels,n=e.statuses,r=e.statusIds,l=e.actionInProgress,s=e.errors,c=this.state.activeTab,o=a[t];return u.a.createElement(u.a.Fragment,null,u.a.createElement(E.a,null,u.a.createElement(d.a,{className:"my-2 justify-content-center align-items-center"},u.a.createElement(h.a,null,u.a.createElement(te.a,{tag:"nav",listTag:"div"},u.a.createElement(ae.a,{tag:y.b,to:"/personnels"},"Personnels"),u.a.createElement(ae.a,{active:!0,tag:"span"},"Details"),u.a.createElement(ae.a,{active:!0,tag:"span"},o.name)))),s.length>0&&this.showErrors(),l&&u.a.createElement(de,{name:"Action"}),u.a.createElement(d.a,{className:"my-2 align-items-center"},u.a.createElement(h.a,null,u.a.createElement("h1",null,"Details"))),u.a.createElement(d.a,null,u.a.createElement(h.a,null,u.a.createElement("p",{className:"text-danger"},"Note: Status and blockout dates that expired will be automatically removed"))),u.a.createElement(Me,{activeTab:c,setTab:this.setTab}),u.a.createElement(ye,{activeTab:c},u.a.createElement(je,{tabId:"1"},u.a.createElement(Pe,{name:o.name,rank:o.rank,platoon:o.platoon,eventsDate:o.eventsDate||["None"]})),u.a.createElement(je,{tabId:"2"},u.a.createElement(Ve,{statusIds:r,statuses:n,handleAdd:this.handleAddStatus}),u.a.createElement(Te,{onDelete:this.handleDeleteStatus,statuses:o.statuses})),u.a.createElement(je,{tabId:"3"},u.a.createElement(Je,{handleAdd:this.handleAddBlockoutDate}),u.a.createElement(Ge,{blockoutDates:o.blockOutDates,handleDelete:this.handleDeleteBlockoutDate})))))}}]),t}(o.PureComponent),Qe={addPersonnelStatus:Ne.d,deletePersonnelStatus:Ne.k,addBlockoutDate:Ne.a,deleteBlockoutDate:Ne.h},We=Object(D.b)((function(e){return{personnels:e.personnels.get("personnels"),statuses:e.statuses.get("statuses"),statusIds:e.statuses.get("ids"),actionInProgress:e.pages.personnels.single.get("actionInProgress"),errors:e.pages.personnels.single.get("errors")}}),Qe)(Ke),Xe=function(e){function t(){return Object(n.a)(this,t),Object(l.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props.match.path;return u.a.createElement(i.a,null,u.a.createElement(m.d,null,u.a.createElement(m.b,{exact:!0,path:e,component:ee}),u.a.createElement(m.b,{path:"".concat(e,"/add"),component:ge}),u.a.createElement(m.b,{path:"".concat(e,"/:personnelId"),component:We})))}}]),t}(o.PureComponent);a.d(t,"default",(function(){return Xe}))}}]);
//# sourceMappingURL=12.a27ad08d.chunk.js.map