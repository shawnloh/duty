{"version":3,"sources":["components/platoons/PlatoonsTable.jsx","components/platoons/PlatoonModalEdit.jsx","components/platoons/PlatoonModalDelete.jsx","components/platoons/PlatoonModalAdd.jsx","pages/platoons/Platoons.jsx","pages/platoons/index.js"],"names":["PlatoonTable","platoons","toggle","modes","Table","striped","responsive","className","style","width","map","platoon","key","_id","name","Button","color","onClick","UPDATE","DELETE","PlatoonModalEdit","onCancel","onSave","onToggle","showModal","onChangeText","Modal","isOpen","ModalHeader","ModalBody","FormGroup","Label","for","Input","type","id","placeholder","onChange","ModalFooter","PlatoonModalDelete","onDelete","PlatoonModalAdd","ADD","Platoons","props","handleUpdate","modifyPlatoon","updatePlatoon","state","selectedId","newName","toggleModal","handleDelete","removePlatoon","deletePlatoon","handleAdd","createPlatoon","addPlatoon","handleChange","e","target","value","setState","mode","prevState","showErrors","errors","Row","error","Alert","getModal","modal","this","ids","actionInProgress","shownPlatoons","AppLayout","Helmet","Container","length","Spinner","size","Col","xs","md","PlatoonsTable","PureComponent","mapDispatchToProps","connect","get","pages"],"mappings":"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","file":"static/js/13.8a975a6b.chunk.js","sourcesContent":["import React from 'react';\nimport { Table, Button } from 'reactstrap';\nimport PropTypes from 'prop-types';\n\nconst PlatoonTable = ({ platoons, toggle, modes }) => {\n  return (\n    <Table striped responsive>\n      <thead>\n        <tr>\n          <th className=\"text-center\" style={{ width: '50%' }}>\n            Name\n          </th>\n          <th className=\"text-center\">Actions</th>\n        </tr>\n      </thead>\n      <tbody>\n        {platoons.map(platoon => {\n          return (\n            <tr key={platoon._id}>\n              <td className=\"text-center\">{platoon.name}</td>\n              <td className=\"text-center\">\n                <Button\n                  color=\"primary\"\n                  onClick={() => toggle(modes.UPDATE, platoon._id)}\n                >\n                  Edit\n                </Button>{' '}\n                <Button\n                  onClick={() => toggle(modes.DELETE, platoon._id)}\n                  color=\"danger\"\n                >\n                  Delete\n                </Button>\n              </td>\n            </tr>\n          );\n        })}\n      </tbody>\n    </Table>\n  );\n};\n\nPlatoonTable.propTypes = {\n  platoons: PropTypes.arrayOf(\n    PropTypes.shape({\n      _id: PropTypes.string,\n      name: PropTypes.string\n    })\n  ).isRequired,\n  toggle: PropTypes.func.isRequired,\n  modes: PropTypes.shape({\n    UPDATE: PropTypes.string.isRequired,\n    DELETE: PropTypes.string.isRequired,\n    ADD: PropTypes.string.isRequired\n  }).isRequired\n};\n\nexport default PlatoonTable;\n","import React from 'react';\nimport {\n  Modal,\n  ModalHeader,\n  ModalBody,\n  ModalFooter,\n  Button,\n  FormGroup,\n  Label,\n  Input\n} from 'reactstrap';\nimport PropTypes from 'prop-types';\n\nconst PlatoonModalEdit = ({\n  onCancel,\n  onSave,\n  onToggle,\n  showModal,\n  onChangeText,\n  platoon\n}) => {\n  return (\n    <Modal isOpen={showModal} toggle={() => onToggle()}>\n      <ModalHeader toggle={() => onToggle()}>\n        Updating for {platoon}\n      </ModalHeader>\n      <ModalBody>\n        <FormGroup>\n          <Label for=\"platoonName\">New name for {platoon}</Label>\n          <Input\n            type=\"text\"\n            name=\"platoonName\"\n            id=\"platoonName\"\n            placeholder={platoon}\n            onChange={onChangeText}\n          />\n        </FormGroup>\n      </ModalBody>\n      <ModalFooter>\n        <Button color=\"success\" onClick={onSave}>\n          Save\n        </Button>\n        <Button color=\"secondary\" onClick={() => onCancel()}>\n          Cancel\n        </Button>\n      </ModalFooter>\n    </Modal>\n  );\n};\n\nPlatoonModalEdit.propTypes = {\n  onCancel: PropTypes.func.isRequired,\n  onSave: PropTypes.func.isRequired,\n  onToggle: PropTypes.func.isRequired,\n  showModal: PropTypes.bool.isRequired,\n  onChangeText: PropTypes.func.isRequired,\n  platoon: PropTypes.string.isRequired\n};\n\nexport default PlatoonModalEdit;\n","import React from 'react';\nimport { Modal, ModalHeader, ModalBody, ModalFooter, Button } from 'reactstrap';\nimport PropTypes from 'prop-types';\n\nconst PlatoonModalDelete = ({\n  onCancel,\n  onDelete,\n  onToggle,\n  showModal,\n  platoon\n}) => {\n  return (\n    <Modal isOpen={showModal} toggle={() => onToggle()}>\n      <ModalHeader toggle={() => onToggle()}>\n        Action is irreversible!\n      </ModalHeader>\n      <ModalBody>\n        <p>Are you sure you want to delete {platoon.name}?</p>\n      </ModalBody>\n      <ModalFooter>\n        <Button color=\"danger\" onClick={onDelete}>\n          Delete\n        </Button>\n        <Button color=\"secondary\" onClick={() => onCancel()}>\n          Cancel\n        </Button>\n      </ModalFooter>\n    </Modal>\n  );\n};\n\nPlatoonModalDelete.propTypes = {\n  onCancel: PropTypes.func.isRequired,\n  onDelete: PropTypes.func.isRequired,\n  onToggle: PropTypes.func.isRequired,\n  showModal: PropTypes.bool.isRequired,\n  platoon: PropTypes.shape({\n    _id: PropTypes.string.isRequired,\n    name: PropTypes.string.isRequired\n  }).isRequired\n};\n\nexport default PlatoonModalDelete;\n","import React from 'react';\nimport {\n  Modal,\n  ModalHeader,\n  ModalBody,\n  ModalFooter,\n  Button,\n  FormGroup,\n  Label,\n  Input\n} from 'reactstrap';\nimport PropTypes from 'prop-types';\n\nconst PlatoonModalAdd = ({\n  onCancel,\n  onSave,\n  onToggle,\n  showModal,\n  onChangeText\n}) => {\n  return (\n    <Modal isOpen={showModal} toggle={() => onToggle()}>\n      <ModalHeader toggle={() => onToggle()}>Adding New Platoon!</ModalHeader>\n      <ModalBody>\n        <FormGroup>\n          <Label for=\"platoonName\">New platoon</Label>\n          <Input\n            type=\"text\"\n            name=\"platoonName\"\n            id=\"platoonName\"\n            onChange={onChangeText}\n          />\n        </FormGroup>\n      </ModalBody>\n      <ModalFooter>\n        <Button color=\"success\" onClick={onSave}>\n          Add\n        </Button>\n        <Button color=\"secondary\" onClick={() => onCancel()}>\n          Cancel\n        </Button>\n      </ModalFooter>\n    </Modal>\n  );\n};\n\nPlatoonModalAdd.propTypes = {\n  onCancel: PropTypes.func.isRequired,\n  onSave: PropTypes.func.isRequired,\n  onToggle: PropTypes.func.isRequired,\n  onChangeText: PropTypes.func.isRequired,\n  showModal: PropTypes.bool.isRequired\n};\n\nexport default PlatoonModalAdd;\n","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport { Container, Col, Row, Button, Alert, Spinner } from 'reactstrap';\nimport { connect } from 'react-redux';\nimport { Helmet } from 'react-helmet';\n\nimport AppLayout from '../shared/AppLayout';\nimport PlatoonsTable from '../../components/platoons/PlatoonsTable';\nimport PlatoonModalEdit from '../../components/platoons/PlatoonModalEdit';\nimport PlatoonModalDelete from '../../components/platoons/PlatoonModalDelete';\nimport PlatoonModalAdd from '../../components/platoons/PlatoonModalAdd';\n\nimport { addPlatoon, deletePlatoon, updatePlatoon } from './actions';\n\nconst modes = {\n  UPDATE: 'UPDATE',\n  DELETE: 'DELETE',\n  ADD: 'ADD'\n};\n\nexport class Platoons extends PureComponent {\n  constructor(props) {\n    super(props);\n    this.state = {\n      selectedId: null,\n      showModal: false,\n      mode: null,\n      newName: ''\n    };\n  }\n\n  handleUpdate = () => {\n    const { updatePlatoon: modifyPlatoon } = this.props;\n    const { selectedId, newName } = this.state;\n    modifyPlatoon(selectedId, newName);\n    this.toggleModal();\n  };\n\n  handleDelete = () => {\n    const { deletePlatoon: removePlatoon } = this.props;\n    const { selectedId } = this.state;\n    removePlatoon(selectedId);\n    this.toggleModal();\n  };\n\n  handleAdd = () => {\n    const { addPlatoon: createPlatoon } = this.props;\n    const { newName } = this.state;\n    createPlatoon(newName);\n    this.toggleModal();\n  };\n\n  handleChange = e => {\n    const name = e.target.value;\n    this.setState({\n      newName: name\n    });\n  };\n\n  toggleModal = (mode = null, id = null) => {\n    this.setState(prevState => {\n      return {\n        showModal: !prevState.showModal,\n        selectedId: id,\n        mode,\n        newName: ''\n      };\n    });\n  };\n\n  showErrors = () => {\n    const { errors } = this.props;\n\n    return (\n      <Row>\n        {errors.map(error => {\n          return (\n            <Alert key={error} color=\"danger\" className=\"w-100\">\n              {error}\n            </Alert>\n          );\n        })}\n      </Row>\n    );\n  };\n\n  getModal = () => {\n    let modal = null;\n    const { showModal, selectedId, mode } = this.state;\n    const { platoons } = this.props;\n    if (mode === modes.UPDATE) {\n      modal = (\n        <PlatoonModalEdit\n          platoon={platoons[selectedId].name}\n          onCancel={this.toggleModal}\n          onToggle={this.toggleModal}\n          onChangeText={this.handleChange}\n          showModal={showModal}\n          onSave={this.handleUpdate}\n        />\n      );\n    } else if (mode === modes.DELETE) {\n      modal = (\n        <PlatoonModalDelete\n          platoon={platoons[selectedId]}\n          onCancel={this.toggleModal}\n          onToggle={this.toggleModal}\n          onDelete={this.handleDelete}\n          showModal={showModal}\n        />\n      );\n    } else if (mode === modes.ADD) {\n      modal = (\n        <PlatoonModalAdd\n          onCancel={this.toggleModal}\n          onToggle={this.toggleModal}\n          onSave={this.handleAdd}\n          onChangeText={this.handleChange}\n          showModal={showModal}\n        />\n      );\n    }\n    return modal;\n  };\n\n  render() {\n    const { ids, platoons, errors, actionInProgress } = this.props;\n    const modal = this.getModal();\n\n    const shownPlatoons = ids.map(id => {\n      return platoons[id];\n    });\n\n    return (\n      <AppLayout>\n        <Helmet>\n          <title>Platoons</title>\n        </Helmet>\n        <Container>\n          {modal}\n          {errors.length > 0 && this.showErrors()}\n          {actionInProgress && (\n            <Row>\n              <Alert color=\"primary\" className=\"w-100\">\n                Action in progress <Spinner color=\"primary\" size=\"sm\" />\n              </Alert>\n            </Row>\n          )}\n          <Row className=\"my-2 d-flex justify-content-center align-items-center\">\n            <Col xs=\"9\">\n              <h1>Platoons</h1>\n            </Col>\n            <Col xs=\"3\" className=\"d-flex justify-content-end\">\n              <Button\n                color=\"success\"\n                size=\"md\"\n                onClick={() => this.toggleModal(modes.ADD)}\n              >\n                Add\n              </Button>\n            </Col>\n          </Row>\n          <Row>\n            <Col md=\"12\">\n              <PlatoonsTable\n                modes={modes}\n                platoons={shownPlatoons}\n                toggle={this.toggleModal}\n              />\n            </Col>\n          </Row>\n        </Container>\n      </AppLayout>\n    );\n  }\n}\n\nPlatoons.propTypes = {\n  ids: PropTypes.arrayOf(PropTypes.string).isRequired,\n  platoons: PropTypes.shape({\n    id: PropTypes.string\n  }).isRequired,\n  errors: PropTypes.arrayOf(PropTypes.string).isRequired,\n  actionInProgress: PropTypes.bool.isRequired,\n  addPlatoon: PropTypes.func.isRequired,\n  deletePlatoon: PropTypes.func.isRequired,\n  updatePlatoon: PropTypes.func.isRequired\n};\n\nconst mapStateToProps = state => ({\n  ids: state.platoons.get('ids'),\n  platoons: state.platoons.get('platoons'),\n  errors: state.pages.platoons.get('errors'),\n  actionInProgress: state.pages.platoons.get('actionInProgress')\n});\n\nconst mapDispatchToProps = {\n  addPlatoon,\n  deletePlatoon,\n  updatePlatoon\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Platoons);\n","export { default } from './Platoons';\n"],"sourceRoot":""}