{"version":3,"sources":["hooks/useReduxPageSelector.js","hooks/useDeleteModal.js","components/commons/Pagination.jsx","hooks/usePrevious.js","hooks/useIsMounted.js","hooks/useSuccessModal.js","components/personnels/all/SinglePersonnel.jsx","components/personnels/all/PersonnelsTable.jsx","components/personnels/all/Search.jsx","pages/personnels/all/selectors.js","pages/personnels/all/All.jsx","pages/personnels/add/selectors.js","components/personnels/add/AddForm.jsx","components/commons/ActionAlert.jsx","pages/personnels/add/Add.jsx","pages/personnels/single/selectors.js","pages/personnels/single/hooks/useHandlePoint.js","components/personnels/single/Details.jsx","components/personnels/single/Tabs.jsx","components/personnels/single/status/SingleStatus.jsx","components/personnels/single/status/StatusTable.jsx","components/personnels/single/status/AddStatus.jsx","components/personnels/single/Status.jsx","components/personnels/single/blockout/SingleBlockout.jsx","components/personnels/single/blockout/BlockoutTable.jsx","components/personnels/single/blockout/AddBlockout.jsx","components/personnels/single/BlockoutDetails.jsx","components/personnels/single/points/SinglePoint.jsx","components/personnels/single/PointsDetails.jsx","pages/personnels/single/Single.jsx","pages/personnels/single/hooks/useHandleStatus.js","pages/personnels/single/hooks/useHandleBlockout.js","pages/personnels/edit/selectors.js","components/personnels/edit/EditForm.jsx","pages/personnels/edit/Edit.jsx","pages/personnels/Personnels.jsx","pages/personnels/index.js"],"names":["useReduxPageSelector","pages","selector","useSelector","storeState","get","reduce","storePages","page","Map","useUpdateModal","dispatch","deleteFunc","useCallback","id","name","a","async","Swal","fire","title","text","icon","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","reverseButtons","value","PaginationComponent","rowsPerPage","totalPosts","setPage","pageNumbers","useMemo","i","Math","ceil","push","handlePageClick","selected","length","aria-label","previousLabel","previousClassName","previousLinkClassName","nextLabel","nextClassName","nextLinkClassName","breakLabel","breakClassName","breakLinkClassName","pageCount","marginPagesDisplayed","pageRangeDisplayed","onPageChange","containerClassName","pageClassName","pageLinkClassName","activeClassName","activeLinkClassName","disabledClassName","usePrevious","ref","useRef","useEffect","current","useIsMounted","isMounted","useSuccessUpdatedModal","bodyText","timer","timerProgressBar","memo","person","handleDelete","rank","getIn","platoon","deletePersonnel","key","className","Button","color","tag","Link","to","onClick","personnels","onDelete","Table","striped","responsive","style","width","map","search","onChange","onClear","FormGroup","InputGroup","Input","placeholder","InputGroupAddon","addonType","getPersonnels","createSelector","state","ids","byIds","useState","setSearch","path","useRouteMatch","errors","actionInProgress","useDispatch","onChangeSearch","target","clearSearch","useDeleteModal","lastIndex","firstIndex","shownPersonnels","slice","searchInput","toLowerCase","filter","indexOf","Container","size","Row","Col","Alert","error","Spinner","xs","Pagination","getRanks","ranks","byRankIds","getPlatoons","platoons","byPlatoonIds","AddFormSchema","Yup","shape","required","handleSubmit","formik","useFormik","initialValues","has","validationSchema","onSubmit","Form","Label","for","type","invalid","touched","values","handleChange","FormFeedback","disabled","isSubmitting","history","useHistory","prevActionInProgress","replace","addPersonnel","Helmet","Breadcrumb","listTag","BreadcrumbItem","active","getStatuses","statuses","useHandleEditPoint","editFunc","personnelId","personnelPointId","newPoint","Details","eventsDate","url","date","defaultProps","List","setTab","activeTab","Nav","tabs","NavItem","NavLink","status","startDate","endDate","deleteStatus","deleteModal","html","then","checkDateValid","moment","isValid","today","tz","format","handleAdd","isOpen","setIsOpen","setStatus","setStartDate","setEndDate","toggle","Collapse","Card","CardBody","e","stat","FormText","preventDefault","statusId","personStatuses","deleteBlockout","blockoutDates","validate","isSameOrBefore","AddBlockout","isAddBlockoutOpen","setIsAddBlockoutOpen","isDeleteBlockoutOpen","setIsDeleteBlockoutOpen","tomorrow","add","toggleAdd","open","toggleDelete","addBlockoutFormik","resetForm","deleteBlockoutFormik","BlockoutDetails","dates","sortedBlockoutDate","sort","b","date1","date2","isBefore","isAfter","shownDates","currentPage","point","handleUpdate","points","handleEdit","sortedPoints","textA","String","toUpperCase","textB","useSortPoints","edit","input","inputPlaceholder","inputValidator","parseInt","personId","useParams","setActiveTab","handleDeleteStatus","personnelStatusId","useHandleDeleteStatus","handleAddStatus","addFunc","useHandleAddStatus","addStatus","handleAddBlockout","useHandleAddBlockout","addBlockout","handleDeleteBlockout","useHandleDeleteBlockout","handleEditPoint","editPersonnelPoint","TabContent","TabPane","tabId","Status","getPerson","_","EditFormSchema","isUpdating","params","prevUpdating","successModal","useSuccessModal","personToUpdate","updatePerson","exact","component","All","Add","Single","Edit"],"mappings":"gHAAA,mBAqBeA,IAlBf,SAA8BC,EAAOC,GAenC,OAdcC,aAAY,SAAAC,GACxB,MAAqB,kBAAVH,EACFG,EAAWH,MAAMA,GAAOI,IAAIH,GAEnBD,EAAMK,QAAO,SAACC,EAAYC,GAC1C,OAAID,GAAmC,cAArBA,EAAWC,GACpBD,EAAWC,GAEbC,kBACNL,EAAWH,OAEGI,IAAIH,Q,8ECaVQ,IAzBf,SAAwBC,EAAUC,GAsBhC,OArB4BC,uBAC1B,SAACC,EAAIC,GACH,EAAAC,EAAAC,OAAA,kEAAAD,EAAA,MACuBE,IAAKC,KAAK,CAC7BC,MAAM,mCAAD,OAAqCL,EAArC,KACLM,KAAM,oCACNC,KAAM,UACNC,kBAAkB,EAClBC,mBAAoB,UACpBC,kBAAmB,UACnBC,kBAAmB,kBACnBC,gBAAgB,KATpB,cAWaC,OACTjB,EAASC,EAAWE,IAZxB,uCAiBF,CAACF,EAAYD,M,iCCvBjB,6CA0DekB,IArDa,SAAC,GAA0C,IAAxCC,EAAuC,EAAvCA,YAAaC,EAA0B,EAA1BA,WAAYC,EAAc,EAAdA,QAChDC,EAAcC,mBAAQ,WAE1B,IADA,IAAM1B,EAAO,GACJ2B,EAAI,EAAGA,GAAKC,KAAKC,KAAKN,EAAaD,GAAcK,GAAK,EAC7D3B,EAAK8B,KAAKH,GAEZ,OAAO3B,IACN,CAACuB,EAAYD,IACVS,EAAkB1B,uBACtB,YAAmB,IAAhB2B,EAAe,EAAfA,SAEDR,EADmBQ,EAAW,KAGhC,CAACR,IAGH,OAA2B,IAAvBC,EAAYQ,OACP,KAIP,yBAAKC,aAAW,mBACd,kBAAC,IAAD,CACEC,cAAc,OACdC,kBAAkB,YAClBC,sBAAsB,YACtBC,UAAU,OACVC,cAAc,YACdC,kBAAkB,YAClBC,WAAW,MACXC,eAAe,YACfC,mBAAmB,YACnBC,UAAWnB,EAAYQ,OACvBY,qBAAsB,EACtBC,mBAAoB,EACpBC,aAAchB,EACdiB,mBAAmB,oCACnBC,cAAc,YACdC,kBAAkB,YAClBC,gBAAgB,mBAChBC,oBAAoB,mBACpBC,kBAAkB,0B,uDC9C1B,WAWeC,IATf,SAAqBlC,GACnB,IAAMmC,EAAMC,mBAKZ,OAJAC,qBAAU,WACRF,EAAIG,QAAUtC,KAGTmC,EAAIG,U,iCCRb,WAYeC,IAVf,WACE,IAAMC,EAAYJ,kBAAO,GAMzB,OALAC,qBAAU,WACR,OAAO,WACLG,EAAUF,SAAU,KAErB,IACIE,I,iCCTT,6BA4BeC,IAxBf,SAAgCC,EAAUC,GAqBxC,OApBkB1D,uBAAY,WAC5B,OAAI0D,EACKrD,IAAKC,KAAK,CACfC,MAAO,WACPC,KAAMiD,EACNhD,KAAM,UACNE,mBAAoB,UACpB+C,MAAO,IACPC,kBAAkB,IAIftD,IAAKC,KAAK,CACfC,MAAO,WACPC,KAAMiD,EACN9C,mBAAoB,UACpBF,KAAM,cAEP,CAACgD,EAAUC,M,iNCaDE,sBA9Bf,YAAoD,IAAzBC,EAAwB,EAAxBA,OAAQC,EAAgB,EAAhBA,aAC3BC,EAAOF,EAAOG,MAAM,CAAC,OAAQ,SAC7BC,EAAUJ,EAAOG,MAAM,CAAC,UAAW,SACnC/D,EAAK4D,EAAOrE,IAAI,OAChBU,EAAO2D,EAAOrE,IAAI,QAElB0E,EAAkBlE,uBAAY,WAClC8D,EAAa7D,EAAIC,KAChB,CAAC4D,EAAc7D,EAAIC,IAEtB,OACE,wBAAIiE,IAAKlE,GACP,wBAAImE,UAAU,eAAd,UAAgCH,EAAhC,YAA2CF,EAA3C,YAAmD7D,IACnD,wBAAIkE,UAAU,eACZ,kBAACC,EAAA,EAAD,CAAQC,MAAM,UAAUC,IAAKC,IAAMC,GAAE,sBAAiBxE,IAAtD,QAEU,IACV,kBAACoE,EAAA,EAAD,CAAQC,MAAM,SAASI,QAASR,GAAhC,eCYON,kBA7BS,SAAC,GAA8B,IAA5Be,EAA2B,EAA3BA,WAAYC,EAAe,EAAfA,SACrC,OACE,kBAACC,EAAA,EAAD,CAAOC,SAAO,EAACC,YAAU,GACvB,+BACE,4BACE,wBAAIX,UAAU,cAAcY,MAAO,CAAEC,MAAO,QAA5C,QAGA,wBAAIb,UAAU,eAAd,aAGJ,+BACGO,EAAWO,KAAI,SAAArB,GAAM,OACpB,kBAAC,EAAD,CACEM,IAAKN,EAAOrE,IAAI,OAChBsE,aAAcc,EACdf,OAAQA,Y,6CCWLD,kBAvBA,SAAC,GAAmC,IAAjCuB,EAAgC,EAAhCA,OAAQC,EAAwB,EAAxBA,SAAUC,EAAc,EAAdA,QAClC,OACE,kBAACC,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,CAAOC,YAAY,YAAY1E,MAAOoE,EAAQC,SAAUA,IAC5C,KAAXD,GACC,kBAACO,EAAA,EAAD,CAAiBC,UAAU,UACzB,kBAACtB,EAAA,EAAD,CAAQC,MAAM,UAAUI,QAASW,GAAjC,e,iBCbNO,EAAgBC,aAFD,SAAAC,GAAK,OAAIA,EAAMnB,WAAWnF,IAAI,UAC7B,SAAAsG,GAAK,OAAIA,EAAMnB,WAAWnF,IAAI,iBAIlD,SAACuG,EAAKC,GAAN,OAAgBD,EAAIb,KAAI,SAAAjF,GAAE,OAAI+F,EAAMxG,IAAIS,S,kBCgI3B2D,sBAvHR,WAAgB,IAAD,EACEqC,mBAAS,IAAxBhF,EADa,sBAEIgF,mBAAS,GAFb,mBAEbtG,EAFa,KAEPwB,EAFO,OAGQ8E,mBAAS,IAHjB,mBAGbd,EAHa,KAGLe,EAHK,KAIZC,EAASC,cAATD,KAEFxB,EAAarF,YAAYsG,GACzBxG,EAAQiC,mBAAQ,iBAAM,CAAC,aAAc,SAAQ,IAC7CgF,EAASlH,YAAqBC,EAAO,UACrCkH,EAAmBnH,YAAqBC,EAAO,oBAE/CU,EAAWyG,cAEXC,EAAiBxG,uBACrB,YAA4B,IAAfe,EAAc,EAAxB0F,OAAU1F,MACXmF,EAAUnF,GACG,IAATpB,GAAYwB,EAAQ,KAE1B,CAACxB,IAEG+G,EAAc1G,uBAAY,WAC9BkG,EAAU,MACT,IAEGpC,EAAe6C,YAAe7G,EAAUoE,KAExC0C,EAAYjH,EAAOsB,EACnB4F,EAAaD,EAAY3F,EACzB6F,EAAkBzF,mBAAQ,WAC9B,GAAe,KAAX8D,EACF,OAAOR,EAAWoC,MAAMF,EAAYD,GAEtC,IAAMI,EAAc7B,EAAO8B,cAY3B,OAX2BtC,EAAWuC,QAAO,SAAArD,GAC3C,IAAM3D,EAAO2D,EAAOrE,IAAI,QAAQyH,cAC1BhD,EAAUJ,EAAOG,MAAM,CAAC,UAAW,SAASiD,cAC5ClD,EAAOF,EAAOG,MAAM,CAAC,OAAQ,SAASiD,cAC5C,OACE/G,EAAKiH,QAAQH,IAAgB,GAC7B/C,EAAQkD,QAAQH,IAAgB,GAChCjD,EAAKoD,QAAQH,IAAgB,KAIPD,MAAMF,EAAYD,KAC3C,CAACC,EAAYD,EAAWjC,EAAYQ,IAEvC,OACE,oCACE,kBAAC,IAAD,KACE,6CADF,KAGA,kBAACiC,EAAA,EAAD,CAAWhD,UAAU,QAClBiC,EAAOgB,KAAO,GACb,kBAACC,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,CAAOlD,MAAM,SAASF,UAAU,SAC7BiC,EAAOnB,KAAI,SAAAuC,GACV,OACE,uBAAGrD,UAAU,OAAOD,IAAKsD,GACtBA,SAQO,IAArBnB,GACC,kBAACgB,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,CAAOlD,MAAM,UAAUF,UAAU,SAC9BkC,EADH,yBAC2C,IACzC,kBAACoB,EAAA,EAAD,CAASpD,MAAM,UAAU+C,KAAK,UAKtC,kBAACC,EAAA,EAAD,CAAKlD,UAAU,6CACb,kBAACmD,EAAA,EAAD,CAAKI,GAAG,KACN,2CAEF,kBAACJ,EAAA,EAAD,CAAKI,GAAG,IAAIvD,UAAU,8BACpB,kBAACC,EAAA,EAAD,CAAQE,IAAKC,IAAMC,GAAE,UAAK0B,EAAL,QAAiB7B,MAAM,UAAU+C,KAAK,MAA3D,SAKJ,kBAACC,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,KACE,kBAAC,EAAD,CACEnC,SAAUoB,EACVnB,QAASqB,EACTvB,OAAQA,MAId,kBAACmC,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,KACE,kBAAC,EAAD,CACE5C,WAAYmC,EACZlC,SAAUd,MAIhB,kBAACwD,EAAA,EAAD,CAAKlD,UAAU,6CACb,kBAACmD,EAAA,EAAD,KACE,kBAACK,EAAA,EAAD,CACE3G,YAAaA,EACbE,QAASA,EACTD,WAAYyD,EAAW0C,c,4CC1H/BQ,EAAWhC,aAFD,SAAAC,GAAK,OAAIA,EAAMgC,MAAMtI,IAAI,UACxB,SAAAsG,GAAK,OAAIA,EAAMgC,MAAMtI,IAAI,YACS,SAACuG,EAAKgC,GAAN,OACjDhC,EAAIb,KAAI,SAAAjF,GAAE,OAAI8H,EAAUvI,IAAIS,SAKxB+H,EAAcnC,aAFD,SAAAC,GAAK,OAAIA,EAAMmC,SAASzI,IAAI,UAC3B,SAAAsG,GAAK,OAAIA,EAAMmC,SAASzI,IAAI,eAI9C,SAACuG,EAAKmC,GAAN,OAAuBnC,EAAIb,KAAI,SAAAjF,GAAE,OAAIiI,EAAa1I,IAAIS,S,6CCClDkI,EAAgBC,MAAaC,MAAM,CACvCnI,KAAMkI,MAAaE,SAAS,oBAC5BvE,KAAMqE,MAAaE,SAAS,oBAC5BrE,QAASmE,MAAaE,SAAS,yBAuGlB1E,kBApGC,SAAC,GAAuC,IAArC2E,EAAoC,EAApCA,aAAcT,EAAsB,EAAtBA,MAAOG,EAAe,EAAfA,SAChCO,EAASC,YAAU,CACvBC,cAAe,CACbxI,KAAM,GACN6D,KAAM+D,EAAMa,IAAI,GAAKb,EAAM9D,MAAM,CAAC,IAAK,QAAU,GACjDC,QAASgE,EAASU,IAAI,GAAKV,EAASjE,MAAM,CAAC,IAAK,QAAU,IAE5D4E,iBAAkBT,EAClBU,SAAUN,IAEZ,OACE,kBAACO,EAAA,EAAD,CAAMD,SAAUL,EAAOD,cACrB,kBAACjD,EAAA,EAAD,KACE,kBAACyD,EAAA,EAAD,CAAOC,IAAI,aAAX,QACA,kBAACxD,EAAA,EAAD,CACEyD,KAAK,OACL/I,KAAK,OACLD,GAAG,YACHwF,YAAY,OACZyD,QACEV,EAAOW,QAAQjJ,MACfsI,EAAOnC,OAAOnG,MACS,KAAvBsI,EAAOnC,OAAOnG,KAEhBa,MAAOyH,EAAOY,OAAOlJ,KACrBkF,SAAUoD,EAAOa,eAElBb,EAAOW,QAAQjJ,MAAQsI,EAAOnC,OAAOnG,KACpC,kBAACoJ,EAAA,EAAD,KAAed,EAAOnC,OAAOnG,MAC3B,MAEN,kBAACoF,EAAA,EAAD,KACE,kBAACyD,EAAA,EAAD,CAAOC,IAAI,cAAX,QACA,kBAACxD,EAAA,EAAD,CACEyD,KAAK,SACL/I,KAAK,OACLD,GAAG,aACHiJ,QACEV,EAAOW,QAAQpF,MACfyE,EAAOnC,OAAOtC,MACS,KAAvByE,EAAOnC,OAAOtC,KAEhBqB,SAAUoD,EAAOa,aACjBtI,MAAOyH,EAAOY,OAAOrF,MAEpB+D,EAAM5C,KAAI,SAAAnB,GACT,OACE,4BAAQhD,MAAOgD,EAAKvE,IAAI,OAAQ2E,IAAKJ,EAAKvE,IAAI,QAC3CuE,EAAKvE,IAAI,aAKjBgJ,EAAOW,QAAQpF,MAAQyE,EAAOnC,OAAOtC,KACpC,kBAACuF,EAAA,EAAD,KAAed,EAAOnC,OAAOtC,MAC3B,MAEN,kBAACuB,EAAA,EAAD,KACE,kBAACyD,EAAA,EAAD,CAAOC,IAAI,iBAAX,WACA,kBAACxD,EAAA,EAAD,CACEyD,KAAK,SACL/I,KAAK,UACLD,GAAG,gBACHiJ,QACEV,EAAOW,QAAQlF,SACfuE,EAAOnC,OAAOpC,SACY,KAA1BuE,EAAOnC,OAAOpC,QAEhBmB,SAAUoD,EAAOa,aACjBtI,MAAOyH,EAAOY,OAAOnF,SAEpBgE,EAAS/C,KAAI,SAAAjB,GACZ,OACE,4BAAQlD,MAAOkD,EAAQzE,IAAI,OAAQ2E,IAAKF,EAAQzE,IAAI,QACjDyE,EAAQzE,IAAI,aAKpBgJ,EAAOW,QAAQlF,SAAWuE,EAAOnC,OAAOpC,QACvC,kBAACqF,EAAA,EAAD,KAAed,EAAOnC,OAAOpC,SAC3B,MAEN,kBAACI,EAAA,EAAD,CACEC,MAAM,UACNF,UAAU,QACVmF,SAAUf,EAAOgB,aACjBP,KAAK,UAJP,cCvFSrF,kBAZK,SAAC,GAAc,IAAZ1D,EAAW,EAAXA,KACrB,OACE,kBAACsH,EAAA,EAAD,CAAOlD,MAAM,UAAUF,UAAU,SAC9BlE,EADH,gBACqB,kBAACwH,EAAA,EAAD,CAASpD,MAAM,UAAU+C,KAAK,WCiHxCzD,sBAlGR,WACL,IAAM6F,EAAUC,cACVnG,EAAYD,cAEZlE,EAAQiC,mBAAQ,iBAAM,CAAC,aAAc,SAAQ,IAC7CiF,EAAmBnH,YAAqBC,EAAO,oBAC/CiH,EAASlH,YAAqBC,EAAO,UAErCuK,EAAuB1G,YAAYqD,GACnCwB,EAAQxI,YAAYuI,GACpBI,EAAW3I,YAAY0I,GACvBlI,EAAWyG,cAGjBnD,qBAAU,WAENuG,IACCrD,GACe,IAAhBD,EAAOgB,MACP9D,EAAUF,SAEVoG,EAAQG,QAAQ,iBAEjB,CAACtD,EAAkBD,EAAOgB,KAAMoC,EAASlG,EAAWoG,IAEvD,IAAMpB,EAAevI,uBACnB,YAA8B,IAA3BE,EAA0B,EAA1BA,KAAM+D,EAAoB,EAApBA,QAASF,EAAW,EAAXA,KAChBjE,EAAS+J,YAAa3J,EAAM+D,EAASF,MAEvC,CAACjE,IAGH,OACE,oCACE,kBAACgK,EAAA,OAAD,KACE,iDAEF,kBAAC1C,EAAA,EAAD,CAAWhD,UAAU,QACnB,kBAACkD,EAAA,EAAD,CAAKlD,UAAU,6CACb,kBAACmD,EAAA,EAAD,KACE,kBAACwC,EAAA,EAAD,CAAYxF,IAAI,MAAMyF,QAAQ,OAC5B,kBAACC,EAAA,EAAD,CAAgB1F,IAAKC,IAAMC,GAAG,eAA9B,cAGA,kBAACwF,EAAA,EAAD,CAAgBC,QAAM,EAAC3F,IAAI,QAA3B,UAMU,IAAfuD,EAAMT,MACc,IAAlBY,EAASZ,MACR,kBAACC,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,CAAOlD,MAAM,UACX,kBAAC,IAAD,CAAMG,GAAG,UAAT,QADF,KACkC,IAChC,kBAAC,IAAD,CAAMA,GAAG,aAAT,WAFF,qCAQP4B,EAAOzE,OAAS,GACf,kBAAC0F,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,CAAOlD,MAAM,SAASF,UAAU,SAC7BiC,EAAOnB,KAAI,SAAAuC,GACV,OACE,uBAAGrD,UAAU,OAAOD,IAAKsD,GACtBA,SAQdnB,GACC,kBAACgB,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,KACE,kBAAC,EAAD,CAAarH,KAAK,aAIxB,kBAACoH,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,KACE,kBAAC,EAAD,CACEgB,aAAcA,EACdN,SAAUA,EACVH,MAAOA,W,mCC3GfqC,EAActE,aAFF,SAAAC,GAAK,OAAIA,EAAMsE,SAAS5K,IAAI,UAC1B,SAAAsG,GAAK,OAAIA,EAAMsE,SAAS5K,IAAI,eACW,SAACuG,EAAKC,GAAN,OACzDD,EAAIb,KAAI,SAAAjF,GAAE,OAAI+F,EAAMxG,IAAIS,SCHnB,SAASoK,GAAmBvK,EAAUwK,EAAUC,GAOrD,OANyBvK,uBACvB,SAACwK,EAAkBC,GACjB3K,EAASwK,EAASC,EAAaC,EAAkBC,MAEnD,CAAC3K,EAAUwK,EAAUC,IAKVF,ICNTK,GAAU,SAAC,GAAyC,IAAvCxK,EAAsC,EAAtCA,KAAM6D,EAAgC,EAAhCA,KAAME,EAA0B,EAA1BA,QAAS0G,EAAiB,EAAjBA,WAC9BC,EAAQxE,cAARwE,IACR,OACE,oCACE,kBAAC/F,EAAA,EAAD,CAAOC,SAAO,EAACC,YAAU,GACvB,+BACE,4BACE,wBAAIX,UAAU,eAAd,SACA,wBAAIA,UAAU,eAAelE,IAE/B,4BACE,wBAAIkE,UAAU,eAAd,SACA,wBAAIA,UAAU,eAAeL,IAE/B,4BACE,wBAAIK,UAAU,eAAd,YACA,wBAAIA,UAAU,eAAeH,MAInC,kBAACI,EAAA,EAAD,CACEE,IAAKC,IACLC,GAAE,UAAKmG,EAAL,SACFtG,MAAM,UACNF,UAAU,cAJZ,gBAQA,kBAACS,EAAA,EAAD,CAAOC,SAAO,EAACC,YAAU,GACvB,+BACE,4BACE,8CAGJ,+BACG4F,EAAWzF,KAAI,SAAA2F,GACd,OACE,wBAAI1G,IAAK0G,GACP,wBAAIzG,UAAU,eAAeyG,WAU7CH,GAAQI,aAAe,CACrBH,WAAYI,kBAUCnH,sBAAK8G,I,8BCTL9G,mBApDF,SAAC,GAA2B,IAAzBoH,EAAwB,EAAxBA,OAAQC,EAAgB,EAAhBA,UACtB,OACE,kBAACC,GAAA,EAAD,CAAKC,MAAI,GACP,kBAACC,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,CACEjH,UAAyB,MAAd6G,EAAoB,SAAW,GAC1CvG,QAAS,WACPsG,EAAO,OAHX,SASF,kBAACI,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,CACEjH,UAAyB,MAAd6G,EAAoB,SAAW,GAC1CvG,QAAS,WACPsG,EAAO,OAHX,WASF,kBAACI,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,CACEjH,UAAyB,MAAd6G,EAAoB,SAAW,GAC1CvG,QAAS,WACPsG,EAAO,OAHX,mBASF,kBAACI,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,CACEjH,UAAyB,MAAd6G,EAAoB,SAAW,GAC1CvG,QAAS,WACPsG,EAAO,OAHX,e,qBCLOpH,uBA5Bf,YAAiD,IAAzB0H,EAAwB,EAAxBA,OAAQxH,EAAgB,EAAhBA,aACxB5D,EAAOoL,EAAOtH,MAAM,CAAC,WAAY,SACjCuH,EAAYD,EAAO9L,IAAI,aACvBgM,EAAUF,EAAO9L,IAAI,WAErBiM,EAAezL,uBAAY,WAC/B8D,EAAawH,KACZ,CAACxH,EAAcwH,IAElB,OACE,4BACE,4BAAKpL,GACL,4BAAKqL,GACL,4BAAKC,GACL,4BACE,kBAACnH,EAAA,EAAD,CAAQC,MAAM,SAASI,QAAS+G,GAAhC,eC8CO7H,mBAhCK,SAAC,GAAgC,IA3BxB7D,EA2BNqK,EAA6B,EAA7BA,SAAUtG,EAAmB,EAAnBA,aACzB4H,GA5BqB3L,EA4Bc+D,EA3BzB9D,uBACd,SAAAsL,GACEjL,KAAKC,KAAK,CACRC,MAAO,gBACPoL,KAAK,wHAAD,OAGDL,EAAOtH,MAAM,CAAC,WAAY,SAHzB,gCAIKsH,EAAO9L,IAAI,aAJhB,cAIkC8L,EAAO9L,IAAI,WAJ7C,gBAMJiB,KAAM,UACNC,kBAAkB,EAClBE,kBAAmB,UACnBD,mBAAoB,OACpBE,kBAAmB,WAClB+K,MAAK,YAAwB,EAArB7K,OAEPhB,EAAWuL,EAAO9L,IAAI,aAI5B,CAACO,KAOH,OACE,kBAACuH,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,KACE,kBAAC1C,EAAA,EAAD,CAAOC,SAAO,EAACC,YAAU,GACvB,+BACE,4BACE,sCACA,0CACA,wCACA,yCAGJ,+BACGqF,EAASlF,KAAI,SAAAoG,GAAM,OAClB,kBAAC,GAAD,CACEnH,IAAKmH,EAAO9L,IAAI,OAChB8L,OAAQA,EACRxH,aAAc4H,c,4DCpCxBG,GAAiB,SAAAhB,GACrB,OACEiB,KAAOjB,EAAM,UAAU,GAAMkB,WAAoC,cAAvBlB,EAAK5D,eAG7C+E,GAAQF,OACXG,GAAG,kBACHC,OAAO,UAoHKtI,mBAlHG,SAAC,GAA6B,IAA3BuI,EAA0B,EAA1BA,UAAW/B,EAAe,EAAfA,SAAe,EACjBnE,oBAAS,GADQ,mBACtCmG,EADsC,KAC9BC,EAD8B,OAEjBpG,mBAC1BmE,EAASzB,IAAI,GAAKyB,EAASpG,MAAM,CAAC,IAAK,QAAU,IAHN,mBAEtCsH,EAFsC,KAE9BgB,EAF8B,OAKXrG,mBAAS+F,IALE,mBAKtCT,EALsC,KAK3BgB,EAL2B,OAMftG,mBAAS+F,IANM,mBAMtCR,EANsC,KAM7BgB,EAN6B,KAQvCC,EAAS,WACbJ,GAAWD,GACXE,EAAUlC,EAASzB,IAAI,GAAKyB,EAASpG,MAAM,CAAC,IAAK,QAAU,IAC3DuI,EAAaP,IACbQ,EAAWR,KAsBb,OACE,oCACE,kBAAC1E,EAAA,EAAD,CAAKlD,UAAU,6DACb,kBAACC,EAAA,EAAD,CAAQD,UAAU,OAAOE,MAAM,UAAUI,QAAS+H,GAAlD,cAGA,kBAACC,GAAA,EAAD,CAAUN,OAAQA,EAAQhI,UAAU,SAClC,kBAACuI,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,KACE,kBAAC9D,EAAA,EAAD,KACE,kBAACxD,EAAA,EAAD,KACE,kBAACyD,EAAA,EAAD,CAAOC,IAAI,gBAAX,UACA,kBAACxD,EAAA,EAAD,CACEyD,KAAK,SACLlI,MAAOuK,EACPpL,KAAK,SACLD,GAAG,eACHmF,SArCG,SAAAyH,GAAC,OAAIP,EAAUO,EAAEpG,OAAO1F,SAuC1BqJ,EAASlF,KAAI,SAAA4H,GACZ,OACE,4BAAQ/L,MAAO+L,EAAKtN,IAAI,OAAQ2E,IAAK2I,EAAKtN,IAAI,QAC3CsN,EAAKtN,IAAI,cAMpB,kBAAC8F,EAAA,EAAD,KACE,kBAACyD,EAAA,EAAD,CAAOC,IAAI,kBAAX,cACA,kBAACxD,EAAA,EAAD,CACEyD,KAAK,OACLlI,MAAOwK,EACPrL,KAAK,YACLD,GAAG,iBACHiJ,SAAU2C,GAAeN,GACzBnG,SAvDM,SAAAyH,GAAC,OAAIN,EAAaM,EAAEpG,OAAO1F,WA0DrC,kBAACuE,EAAA,EAAD,KACE,kBAACyD,EAAA,EAAD,CAAOC,IAAI,gBAAX,YACA,kBAACxD,EAAA,EAAD,CACEyD,KAAK,OACLlI,MAAOyK,EACPtL,KAAK,UACLD,GAAG,eACHiJ,SAAU2C,GAAeL,GACzBpG,SAjEI,SAAAyH,GAAC,OAAIL,EAAWK,EAAEpG,OAAO1F,UAmE/B,kBAACgM,GAAA,EAAD,CAAUzI,MAAM,SAAhB,uFAIA,kBAACyI,GAAA,EAAD,CAAUzI,MAAM,SAAhB,wDAIF,kBAACD,EAAA,EAAD,CACEC,MAAM,UACNF,UAAU,QACVM,QA5ED,SAAAmI,GACTA,GAAGA,EAAEG,iBACTb,EAAU,CACRc,SAAU3B,EACVC,YACAC,YAEFiB,KAsEclD,UAjEXsC,GAAeN,KAAeM,GAAeL,IAAuB,KAAXF,GA6DhD,gBCzFD1H,mBAtBS,SAAC,GAKlB,IAJLsJ,EAII,EAJJA,eACA9C,EAGI,EAHJA,SACA+B,EAEI,EAFJA,UACArI,EACI,EADJA,aAEA,OACE,oCACE,kBAAC,GAAD,CAAWqI,UAAWA,EAAW/B,SAAUA,IAC3C,kBAAC,GAAD,CAAaA,SAAU8C,EAAgBpJ,aAAcA,QCW5CF,uBAtBf,YAAiD,IAAvBiH,EAAsB,EAAtBA,KAAM/G,EAAgB,EAAhBA,aACxBqJ,EAAiBnN,uBAAY,WACjC8D,EAAa,CAAEyH,UAAWV,MACzB,CAACA,EAAM/G,IAEV,OACE,4BACE,wBAAIM,UAAU,eAAeyG,GAC7B,wBAAIzG,UAAU,eACZ,kBAACC,EAAA,EAAD,CAAQC,MAAM,SAASI,QAASyI,GAAhC,eCsBOvJ,mBA7BO,SAAC,GAAqC,IAAnCE,EAAkC,EAAlCA,aAAcsJ,EAAoB,EAApBA,cACrC,OACE,kBAACvI,EAAA,EAAD,CAAOC,SAAO,EAACC,YAAU,GACvB,+BACE,4BACE,wBAAIX,UAAU,eAAd,mBACA,wBAAIA,UAAU,eAAd,aAGJ,+BACGgJ,EAAclI,KAAI,SAAA2F,GACjB,OACE,kBAAC,GAAD,CACE1G,IAAK0G,EACLA,KAAMA,EACN/G,aAAcA,YCHtBuJ,GAAW,SAAAjE,GACf,IAAM/C,EAAS,GAOf,GANK+C,EAAOmC,UAEAO,KAAO1C,EAAOmC,UAAW,UAAU,GAAMQ,YACnD1F,EAAOkF,UAAY,iCAFnBlF,EAAOkF,UAAY,mBAKjBnC,EAAOoC,QAAS,CAClB,IAAMA,EAAUM,KAAO1C,EAAOoC,QAAS,UAAU,GAC5CA,EAAQO,UAGXP,EAAQ8B,eAAexB,KAAO1C,EAAOmC,UAAW,UAAU,MAE1DlF,EAAOmF,QAAU,0CAJjBnF,EAAOmF,QAAU,iCAOrB,OAAOnF,GA6MMkH,GA1MK,SAAC,GAAiC,IAA/BpB,EAA8B,EAA9BA,UAAWrI,EAAmB,EAAnBA,aAAmB,EACDmC,oBAAS,GADR,mBAC5CuH,EAD4C,KACzBC,EADyB,OAEKxH,oBAAS,GAFd,mBAE5CyH,EAF4C,KAEtBC,EAFsB,KAG7C3B,EAAQ3K,mBACZ,kBACEyK,OACGG,GAAG,kBACHC,OAAO,YACZ,IAGI0B,EAAWvM,mBACf,kBACEyK,OACGG,GAAG,kBACH4B,IAAI,EAAG,KACP3B,OAAO,YACZ,IAEI4B,EAAY9N,uBAAY,WAC5ByN,GAAqB,SAAAM,GAAI,OAAKA,KAC1BL,GAAsBC,GAAwB,KACjD,CAACD,IAEEM,EAAehO,uBAAY,WAC/B2N,GAAwB,SAAAI,GAAI,OAAKA,KAC7BP,GAAmBC,GAAqB,KAC3C,CAACD,IAEES,EAAoBxF,YAAU,CAClCC,cAAe,CACb6C,UAAW,GACXC,QAAS,IAEX6B,YACAxE,SAAU,SAACO,EAAD,GAA4B,IAAjB8E,EAAgB,EAAhBA,UACnB/B,EAAU/C,GACV0E,IACAI,OAGEC,EAAuB1F,YAAU,CACrCC,cAAe,CACb6C,UAAW,GACXC,QAAS,IAEX6B,YACAxE,SAAU,SAACO,EAAD,GAA4B,IAAjB8E,EAAgB,EAAhBA,UACnBpK,EAAasF,GACb4E,IACAE,OAIJ,OACE,oCACE,kBAAC5G,EAAA,EAAD,CAAKlD,UAAU,iDACb,kBAACC,EAAA,EAAD,CAAQD,UAAU,MAAME,MAAM,UAAUI,QAASoJ,GAAjD,gBAGA,kBAACzJ,EAAA,EAAD,CAAQD,UAAU,MAAME,MAAM,UAAUI,QAASsJ,GAAjD,oBAIF,kBAAC1G,EAAA,EAAD,KACE,kBAACoF,GAAA,EAAD,CAAUN,OAAQoB,EAAmBpJ,UAAU,SAC7C,kBAACuI,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,KACE,kBAAC9D,EAAA,EAAD,CAAMD,SAAUoF,EAAkB1F,cAChC,kBAACjD,EAAA,EAAD,KACE,kBAACyD,EAAA,EAAD,CAAOC,IAAI,gBAAX,QACA,kBAACxD,EAAA,EAAD,CACEyD,KAAK,OACLlI,MAAOkN,EAAkB7E,OAAOmC,UAChCrL,KAAK,YACLD,GAAG,eACHwF,YAAW,eAAUuG,GACrB9C,QACE+E,EAAkB9E,QAAQoC,WAC1B0C,EAAkB5H,OAAOkF,WACc,KAAvC0C,EAAkB5H,OAAOkF,UAE3BnG,SAAU6I,EAAkB5E,eAE9B,kBAAC0D,GAAA,EAAD,CAAUzI,MAAM,SAAhB,iCAGC2J,EAAkB9E,QAAQoC,WAC3B0C,EAAkB5H,OAAOkF,UACvB,kBAACjC,EAAA,EAAD,KACG2E,EAAkB5H,OAAOkF,WAE1B,MAGN,kBAACjG,EAAA,EAAD,KACE,kBAACyD,EAAA,EAAD,CAAOC,IAAI,qBAAX,SACA,kBAACxD,EAAA,EAAD,CACEyD,KAAK,OACLlI,MAAOkN,EAAkB7E,OAAOoC,QAChCtL,KAAK,UACLD,GAAG,oBACHwF,YAAW,0BAAqBmI,GAChC1E,QACE+E,EAAkB9E,QAAQqC,SAC1ByC,EAAkB5H,OAAOmF,SACY,KAArCyC,EAAkB5H,OAAOmF,QAE3BpG,SAAU6I,EAAkB5E,eAE9B,kBAAC0D,GAAA,EAAD,CAAUzI,MAAM,SAAhB,+EAIC2J,EAAkB9E,QAAQqC,SAC3ByC,EAAkB5H,OAAOmF,QACvB,kBAAClC,EAAA,EAAD,KACG2E,EAAkB5H,OAAOmF,SAE1B,MAEN,kBAACnH,EAAA,EAAD,CAAQC,MAAM,UAAUF,UAAU,QAAQ6E,KAAK,UAA/C,WAQR,kBAACyD,GAAA,EAAD,CAAUN,OAAQsB,EAAsBtJ,UAAU,SAChD,kBAACuI,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,KACE,kBAAC9D,EAAA,EAAD,CAAMD,SAAUsF,EAAqB5F,cACnC,kBAACjD,EAAA,EAAD,KACE,kBAACyD,EAAA,EAAD,CAAOC,IAAI,mBAAX,QACA,kBAACxD,EAAA,EAAD,CACEyD,KAAK,OACLlI,MAAOoN,EAAqB/E,OAAOmC,UACnCrL,KAAK,YACLD,GAAG,kBACHwF,YAAW,eAAUuG,GACrB9C,QACEiF,EAAqBhF,QAAQoC,WAC7B4C,EAAqB9H,OAAOkF,WACc,KAA1C4C,EAAqB9H,OAAOkF,UAE9BnG,SAAU+I,EAAqB9E,eAEjC,kBAAC0D,GAAA,EAAD,CAAUzI,MAAM,SAAhB,iCAGC6J,EAAqBhF,QAAQoC,WAC9B4C,EAAqB9H,OAAOkF,UAC1B,kBAACjC,EAAA,EAAD,KACG6E,EAAqB9H,OAAOkF,WAE7B,MAGN,kBAACjG,EAAA,EAAD,KACE,kBAACyD,EAAA,EAAD,CAAOC,IAAI,wBAAX,SACA,kBAACxD,EAAA,EAAD,CACEyD,KAAK,OACLlI,MAAOoN,EAAqB/E,OAAOoC,QACnCtL,KAAK,UACLD,GAAG,uBACHwF,YAAW,0BAAqBmI,GAChC1E,QACEiF,EAAqBhF,QAAQqC,SAC7B2C,EAAqB9H,OAAOmF,SACY,KAAxC2C,EAAqB9H,OAAOmF,QAE9BpG,SAAU+I,EAAqB9E,eAEjC,kBAAC0D,GAAA,EAAD,CAAUzI,MAAM,SAAhB,kFAIC6J,EAAqBhF,QAAQqC,SAC9B2C,EAAqB9H,OAAOmF,QAC1B,kBAAClC,EAAA,EAAD,KACG6E,EAAqB9H,OAAOmF,SAE7B,MAEN,kBAACnH,EAAA,EAAD,CAAQC,MAAM,SAASF,UAAU,QAAQ6E,KAAK,UAA9C,iBCpMhB,SAASmF,GAAT,GAAsE,IAnBvCC,EAmBJjB,EAA0C,EAA1CA,cAAetJ,EAA2B,EAA3BA,aAAcqI,EAAa,EAAbA,UAAa,EAC7ClG,mBAAS,GAAxBhF,EAD4D,sBAE3CgF,mBAAS,GAFkC,mBAE5DtG,EAF4D,KAEtDwB,EAFsD,KAG7DmN,GAtBuBD,EAsBoBjB,EArBtB/L,mBAAQ,WACjC,OAAOgN,EAAME,MAAK,SAACpO,EAAGqO,GACpB,IAAMC,EAAQ3C,KAAO3L,EAAG,cAAc,GAChCuO,EAAQ5C,KAAO0C,EAAG,cAAc,GAEtC,OAAIC,EAAME,SAASD,IACT,EAEND,EAAMG,QAAQF,GACT,EAGF,OAER,CAACL,KAQEzH,EAAYjH,EAAOsB,EACnB4F,EAAaD,EAAY3F,EACzB4N,EAAaP,EAAmBvH,MAAMF,EAAYD,GACxD,OACE,oCACE,kBAAC,GAAD,CAAauF,UAAWA,EAAWrI,aAAcA,IAClB,IAA9BwK,EAAmB1M,OAClB,wBAAIwC,UAAU,QAAd,uCAEA,kBAAC,GAAD,CAAeN,aAAcA,EAAcsJ,cAAeyB,IAE5D,kBAACvH,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,CAAKnD,UAAU,oDACb,kBAACwD,EAAA,EAAD,CACEkH,YAAanP,EACbsB,YAAaA,EACbC,WAAYkM,EAAc/F,KAC1BlG,QAASA,OAQrBiN,GAAgBtD,aAAe,CAC7BsC,cAAerC,kBAUFnH,sBAAKwK,ICzCLxK,uBAtBf,YAA+C,IAAxBmL,EAAuB,EAAvBA,MAAOC,EAAgB,EAAhBA,aACtB9O,EAAO6O,EAAM/K,MAAM,CAAC,cAAe,SACnCiL,EAASF,EAAMvP,IAAI,UAEzB,OACE,4BACE,wBAAI4E,UAAU,eAAelE,GAC7B,wBAAIkE,UAAU,eAAe6K,GAC7B,wBAAI7K,UAAU,eACZ,kBAACC,EAAA,EAAD,CAAQC,MAAM,UAAUI,QAAS,kBAAMsK,EAAaD,KAApD,aCgDR,IAiCenL,mBAjCO,SAAC,GAA4B,IArCtB0G,EAqCJ4E,EAAyB,EAAzBA,WACjBC,EAxDR,SAAuBF,GAerB,OAdqB5N,mBAAQ,WAY3B,OAXsB4N,EAAOV,MAAK,SAACpO,EAAGqO,GACpC,IAAMY,EAAQC,OAAOlP,EAAE6D,MAAM,CAAC,cAAe,UAAUsL,cACjDC,EAAQF,OAAOb,EAAExK,MAAM,CAAC,cAAe,UAAUsL,cACvD,OAAIF,EAAQG,GACF,EAENH,EAAQG,EACH,EAEF,OAGR,CAACN,IA0CiBO,CAD2B,EAAbP,QAE7BQ,GAvCqBnF,EAuCM4E,EAtCjBlP,uBACd,SAAA+O,GACE1O,KAAKC,KAAK,CACRC,MAAM,uBAAD,OAAyBwO,EAAM/K,MAAM,CAAC,cAAe,UAC1D0L,MAAO,SACPC,iBAAkBZ,EAAMvP,IAAI,UAC5BkB,kBAAkB,EAClBG,kBAAmB,SACnB+O,eAAgB,SAAA7O,GACd,IAAKA,EACH,MAAM,iCAAN,OAAwCgO,EAAM/K,MAAM,CAClD,cACA,UAGJ,IAAMyG,EAAWoF,SAAS9O,EAAO,IACjC,MAAwB,kBAAb0J,EACH,4BAGJA,EAAW,EACN,iDAEF,QAERmB,MAAK,YAAgB,IAAb7K,EAAY,EAAZA,MACLA,GACFuJ,EAASyE,EAAMvP,IAAI,OAAQuB,QAIjC,CAACuJ,KASH,OACE,kBAACzF,EAAA,EAAD,CAAOC,SAAO,EAACC,YAAU,GACvB,+BACE,4BACE,wBAAIX,UAAU,eAAd,iBACA,wBAAIA,UAAU,eAAd,UACA,wBAAIA,UAAU,eAAd,aAGJ,+BACG+K,EAAajK,KAAI,SAAA6J,GAChB,OACE,kBAAC,GAAD,CACE5K,IAAK4K,EAAMvP,IAAI,OACfwP,aAAcS,EACdV,MAAOA,YC6FNnL,uBApIR,WACL,IACMkM,EADSC,cACSxF,YAFD,EAIWtE,mBAAS,KAJpB,mBAIhBgF,EAJgB,KAIL+E,EAJK,KAKjB5F,EAAW9K,YAAY6K,GACvBxF,EAAarF,aAAY,SAAAwG,GAAK,OAAIA,EAAMnB,WAAWnF,IAAI,iBACvDJ,EAAQiC,mBAAQ,iBAAM,CAAC,aAAc,YAAW,IAChDiF,EAAmBnH,YAAqBC,EAAO,oBAC/CiH,EAASlH,YAAqBC,EAAO,UACrCU,EAAWyG,cACX0J,ECxCD,SAA+BnQ,EAAUC,EAAYwK,GAQ1D,OAPsBvK,uBACpB,SAAAkQ,GACEpQ,EAASC,EAAWwK,EAAa2F,MAEnC,CAACnQ,EAAYD,EAAUyK,IDmCE4F,CACzBrQ,EACA2L,IACAqE,GAEIM,ECxDD,SAA4BtQ,EAAUuQ,EAAS9F,GAQpD,OAPmBvK,uBACjB,YAAuC,IAApCiN,EAAmC,EAAnCA,SAAU1B,EAAyB,EAAzBA,UAAWC,EAAc,EAAdA,QACtB1L,EAASuQ,EAAQ9F,EAAa0C,EAAU1B,EAAWC,MAErD,CAAC6E,EAASvQ,EAAUyK,IDmDE+F,CAAmBxQ,EAAUyQ,IAAWT,GAC1DU,EEzDD,SAA8B1Q,EAAUuQ,EAAS9F,GAgBtD,OAfmBvK,uBACjB,YAAoC,IAAjCuL,EAAgC,EAAhCA,UAAgC,IAArBC,eAAqB,MAAX,KAAW,EAC3BX,EAAO,CACXU,aAGEC,IACFX,EAAKW,QAAUA,GAGjB1L,EAASuQ,EAAQ9F,EAAaM,MAEhC,CAACwF,EAASvQ,EAAUyK,IF4CIkG,CACxB3Q,EACA4Q,IACAZ,GAEIa,EE3CD,SAAiC7Q,EAAUC,EAAYwK,GAc5D,OAbqBvK,uBACnB,YAAoC,IAAjCuL,EAAgC,EAAhCA,UAAgC,IAArBC,eAAqB,MAAX,KAAW,EAC3BX,EAAO,CACXU,aAGEC,IACFX,EAAKW,QAAUA,GAEjB1L,EAASC,EAAWwK,EAAaM,MAEnC,CAAC9K,EAAYD,EAAUyK,IF+BIqG,CAC3B9Q,EACAqN,IACA2C,GAEIe,EAAkBxG,GACtBvK,EACAgR,IACAhB,GAGIjM,EAASc,EAAWnF,IAAIsQ,GAC9B,OAAKjM,GAA0B,IAAhBA,EAAOwD,KAIpB,oCACE,kBAACyC,EAAA,OAAD,KACE,qDAEF,kBAAC1C,EAAA,EAAD,CAAWhD,UAAU,QACnB,kBAACkD,EAAA,EAAD,CAAKlD,UAAU,6CACb,kBAACmD,EAAA,EAAD,KACE,kBAACwC,EAAA,EAAD,CAAYxF,IAAI,MAAMyF,QAAQ,OAC5B,kBAACC,EAAA,EAAD,CAAgB1F,IAAKC,IAAMC,GAAG,eAA9B,cAGA,kBAACwF,EAAA,EAAD,CAAgB1F,IAAI,QAApB,WACA,kBAAC0F,EAAA,EAAD,CAAgBC,QAAM,EAAC3F,IAAI,QACxBV,EAAO3D,SAKfmG,EAAOgB,KAAO,GACb,kBAACC,EAAA,EAAD,CAAKlD,UAAU,oBACb,kBAACmD,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,CAAOlD,MAAM,SAASF,UAAU,SAC7BiC,EAAOnB,KAAI,SAAAuC,GACV,OACE,uBAAGrD,UAAU,OAAOD,IAAKsD,GACtBA,SAQO,IAArBnB,GACC,kBAACgB,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,KACE,kBAAC,EAAD,CAAarH,KAAI,UAAKoG,EAAL,kBAIvB,kBAACgB,EAAA,EAAD,CAAKlD,UAAU,sBACb,kBAACmD,EAAA,EAAD,KACE,yCAGJ,kBAACD,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,KACE,uBAAGnD,UAAU,eAAb,6FAMJ,kBAACkD,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,KACE,kBAAC,GAAD,CAAM0D,UAAWA,EAAWD,OAAQgF,IACpC,kBAACe,EAAA,EAAD,CAAY9F,UAAWA,GACrB,kBAAC+F,EAAA,EAAD,CAASC,MAAM,KACb,kBAAC,GAAD,CACE/Q,KAAM2D,EAAOrE,IAAI,QACjBuE,KAAMF,EAAOG,MAAM,CAAC,OAAQ,SAC5BC,QAASJ,EAAOG,MAAM,CAAC,UAAW,SAClC2G,WAAY9G,EAAOrE,IAAI,iBAG3B,kBAACwR,EAAA,EAAD,CAASC,MAAM,KACb,kBAACC,GAAD,CACEpN,aAAcmM,EACd/C,eAAgBrJ,EAAOrE,IAAI,YAC3B4K,SAAUA,EACV+B,UAAWiE,KAGf,kBAACY,EAAA,EAAD,CAASC,MAAM,KACb,kBAAC,GAAD,CACE9E,UAAWqE,EACXpD,cAAevJ,EAAOrE,IAAI,iBAC1BsE,aAAc6M,KAGlB,kBAACK,EAAA,EAAD,CAASC,MAAM,KACb,kBAAC,GAAD,CACEhC,OAAQpL,EAAOrE,IAAI,UACnB0P,WAAY2B,UAtFnB,kBAAC,IAAD,CAAUpM,GAAG,mB,UG3ElB0M,GAAYtL,aAChB,SAAAC,GAAK,OAAIA,EAAMnB,WAAWnF,IAAI,iBAC9B,SAAC4R,EAAG7G,GAAJ,OAAoBA,KACpB,SAAC5F,EAAY1E,GAAb,OAAoB0E,EAAWnF,IAAIS,MAK/B4H,GAAWhC,aAFD,SAAAC,GAAK,OAAIA,EAAMgC,MAAMtI,IAAI,UACxB,SAAAsG,GAAK,OAAIA,EAAMgC,MAAMtI,IAAI,YACS,SAACuG,EAAKgC,GAAN,OACjDhC,EAAIb,KAAI,SAAAjF,GAAE,OAAI8H,EAAUvI,IAAIS,SAKxB+H,GAAcnC,aAFD,SAAAC,GAAK,OAAIA,EAAMmC,SAASzI,IAAI,UAC3B,SAAAsG,GAAK,OAAIA,EAAMmC,SAASzI,IAAI,eAI9C,SAACuG,EAAKmC,GAAN,OAAuBnC,EAAIb,KAAI,SAAAjF,GAAE,OAAIiI,EAAa1I,IAAIS,SCLlDoR,GAAiBjJ,MAAaC,MAAM,CACxCnI,KAAMkI,MAAaE,SAAS,oBAC5BvE,KAAMqE,MAAaE,SAAS,oBAC5BrE,QAASmE,MAAaE,SAAS,yBA6GlB1E,mBA1GE,SAAC,GAA2D,IAAzDC,EAAwD,EAAxDA,OAAQ0E,EAAgD,EAAhDA,aAAcT,EAAkC,EAAlCA,MAAOG,EAA2B,EAA3BA,SAAUqJ,EAAiB,EAAjBA,WACnD9I,EAASC,YAAU,CACvBC,cAAe,CACbxI,KAAM2D,EAAOrE,IAAI,QACjBuE,KAAMF,EAAOG,MAAM,CAAC,OAAQ,QAC5BC,QAASJ,EAAOG,MAAM,CAAC,UAAW,SAEpC4E,iBAAkByI,GAClBxI,SAAUN,IAEZ,OACE,kBAACO,EAAA,EAAD,CAAMD,SAAUL,EAAOD,cACrB,kBAACjD,EAAA,EAAD,KACE,kBAACyD,EAAA,EAAD,CAAOC,IAAI,aAAX,QACA,kBAACxD,EAAA,EAAD,CACEyD,KAAK,OACL/I,KAAK,OACLD,GAAG,YACHwF,YAAY,OACZyD,QACEV,EAAOW,QAAQjJ,MACfsI,EAAOnC,OAAOnG,MACS,KAAvBsI,EAAOnC,OAAOnG,KAEhBa,MAAOyH,EAAOY,OAAOlJ,KACrBkF,SAAUoD,EAAOa,aACjBE,SAAU+H,IAEX9I,EAAOW,QAAQjJ,MAAQsI,EAAOnC,OAAOnG,KACpC,kBAACoJ,EAAA,EAAD,KAAed,EAAOnC,OAAOnG,MAC3B,MAEN,kBAACoF,EAAA,EAAD,KACE,kBAACyD,EAAA,EAAD,CAAOC,IAAI,cAAX,QACA,kBAACxD,EAAA,EAAD,CACEyD,KAAK,SACL/I,KAAK,OACLD,GAAG,aACHiJ,QACEV,EAAOW,QAAQpF,MACfyE,EAAOnC,OAAOtC,MACS,KAAvByE,EAAOnC,OAAOtC,KAEhBqB,SAAUoD,EAAOa,aACjBtI,MAAOyH,EAAOY,OAAOrF,KACrBwF,SAAU+H,GAETxJ,EAAM5C,KAAI,SAAAnB,GACT,OACE,4BAAQhD,MAAOgD,EAAKvE,IAAI,OAAQ2E,IAAKJ,EAAKvE,IAAI,QAC3CuE,EAAKvE,IAAI,aAKjBgJ,EAAOW,QAAQpF,MAAQyE,EAAOnC,OAAOtC,KACpC,kBAACuF,EAAA,EAAD,KAAed,EAAOnC,OAAOtC,MAC3B,MAEN,kBAACuB,EAAA,EAAD,KACE,kBAACyD,EAAA,EAAD,CAAOC,IAAI,iBAAX,WACA,kBAACxD,EAAA,EAAD,CACEyD,KAAK,SACL/I,KAAK,UACLD,GAAG,gBACHsJ,SAAU+H,EACVpI,QACEV,EAAOW,QAAQlF,SACfuE,EAAOnC,OAAOpC,SACY,KAA1BuE,EAAOnC,OAAOpC,QAEhBmB,SAAUoD,EAAOa,aACjBtI,MAAOyH,EAAOY,OAAOnF,SAEpBgE,EAAS/C,KAAI,SAAAjB,GACZ,OACE,4BAAQlD,MAAOkD,EAAQzE,IAAI,OAAQ2E,IAAKF,EAAQzE,IAAI,QACjDyE,EAAQzE,IAAI,aAKpBgJ,EAAOW,QAAQlF,SAAWuE,EAAOnC,OAAOpC,QACvC,kBAACqF,EAAA,EAAD,KAAed,EAAOnC,OAAOpC,SAC3B,MAEN,kBAACI,EAAA,EAAD,CACEC,MAAM,UACN2E,KAAK,SACL7E,UAAU,QACVmF,SAAU+H,GAJZ,c,mBCuBS1N,uBA7GR,WACL,IAAM2N,EAASxB,cACTlM,EAASvE,aAAY,SAAAwG,GAAK,OAAIqL,GAAUrL,EAAOyL,EAAOhH,gBAKtDnL,EAAQ,CAAC,aAAc,QACvBkS,EAAanS,YAAqBC,EAAO,cACzCiH,EAASlH,YAAqBC,EAAO,UACrCoS,EAAevO,YAAYqO,GAC3BxJ,EAAQxI,YAAYuI,IACpBI,EAAW3I,YAAY0I,IACvByJ,EAAeC,aAAgB,WAAY,KAE3C5R,EAAWyG,cACjBnD,qBAAU,WACJoO,IAAiBF,GAA8B,IAAhBjL,EAAOgB,MACxCoK,MAED,CAACpL,EAAOgB,KAAMiK,EAAYE,EAAcC,IAE3C,IAAMvC,EAAalP,uBACjB,SAAAoJ,GACE,IAAMuI,EAAc,gBACfvI,EADe,CAElBmB,YAAagH,EAAOhH,cAEtBzK,EAAS8R,aAAaD,MAExB,CAAC7R,EAAUyR,EAAOhH,cAOpB,OAAK1G,GAA0B,IAAhBA,EAAOwD,KAKpB,oCACE,kBAACyC,EAAA,OAAD,KACE,kDAEF,kBAAC1C,EAAA,EAAD,CAAWhD,UAAU,QACnB,kBAACkD,EAAA,EAAD,CAAKlD,UAAU,6CACb,kBAACmD,EAAA,EAAD,KACE,kBAACwC,EAAA,EAAD,CAAYxF,IAAI,MAAMyF,QAAQ,OAC5B,kBAACC,EAAA,EAAD,CAAgB1F,IAAKC,IAAMC,GAAG,eAA9B,cAGA,kBAACwF,EAAA,EAAD,CAAgB1F,IAAI,QAApB,WACA,kBAAC0F,EAAA,EAAD,CACE1F,IAAKC,IACLC,GAAE,sBAAiB8M,EAAOhH,cAEzB1G,EAAOrE,IAAI,SAEd,kBAACyK,EAAA,EAAD,CAAgBC,QAAM,EAAC3F,IAAI,QAA3B,mBAML8B,EAAOgB,KAAO,GACb,kBAACC,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,CAAOlD,MAAM,SAASF,UAAU,SAC7BiC,EAAOnB,KAAI,SAAAuC,GACV,OACE,uBAAGrD,UAAU,OAAOD,IAAKsD,GACtBA,SAQd6J,GACC,kBAAChK,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,KACE,kBAAC,EAAD,CAAarH,KAAK,eAIxB,kBAACoH,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,KACE,uCAAa1D,EAAOrE,IAAI,WAG5B,kBAAC8H,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,KACE,kBAAC,GAAD,CACEgB,aAAc2G,EACdrL,OAAQA,EACRoE,SAAUA,EACVH,MAAOA,EACPwJ,WAAYA,QA9Df,kBAAC,IAAD,CAAU7M,GAAG,mBCjCTb,uBAfR,WAAuB,IACpBuC,EAASC,cAATD,KAER,OACE,kBAAC,IAAD,KACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAO0L,OAAK,EAAC1L,KAAMA,EAAM2L,UAAWC,IACpC,kBAAC,IAAD,CAAO5L,KAAI,UAAKA,EAAL,QAAiB2L,UAAWE,IACvC,kBAAC,IAAD,CAAO7L,KAAI,UAAKA,EAAL,iBAA0B0L,OAAK,EAACC,UAAWG,KACtD,kBAAC,IAAD,CAAO9L,KAAI,UAAKA,EAAL,sBAA+B2L,UAAWI,UCnB7D","file":"static/js/8.6ff057ad.chunk.js","sourcesContent":["import { useSelector } from 'react-redux';\nimport { Map } from 'immutable';\n\nfunction useReduxPageSelector(pages, selector) {\n  const state = useSelector(storeState => {\n    if (typeof pages === 'string') {\n      return storeState.pages[pages].get(selector);\n    }\n    const foundPage = pages.reduce((storePages, page) => {\n      if (storePages && storePages[page] !== 'undefined') {\n        return storePages[page];\n      }\n      return Map();\n    }, storeState.pages);\n\n    return foundPage.get(selector);\n  });\n\n  return state;\n}\n\nexport default useReduxPageSelector;\n","import { useCallback } from 'react';\nimport Swal from 'sweetalert2';\n\nfunction useUpdateModal(dispatch, deleteFunc) {\n  const deleteCallBackModal = useCallback(\n    (id, name) => {\n      async function showModal() {\n        const result = await Swal.fire({\n          title: `Are you sure you want to delete ${name}?`,\n          text: \"You won't be able to revert this!\",\n          icon: 'warning',\n          showCancelButton: true,\n          confirmButtonColor: '#dc3545',\n          cancelButtonColor: '#3085d6',\n          confirmButtonText: 'Yes, delete it!',\n          reverseButtons: true\n        });\n        if (result.value) {\n          dispatch(deleteFunc(id));\n        }\n      }\n      showModal();\n    },\n    [deleteFunc, dispatch]\n  );\n  return deleteCallBackModal;\n}\n\nexport default useUpdateModal;\n","import React, { useMemo, useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport ReactPaginate from 'react-paginate';\nimport './pagination.css';\n\nconst PaginationComponent = ({ rowsPerPage, totalPosts, setPage }) => {\n  const pageNumbers = useMemo(() => {\n    const page = [];\n    for (let i = 1; i <= Math.ceil(totalPosts / rowsPerPage); i += 1) {\n      page.push(i);\n    }\n    return page;\n  }, [totalPosts, rowsPerPage]);\n  const handlePageClick = useCallback(\n    ({ selected }) => {\n      const pageNumber = selected + 1;\n      setPage(pageNumber);\n    },\n    [setPage]\n  );\n\n  if (pageNumbers.length === 0) {\n    return null;\n  }\n\n  return (\n    <nav aria-label=\"Page pagination\">\n      <ReactPaginate\n        previousLabel=\"&laquo;\"\n        previousClassName=\"page-item\"\n        previousLinkClassName=\"page-link\"\n        nextLabel=\"&raquo;\"\n        nextClassName=\"page-item\"\n        nextLinkClassName=\"page-link\"\n        breakLabel=\"...\"\n        breakClassName=\"page-item\"\n        breakLinkClassName=\"page-link\"\n        pageCount={pageNumbers.length}\n        marginPagesDisplayed={2}\n        pageRangeDisplayed={5}\n        onPageChange={handlePageClick}\n        containerClassName=\"pagination justify-content-center\"\n        pageClassName=\"page-item\"\n        pageLinkClassName=\"page-link\"\n        activeClassName=\"page-item active\"\n        activeLinkClassName=\"page-item active\"\n        disabledClassName=\"page-item disabled\"\n      />\n    </nav>\n  );\n};\n\nPaginationComponent.propTypes = {\n  rowsPerPage: PropTypes.number.isRequired,\n  totalPosts: PropTypes.number.isRequired,\n  setPage: PropTypes.func.isRequired\n};\n\nexport default PaginationComponent;\n","import { useRef, useEffect } from 'react';\n\nfunction usePrevious(value) {\n  const ref = useRef();\n  useEffect(() => {\n    ref.current = value;\n  });\n  // This will return value before the useEffect update the value\n  return ref.current;\n}\n\nexport default usePrevious;\n","import { useRef, useEffect } from 'react';\n\nfunction useIsMounted() {\n  const isMounted = useRef(true);\n  useEffect(() => {\n    return () => {\n      isMounted.current = false;\n    };\n  }, []);\n  return isMounted;\n}\n\nexport default useIsMounted;\n","import { useCallback } from 'react';\n\nimport Swal from 'sweetalert2';\n\nfunction useSuccessUpdatedModal(bodyText, timer) {\n  const showModal = useCallback(() => {\n    if (timer) {\n      return Swal.fire({\n        title: 'Success!',\n        text: bodyText,\n        icon: 'success',\n        confirmButtonColor: '#007bff',\n        timer: 2000,\n        timerProgressBar: true\n      });\n    }\n\n    return Swal.fire({\n      title: 'Success!',\n      text: bodyText,\n      confirmButtonColor: '#007bff',\n      icon: 'success'\n    });\n  }, [bodyText, timer]);\n\n  return showModal;\n}\n\nexport default useSuccessUpdatedModal;\n","import React, { memo, useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport { Button } from 'reactstrap';\nimport { Link } from 'react-router-dom';\nimport { Map } from 'immutable';\n\nfunction SinglePersonnel({ person, handleDelete }) {\n  const rank = person.getIn(['rank', 'name']);\n  const platoon = person.getIn(['platoon', 'name']);\n  const id = person.get('_id');\n  const name = person.get('name');\n\n  const deletePersonnel = useCallback(() => {\n    handleDelete(id, name);\n  }, [handleDelete, id, name]);\n\n  return (\n    <tr key={id}>\n      <td className=\"text-center\">{`${platoon} ${rank} ${name}`}</td>\n      <td className=\"text-center\">\n        <Button color=\"primary\" tag={Link} to={`/personnels/${id}`}>\n          Edit\n        </Button>{' '}\n        <Button color=\"danger\" onClick={deletePersonnel}>\n          Delete\n        </Button>\n      </td>\n    </tr>\n  );\n}\n\nSinglePersonnel.propTypes = {\n  person: PropTypes.instanceOf(Map).isRequired,\n  handleDelete: PropTypes.func.isRequired\n};\n\nexport default memo(SinglePersonnel);\n","import React, { memo } from 'react';\nimport { Table } from 'reactstrap';\nimport PropTypes from 'prop-types';\nimport { List } from 'immutable';\nimport SinglePersonnel from './SinglePersonnel';\n\nconst PersonnelsTable = ({ personnels, onDelete }) => {\n  return (\n    <Table striped responsive>\n      <thead>\n        <tr>\n          <th className=\"text-center\" style={{ width: '50%' }}>\n            Name\n          </th>\n          <th className=\"text-center\">Actions</th>\n        </tr>\n      </thead>\n      <tbody>\n        {personnels.map(person => (\n          <SinglePersonnel\n            key={person.get('_id')}\n            handleDelete={onDelete}\n            person={person}\n          />\n        ))}\n      </tbody>\n    </Table>\n  );\n};\n\nPersonnelsTable.propTypes = {\n  personnels: PropTypes.oneOfType([PropTypes.instanceOf(List)]).isRequired,\n  onDelete: PropTypes.func.isRequired\n};\n\nexport default memo(PersonnelsTable);\n","import React, { memo } from 'react';\nimport {\n  InputGroup,\n  Input,\n  Button,\n  InputGroupAddon,\n  FormGroup\n} from 'reactstrap';\nimport PropTypes from 'prop-types';\n\nconst Search = ({ search, onChange, onClear }) => {\n  return (\n    <FormGroup>\n      <InputGroup>\n        <Input placeholder=\"search...\" value={search} onChange={onChange} />\n        {search !== '' && (\n          <InputGroupAddon addonType=\"append\">\n            <Button color=\"primary\" onClick={onClear}>\n              Clear\n            </Button>\n          </InputGroupAddon>\n        )}\n      </InputGroup>\n    </FormGroup>\n  );\n};\n\nSearch.propTypes = {\n  search: PropTypes.string.isRequired,\n  onChange: PropTypes.func.isRequired,\n  onClear: PropTypes.func.isRequired\n};\n\nexport default memo(Search);\n","import { createSelector } from 'reselect';\n\nconst personnelIds = state => state.personnels.get('ids');\nconst allPersonnels = state => state.personnels.get('personnels');\nconst getPersonnels = createSelector(\n  personnelIds,\n  allPersonnels,\n  (ids, byIds) => ids.map(id => byIds.get(id))\n);\n\nexport { getPersonnels };\n\nexport default getPersonnels;\n","import React, { useState, useCallback, useMemo, memo } from 'react';\nimport { Container, Row, Col, Button, Alert, Spinner } from 'reactstrap';\nimport Helmet from 'react-helmet';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { Link, useRouteMatch } from 'react-router-dom';\n\nimport PersonnelsTable from '../../../components/personnels/all/PersonnelsTable';\nimport Pagination from '../../../components/commons/Pagination';\nimport Search from '../../../components/personnels/all/Search';\n// import PersonnelModalDelete from '../../../components/personnels/all/PersonnelModalDelete';\n\nimport { deletePersonnel } from './actions';\nimport { getPersonnels } from './selectors';\nimport useReduxPageSelector from '../../../hooks/useReduxPageSelector';\nimport useDeleteModal from '../../../hooks/useDeleteModal';\n\nexport function All() {\n  const [rowsPerPage] = useState(10);\n  const [page, setPage] = useState(1);\n  const [search, setSearch] = useState('');\n  const { path } = useRouteMatch();\n\n  const personnels = useSelector(getPersonnels);\n  const pages = useMemo(() => ['personnels', 'all'], []);\n  const errors = useReduxPageSelector(pages, 'errors');\n  const actionInProgress = useReduxPageSelector(pages, 'actionInProgress');\n\n  const dispatch = useDispatch();\n\n  const onChangeSearch = useCallback(\n    ({ target: { value } }) => {\n      setSearch(value);\n      if (page !== 1) setPage(1);\n    },\n    [page]\n  );\n  const clearSearch = useCallback(() => {\n    setSearch('');\n  }, []);\n\n  const handleDelete = useDeleteModal(dispatch, deletePersonnel);\n\n  const lastIndex = page * rowsPerPage;\n  const firstIndex = lastIndex - rowsPerPage;\n  const shownPersonnels = useMemo(() => {\n    if (search === '') {\n      return personnels.slice(firstIndex, lastIndex);\n    }\n    const searchInput = search.toLowerCase();\n    const filteredPersonnels = personnels.filter(person => {\n      const name = person.get('name').toLowerCase();\n      const platoon = person.getIn(['platoon', 'name']).toLowerCase();\n      const rank = person.getIn(['rank', 'name']).toLowerCase();\n      return (\n        name.indexOf(searchInput) > -1 ||\n        platoon.indexOf(searchInput) > -1 ||\n        rank.indexOf(searchInput) > -1\n      );\n    });\n\n    return filteredPersonnels.slice(firstIndex, lastIndex);\n  }, [firstIndex, lastIndex, personnels, search]);\n\n  return (\n    <>\n      <Helmet>\n        <title>Personnels</title>P\n      </Helmet>\n      <Container className=\"py-2\">\n        {errors.size > 0 && (\n          <Row>\n            <Col>\n              <Alert color=\"danger\" className=\"w-100\">\n                {errors.map(error => {\n                  return (\n                    <p className=\"mb-0\" key={error}>\n                      {error}\n                    </p>\n                  );\n                })}\n              </Alert>\n            </Col>\n          </Row>\n        )}\n        {actionInProgress !== 0 && (\n          <Row>\n            <Col>\n              <Alert color=\"primary\" className=\"w-100\">\n                {actionInProgress} action(s) in progress{' '}\n                <Spinner color=\"primary\" size=\"sm\" />\n              </Alert>\n            </Col>\n          </Row>\n        )}\n        <Row className=\"justify-content-center align-items-center\">\n          <Col xs=\"9\">\n            <h1>Personnels</h1>\n          </Col>\n          <Col xs=\"3\" className=\"d-flex justify-content-end\">\n            <Button tag={Link} to={`${path}/add`} color=\"success\" size=\"md\">\n              Add\n            </Button>\n          </Col>\n        </Row>\n        <Row>\n          <Col>\n            <Search\n              onChange={onChangeSearch}\n              onClear={clearSearch}\n              search={search}\n            />\n          </Col>\n        </Row>\n        <Row>\n          <Col>\n            <PersonnelsTable\n              personnels={shownPersonnels}\n              onDelete={handleDelete}\n            />\n          </Col>\n        </Row>\n        <Row className=\"justify-content-center align-items-center\">\n          <Col>\n            <Pagination\n              rowsPerPage={rowsPerPage}\n              setPage={setPage}\n              totalPosts={personnels.size}\n            />\n          </Col>\n        </Row>\n      </Container>\n    </>\n  );\n}\n\nexport default memo(All);\n","import { createSelector } from 'reselect';\n\nconst rankIds = state => state.ranks.get('ids');\nconst allRanks = state => state.ranks.get('ranks');\nconst getRanks = createSelector(rankIds, allRanks, (ids, byRankIds) =>\n  ids.map(id => byRankIds.get(id))\n);\n\nconst platoonIds = state => state.platoons.get('ids');\nconst allPlatoons = state => state.platoons.get('platoons');\nconst getPlatoons = createSelector(\n  platoonIds,\n  allPlatoons,\n  (ids, byPlatoonIds) => ids.map(id => byPlatoonIds.get(id))\n);\n\nexport { getRanks, getPlatoons };\n","import React, { memo } from 'react';\nimport {\n  Form,\n  FormGroup,\n  Label,\n  Input,\n  Button,\n  FormFeedback\n} from 'reactstrap';\nimport PropTypes from 'prop-types';\nimport { useFormik } from 'formik';\nimport * as Yup from 'yup';\nimport { List } from 'immutable';\n\nconst AddFormSchema = Yup.object().shape({\n  name: Yup.string().required('Name is required'),\n  rank: Yup.string().required('Rank is required'),\n  platoon: Yup.string().required('Platoon is required')\n});\n\nconst AddForm = ({ handleSubmit, ranks, platoons }) => {\n  const formik = useFormik({\n    initialValues: {\n      name: '',\n      rank: ranks.has(0) ? ranks.getIn(['0', '_id']) : '',\n      platoon: platoons.has(0) ? platoons.getIn(['0', '_id']) : ''\n    },\n    validationSchema: AddFormSchema,\n    onSubmit: handleSubmit\n  });\n  return (\n    <Form onSubmit={formik.handleSubmit}>\n      <FormGroup>\n        <Label for=\"nameInput\">Name</Label>\n        <Input\n          type=\"text\"\n          name=\"name\"\n          id=\"nameInput\"\n          placeholder=\"John\"\n          invalid={\n            formik.touched.name &&\n            formik.errors.name &&\n            formik.errors.name !== ''\n          }\n          value={formik.values.name}\n          onChange={formik.handleChange}\n        />\n        {formik.touched.name && formik.errors.name ? (\n          <FormFeedback>{formik.errors.name}</FormFeedback>\n        ) : null}\n      </FormGroup>\n      <FormGroup>\n        <Label for=\"rankSelect\">Rank</Label>\n        <Input\n          type=\"select\"\n          name=\"rank\"\n          id=\"rankSelect\"\n          invalid={\n            formik.touched.rank &&\n            formik.errors.rank &&\n            formik.errors.rank !== ''\n          }\n          onChange={formik.handleChange}\n          value={formik.values.rank}\n        >\n          {ranks.map(rank => {\n            return (\n              <option value={rank.get('_id')} key={rank.get('_id')}>\n                {rank.get('name')}\n              </option>\n            );\n          })}\n        </Input>\n        {formik.touched.rank && formik.errors.rank ? (\n          <FormFeedback>{formik.errors.rank}</FormFeedback>\n        ) : null}\n      </FormGroup>\n      <FormGroup>\n        <Label for=\"platoonSelect\">Platoon</Label>\n        <Input\n          type=\"select\"\n          name=\"platoon\"\n          id=\"platoonSelect\"\n          invalid={\n            formik.touched.platoon &&\n            formik.errors.platoon &&\n            formik.errors.platoon !== ''\n          }\n          onChange={formik.handleChange}\n          value={formik.values.platoon}\n        >\n          {platoons.map(platoon => {\n            return (\n              <option value={platoon.get('_id')} key={platoon.get('_id')}>\n                {platoon.get('name')}\n              </option>\n            );\n          })}\n        </Input>\n        {formik.touched.platoon && formik.errors.platoon ? (\n          <FormFeedback>{formik.errors.platoon}</FormFeedback>\n        ) : null}\n      </FormGroup>\n      <Button\n        color=\"success\"\n        className=\"w-100\"\n        disabled={formik.isSubmitting}\n        type=\"submit\"\n      >\n        Submit\n      </Button>\n    </Form>\n  );\n};\n\nAddForm.propTypes = {\n  handleSubmit: PropTypes.func.isRequired,\n  ranks: PropTypes.instanceOf(List).isRequired,\n  platoons: PropTypes.instanceOf(List).isRequired\n};\nexport default memo(AddForm);\n","import React, { memo } from 'react';\nimport { Alert, Spinner } from 'reactstrap';\nimport PropTypes from 'prop-types';\n\nconst ActionAlert = ({ name }) => {\n  return (\n    <Alert color=\"primary\" className=\"w-100\">\n      {name} in progress <Spinner color=\"primary\" size=\"sm\" />\n    </Alert>\n  );\n};\n\nActionAlert.propTypes = {\n  name: PropTypes.string.isRequired\n};\n\nexport default memo(ActionAlert);\n","import React, { memo, useEffect, useCallback, useMemo } from 'react';\nimport {\n  Container,\n  Row,\n  Col,\n  Breadcrumb,\n  BreadcrumbItem,\n  Alert\n} from 'reactstrap';\nimport { Link, useHistory } from 'react-router-dom';\nimport { Helmet } from 'react-helmet';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport usePrevious from '../../../hooks/usePrevious';\nimport useReduxPageSelector from '../../../hooks/useReduxPageSelector';\nimport useIsMounted from '../../../hooks/useIsMounted';\nimport { addPersonnel } from './actions';\nimport { getPlatoons, getRanks } from './selectors';\n\nimport AddForm from '../../../components/personnels/add/AddForm';\nimport ActionAlert from '../../../components/commons/ActionAlert';\n\nexport function Add() {\n  const history = useHistory();\n  const isMounted = useIsMounted();\n\n  const pages = useMemo(() => ['personnels', 'add'], []);\n  const actionInProgress = useReduxPageSelector(pages, 'actionInProgress');\n  const errors = useReduxPageSelector(pages, 'errors');\n\n  const prevActionInProgress = usePrevious(actionInProgress);\n  const ranks = useSelector(getRanks);\n  const platoons = useSelector(getPlatoons);\n  const dispatch = useDispatch();\n\n  // handle redirect to personnels page after creating person\n  useEffect(() => {\n    if (\n      prevActionInProgress &&\n      !actionInProgress &&\n      errors.size === 0 &&\n      isMounted.current\n    ) {\n      history.replace('/personnels');\n    }\n  }, [actionInProgress, errors.size, history, isMounted, prevActionInProgress]);\n\n  const handleSubmit = useCallback(\n    ({ name, platoon, rank }) => {\n      dispatch(addPersonnel(name, platoon, rank));\n    },\n    [dispatch]\n  );\n\n  return (\n    <>\n      <Helmet>\n        <title>Add Personnel</title>\n      </Helmet>\n      <Container className=\"py-2\">\n        <Row className=\"justify-content-center align-items-center\">\n          <Col>\n            <Breadcrumb tag=\"nav\" listTag=\"div\">\n              <BreadcrumbItem tag={Link} to=\"/personnels\">\n                Personnels\n              </BreadcrumbItem>\n              <BreadcrumbItem active tag=\"span\">\n                Add\n              </BreadcrumbItem>\n            </Breadcrumb>\n          </Col>\n        </Row>\n        {ranks.size === 0 ||\n          (platoons.size === 0 && (\n            <Row>\n              <Col>\n                <Alert color=\"danger\">\n                  <Link to=\"/ranks\">Rank</Link> /{' '}\n                  <Link to=\"/platoons\">Platoon</Link> is needed to create\n                  personnels\n                </Alert>\n              </Col>\n            </Row>\n          ))}\n        {errors.length > 0 && (\n          <Row>\n            <Col>\n              <Alert color=\"danger\" className=\"w-100\">\n                {errors.map(error => {\n                  return (\n                    <p className=\"mb-0\" key={error}>\n                      {error}\n                    </p>\n                  );\n                })}\n              </Alert>\n            </Col>\n          </Row>\n        )}\n        {actionInProgress && (\n          <Row>\n            <Col>\n              <ActionAlert name=\"Adding\" />\n            </Col>\n          </Row>\n        )}\n        <Row>\n          <Col>\n            <AddForm\n              handleSubmit={handleSubmit}\n              platoons={platoons}\n              ranks={ranks}\n            />\n          </Col>\n        </Row>\n      </Container>\n    </>\n  );\n}\n\nexport default memo(Add);\n","import { createSelector } from 'reselect';\n\nconst statusIds = state => state.statuses.get('ids');\nconst allStatuses = state => state.statuses.get('statuses');\nconst getStatuses = createSelector(statusIds, allStatuses, (ids, byIds) =>\n  ids.map(id => byIds.get(id))\n);\n\nexport { getStatuses };\n\nexport default getStatuses;\n","import { useCallback } from 'react';\n\nexport function useHandleEditPoint(dispatch, editFunc, personnelId) {\n  const editPointHandler = useCallback(\n    (personnelPointId, newPoint) => {\n      dispatch(editFunc(personnelId, personnelPointId, newPoint));\n    },\n    [dispatch, editFunc, personnelId]\n  );\n  return editPointHandler;\n}\n\nexport default useHandleEditPoint;\n","import React, { memo } from 'react';\nimport PropTypes from 'prop-types';\nimport { Table, Button } from 'reactstrap';\nimport { Link, useRouteMatch } from 'react-router-dom';\nimport { List } from 'immutable';\n\nconst Details = ({ name, rank, platoon, eventsDate }) => {\n  const { url } = useRouteMatch();\n  return (\n    <>\n      <Table striped responsive>\n        <tbody>\n          <tr>\n            <th className=\"text-center\">Name:</th>\n            <td className=\"text-center\">{name}</td>\n          </tr>\n          <tr>\n            <th className=\"text-center\">Rank:</th>\n            <td className=\"text-center\">{rank}</td>\n          </tr>\n          <tr>\n            <th className=\"text-center\">Platoon:</th>\n            <td className=\"text-center\">{platoon}</td>\n          </tr>\n        </tbody>\n      </Table>\n      <Button\n        tag={Link}\n        to={`${url}/edit`}\n        color=\"primary\"\n        className=\"w-100 my-2\"\n      >\n        Edit Details\n      </Button>\n      <Table striped responsive>\n        <thead>\n          <tr>\n            <th>Event Dates:</th>\n          </tr>\n        </thead>\n        <tbody>\n          {eventsDate.map(date => {\n            return (\n              <tr key={date}>\n                <td className=\"text-center\">{date}</td>\n              </tr>\n            );\n          })}\n        </tbody>\n      </Table>\n    </>\n  );\n};\n\nDetails.defaultProps = {\n  eventsDate: List()\n};\n\nDetails.propTypes = {\n  name: PropTypes.string.isRequired,\n  rank: PropTypes.string.isRequired,\n  platoon: PropTypes.string.isRequired,\n  eventsDate: PropTypes.oneOfType([PropTypes.instanceOf(List)])\n};\n\nexport default memo(Details);\n","import React, { memo } from 'react';\nimport PropTypes from 'prop-types';\nimport { Nav, NavItem, NavLink } from 'reactstrap';\n\nconst Tabs = ({ setTab, activeTab }) => {\n  return (\n    <Nav tabs>\n      <NavItem>\n        <NavLink\n          className={activeTab === '1' ? 'active' : ''}\n          onClick={() => {\n            setTab('1');\n          }}\n        >\n          Info\n        </NavLink>\n      </NavItem>\n      <NavItem>\n        <NavLink\n          className={activeTab === '2' ? 'active' : ''}\n          onClick={() => {\n            setTab('2');\n          }}\n        >\n          Status\n        </NavLink>\n      </NavItem>\n      <NavItem>\n        <NavLink\n          className={activeTab === '3' ? 'active' : ''}\n          onClick={() => {\n            setTab('3');\n          }}\n        >\n          Blockout dates\n        </NavLink>\n      </NavItem>\n      <NavItem>\n        <NavLink\n          className={activeTab === '4' ? 'active' : ''}\n          onClick={() => {\n            setTab('4');\n          }}\n        >\n          Points\n        </NavLink>\n      </NavItem>\n    </Nav>\n  );\n};\n\nTabs.propTypes = {\n  setTab: PropTypes.func.isRequired,\n  activeTab: PropTypes.string.isRequired\n};\n\nexport default memo(Tabs);\n","import React, { memo, useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport { Button } from 'reactstrap';\nimport { Map } from 'immutable';\n\nfunction SingleStatus({ status, handleDelete }) {\n  const name = status.getIn(['statusId', 'name']);\n  const startDate = status.get('startDate');\n  const endDate = status.get('endDate');\n\n  const deleteStatus = useCallback(() => {\n    handleDelete(status);\n  }, [handleDelete, status]);\n\n  return (\n    <tr>\n      <th>{name}</th>\n      <td>{startDate}</td>\n      <td>{endDate}</td>\n      <td>\n        <Button color=\"danger\" onClick={deleteStatus}>\n          Delete\n        </Button>\n      </td>\n    </tr>\n  );\n}\n\nSingleStatus.propTypes = {\n  status: PropTypes.instanceOf(Map).isRequired,\n  handleDelete: PropTypes.func.isRequired\n};\n\nexport default memo(SingleStatus);\n","import React, { memo, useCallback } from 'react';\nimport { Row, Col, Table } from 'reactstrap';\nimport PropTypes from 'prop-types';\nimport Swal from 'sweetalert2';\nimport { List } from 'immutable';\nimport SingleStatus from './SingleStatus';\n\nconst useDeleteStatusModal = deleteFunc => {\n  const handler = useCallback(\n    status => {\n      Swal.fire({\n        title: 'Are you sure?',\n        html: `\n      <p class=\"font-weight-bold\">You won't be able to revert this!</p>\n      <p>You are deleting:</p>\n      <p>${status.getIn(['statusId', 'name'])}</p>\n      <p>Date: ${status.get('startDate')} - ${status.get('endDate')}</p>\n      `,\n        icon: 'warning',\n        showCancelButton: true,\n        cancelButtonColor: '#3085d6',\n        confirmButtonColor: '#d33',\n        confirmButtonText: 'Delete'\n      }).then(({ value: confirm }) => {\n        if (confirm) {\n          deleteFunc(status.get('_id'));\n        }\n      });\n    },\n    [deleteFunc]\n  );\n  return handler;\n};\n\nconst StatusTable = ({ statuses, handleDelete }) => {\n  const deleteModal = useDeleteStatusModal(handleDelete);\n  return (\n    <Row>\n      <Col>\n        <Table striped responsive>\n          <thead>\n            <tr>\n              <th>Status</th>\n              <th>Start date</th>\n              <th>End date</th>\n              <th>Actions</th>\n            </tr>\n          </thead>\n          <tbody>\n            {statuses.map(status => (\n              <SingleStatus\n                key={status.get('_id')}\n                status={status}\n                handleDelete={deleteModal}\n              />\n            ))}\n          </tbody>\n        </Table>\n      </Col>\n    </Row>\n  );\n};\nStatusTable.propTypes = {\n  statuses: PropTypes.oneOfType([PropTypes.instanceOf(List)]).isRequired,\n  handleDelete: PropTypes.func.isRequired\n};\nexport default memo(StatusTable);\n","import React, { useState, memo } from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  Row,\n  Button,\n  Collapse,\n  Card,\n  CardBody,\n  Form,\n  FormGroup,\n  Label,\n  Input,\n  FormText\n} from 'reactstrap';\nimport moment from 'moment-timezone';\nimport { List } from 'immutable';\n\nconst checkDateValid = date => {\n  return (\n    moment(date, 'DDMMYY', true).isValid() || date.toLowerCase() === 'permanent'\n  );\n};\nconst today = moment()\n  .tz('Asia/Singapore')\n  .format('DDMMYY');\n\nconst AddStatus = ({ handleAdd, statuses }) => {\n  const [isOpen, setIsOpen] = useState(false);\n  const [status, setStatus] = useState(\n    statuses.has(0) ? statuses.getIn(['0', '_id']) : ''\n  );\n  const [startDate, setStartDate] = useState(today);\n  const [endDate, setEndDate] = useState(today);\n\n  const toggle = () => {\n    setIsOpen(!isOpen);\n    setStatus(statuses.has(0) ? statuses.getIn(['0', '_id']) : '');\n    setStartDate(today);\n    setEndDate(today);\n  };\n  const changeStatus = e => setStatus(e.target.value);\n  const changeStartDate = e => setStartDate(e.target.value);\n  const changeEndDate = e => setEndDate(e.target.value);\n\n  const submit = e => {\n    if (e) e.preventDefault();\n    handleAdd({\n      statusId: status,\n      startDate,\n      endDate\n    });\n    toggle();\n  };\n\n  const checkDisabled = () => {\n    return (\n      !checkDateValid(startDate) || !checkDateValid(endDate) || status === ''\n    );\n  };\n\n  return (\n    <>\n      <Row className=\"flex-column justify-content-end align-items-end my-2 mx-2\">\n        <Button className=\"my-2\" color=\"primary\" onClick={toggle}>\n          Add Status\n        </Button>\n        <Collapse isOpen={isOpen} className=\"w-100\">\n          <Card>\n            <CardBody>\n              <Form>\n                <FormGroup>\n                  <Label for=\"statusSelect\">Status</Label>\n                  <Input\n                    type=\"select\"\n                    value={status}\n                    name=\"select\"\n                    id=\"statusSelect\"\n                    onChange={changeStatus}\n                  >\n                    {statuses.map(stat => {\n                      return (\n                        <option value={stat.get('_id')} key={stat.get('_id')}>\n                          {stat.get('name')}\n                        </option>\n                      );\n                    })}\n                  </Input>\n                </FormGroup>\n                <FormGroup>\n                  <Label for=\"startDateInput\">Start date</Label>\n                  <Input\n                    type=\"text\"\n                    value={startDate}\n                    name=\"startDate\"\n                    id=\"startDateInput\"\n                    invalid={!checkDateValid(startDate)}\n                    onChange={changeStartDate}\n                  />\n                </FormGroup>\n                <FormGroup>\n                  <Label for=\"endDateInput\">End date</Label>\n                  <Input\n                    type=\"text\"\n                    value={endDate}\n                    name=\"endDate\"\n                    id=\"endDateInput\"\n                    invalid={!checkDateValid(endDate)}\n                    onChange={changeEndDate}\n                  />\n                  <FormText color=\"muted\">\n                    Dates must be in DDMMYY format, it will be automatically be\n                    converted to DD-MM-YYYY\n                  </FormText>\n                  <FormText color=\"muted\">\n                    If permanent, please indicate permanent in end date\n                  </FormText>\n                </FormGroup>\n                <Button\n                  color=\"success\"\n                  className=\"w-100\"\n                  onClick={submit}\n                  disabled={checkDisabled()}\n                >\n                  Add\n                </Button>\n              </Form>\n            </CardBody>\n          </Card>\n        </Collapse>\n      </Row>\n    </>\n  );\n};\n\nAddStatus.propTypes = {\n  handleAdd: PropTypes.func.isRequired,\n  statuses: PropTypes.oneOfType([PropTypes.instanceOf(List).isRequired])\n    .isRequired\n};\n\nexport default memo(AddStatus);\n","import React, { memo } from 'react';\nimport PropTypes from 'prop-types';\nimport { List } from 'immutable';\nimport StatusTable from './status/StatusTable';\nimport AddStatus from './status/AddStatus';\n\nconst PersonnelStatus = ({\n  personStatuses,\n  statuses,\n  handleAdd,\n  handleDelete\n}) => {\n  return (\n    <>\n      <AddStatus handleAdd={handleAdd} statuses={statuses} />\n      <StatusTable statuses={personStatuses} handleDelete={handleDelete} />\n    </>\n  );\n};\n\nPersonnelStatus.propTypes = {\n  personStatuses: PropTypes.oneOfType([PropTypes.instanceOf(List)]).isRequired,\n  handleDelete: PropTypes.func.isRequired,\n  handleAdd: PropTypes.func.isRequired,\n  statuses: PropTypes.oneOfType([PropTypes.instanceOf(List).isRequired])\n    .isRequired\n};\n\nexport default memo(PersonnelStatus);\n","import React, { memo, useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport { Button } from 'reactstrap';\n\nfunction SingleBlockout({ date, handleDelete }) {\n  const deleteBlockout = useCallback(() => {\n    handleDelete({ startDate: date });\n  }, [date, handleDelete]);\n\n  return (\n    <tr>\n      <td className=\"text-center\">{date}</td>\n      <td className=\"text-center\">\n        <Button color=\"danger\" onClick={deleteBlockout}>\n          Delete\n        </Button>\n      </td>\n    </tr>\n  );\n}\n\nSingleBlockout.propTypes = {\n  date: PropTypes.string.isRequired,\n  handleDelete: PropTypes.func.isRequired\n};\n\nexport default memo(SingleBlockout);\n","import React, { memo } from 'react';\nimport { Table } from 'reactstrap';\nimport PropTypes from 'prop-types';\nimport { List } from 'immutable';\nimport SingleBlockout from './SingleBlockout';\n\nconst BlockoutTable = ({ handleDelete, blockoutDates }) => {\n  return (\n    <Table striped responsive>\n      <thead>\n        <tr>\n          <th className=\"text-center\">Blockout Dates:</th>\n          <th className=\"text-center\">Action:</th>\n        </tr>\n      </thead>\n      <tbody>\n        {blockoutDates.map(date => {\n          return (\n            <SingleBlockout\n              key={date}\n              date={date}\n              handleDelete={handleDelete}\n            />\n          );\n        })}\n      </tbody>\n    </Table>\n  );\n};\n\nBlockoutTable.propTypes = {\n  handleDelete: PropTypes.func.isRequired,\n  blockoutDates: PropTypes.oneOfType([PropTypes.instanceOf(List)]).isRequired\n};\n\nexport default memo(BlockoutTable);\n","import React, { useState, useMemo, useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  Row,\n  Button,\n  Collapse,\n  Card,\n  CardBody,\n  Form,\n  FormGroup,\n  Label,\n  Input,\n  FormText,\n  FormFeedback\n} from 'reactstrap';\nimport moment from 'moment-timezone';\nimport { useFormik } from 'formik';\n\nconst validate = values => {\n  const errors = {};\n  if (!values.startDate) {\n    errors.startDate = 'Date is required';\n  } else if (!moment(values.startDate, 'DDMMYY', true).isValid()) {\n    errors.startDate = 'Date is not in a valid format';\n  }\n\n  if (values.endDate) {\n    const endDate = moment(values.endDate, 'DDMMYY', true);\n    if (!endDate.isValid()) {\n      errors.endDate = 'Until date is not valid format';\n    } else if (\n      endDate.isSameOrBefore(moment(values.startDate, 'DDMMYY', true))\n    ) {\n      errors.endDate = 'Until date must be after starting date';\n    }\n  }\n  return errors;\n};\n\nconst AddBlockout = ({ handleAdd, handleDelete }) => {\n  const [isAddBlockoutOpen, setIsAddBlockoutOpen] = useState(false);\n  const [isDeleteBlockoutOpen, setIsDeleteBlockoutOpen] = useState(false);\n  const today = useMemo(\n    () =>\n      moment()\n        .tz('Asia/Singapore')\n        .format('DDMMYY'),\n    []\n  );\n\n  const tomorrow = useMemo(\n    () =>\n      moment()\n        .tz('Asia/Singapore')\n        .add(1, 'd')\n        .format('DDMMYY'),\n    []\n  );\n  const toggleAdd = useCallback(() => {\n    setIsAddBlockoutOpen(open => !open);\n    if (isDeleteBlockoutOpen) setIsDeleteBlockoutOpen(false);\n  }, [isDeleteBlockoutOpen]);\n\n  const toggleDelete = useCallback(() => {\n    setIsDeleteBlockoutOpen(open => !open);\n    if (isAddBlockoutOpen) setIsAddBlockoutOpen(false);\n  }, [isAddBlockoutOpen]);\n\n  const addBlockoutFormik = useFormik({\n    initialValues: {\n      startDate: '',\n      endDate: ''\n    },\n    validate,\n    onSubmit: (values, { resetForm }) => {\n      handleAdd(values);\n      toggleAdd();\n      resetForm();\n    }\n  });\n  const deleteBlockoutFormik = useFormik({\n    initialValues: {\n      startDate: '',\n      endDate: ''\n    },\n    validate,\n    onSubmit: (values, { resetForm }) => {\n      handleDelete(values);\n      toggleDelete();\n      resetForm();\n    }\n  });\n\n  return (\n    <>\n      <Row className=\"justify-content-end align-items-end my-2 mx-2\">\n        <Button className=\"m-2\" color=\"primary\" onClick={toggleAdd}>\n          Add Blockout\n        </Button>\n        <Button className=\"m-2\" color=\"primary\" onClick={toggleDelete}>\n          Delete Blockout\n        </Button>\n      </Row>\n      <Row>\n        <Collapse isOpen={isAddBlockoutOpen} className=\"w-100\">\n          <Card>\n            <CardBody>\n              <Form onSubmit={addBlockoutFormik.handleSubmit}>\n                <FormGroup>\n                  <Label for=\"addDateInput\">Date</Label>\n                  <Input\n                    type=\"text\"\n                    value={addBlockoutFormik.values.startDate}\n                    name=\"startDate\"\n                    id=\"addDateInput\"\n                    placeholder={`e.g. ${today}`}\n                    invalid={\n                      addBlockoutFormik.touched.startDate &&\n                      addBlockoutFormik.errors.startDate &&\n                      addBlockoutFormik.errors.startDate !== ''\n                    }\n                    onChange={addBlockoutFormik.handleChange}\n                  />\n                  <FormText color=\"muted\">\n                    Date must be in DDMMYY format\n                  </FormText>\n                  {addBlockoutFormik.touched.startDate &&\n                  addBlockoutFormik.errors.startDate ? (\n                    <FormFeedback>\n                      {addBlockoutFormik.errors.startDate}\n                    </FormFeedback>\n                  ) : null}\n                </FormGroup>\n\n                <FormGroup>\n                  <Label for=\"addUntilDateInput\">Until</Label>\n                  <Input\n                    type=\"text\"\n                    value={addBlockoutFormik.values.endDate}\n                    name=\"endDate\"\n                    id=\"addUntilDateInput\"\n                    placeholder={`*OPTIONAL* e.g. ${tomorrow}`}\n                    invalid={\n                      addBlockoutFormik.touched.endDate &&\n                      addBlockoutFormik.errors.endDate &&\n                      addBlockoutFormik.errors.endDate !== ''\n                    }\n                    onChange={addBlockoutFormik.handleChange}\n                  />\n                  <FormText color=\"muted\">\n                    This is optional, you can leave this blank if you want to\n                    add a single date\n                  </FormText>\n                  {addBlockoutFormik.touched.endDate &&\n                  addBlockoutFormik.errors.endDate ? (\n                    <FormFeedback>\n                      {addBlockoutFormik.errors.endDate}\n                    </FormFeedback>\n                  ) : null}\n                </FormGroup>\n                <Button color=\"success\" className=\"w-100\" type=\"submit\">\n                  Add\n                </Button>\n              </Form>\n            </CardBody>\n          </Card>\n        </Collapse>\n\n        <Collapse isOpen={isDeleteBlockoutOpen} className=\"w-100\">\n          <Card>\n            <CardBody>\n              <Form onSubmit={deleteBlockoutFormik.handleSubmit}>\n                <FormGroup>\n                  <Label for=\"deleteDateInput\">Date</Label>\n                  <Input\n                    type=\"text\"\n                    value={deleteBlockoutFormik.values.startDate}\n                    name=\"startDate\"\n                    id=\"deleteDateInput\"\n                    placeholder={`e.g. ${today}`}\n                    invalid={\n                      deleteBlockoutFormik.touched.startDate &&\n                      deleteBlockoutFormik.errors.startDate &&\n                      deleteBlockoutFormik.errors.startDate !== ''\n                    }\n                    onChange={deleteBlockoutFormik.handleChange}\n                  />\n                  <FormText color=\"muted\">\n                    Date must be in DDMMYY format\n                  </FormText>\n                  {deleteBlockoutFormik.touched.startDate &&\n                  deleteBlockoutFormik.errors.startDate ? (\n                    <FormFeedback>\n                      {deleteBlockoutFormik.errors.startDate}\n                    </FormFeedback>\n                  ) : null}\n                </FormGroup>\n\n                <FormGroup>\n                  <Label for=\"deleteUntilDateInput\">Until</Label>\n                  <Input\n                    type=\"text\"\n                    value={deleteBlockoutFormik.values.endDate}\n                    name=\"endDate\"\n                    id=\"deleteUntilDateInput\"\n                    placeholder={`*OPTIONAL* e.g. ${tomorrow}`}\n                    invalid={\n                      deleteBlockoutFormik.touched.endDate &&\n                      deleteBlockoutFormik.errors.endDate &&\n                      deleteBlockoutFormik.errors.endDate !== ''\n                    }\n                    onChange={deleteBlockoutFormik.handleChange}\n                  />\n                  <FormText color=\"muted\">\n                    This is optional, you can leave this blank if you want to\n                    remove a single date\n                  </FormText>\n                  {deleteBlockoutFormik.touched.endDate &&\n                  deleteBlockoutFormik.errors.endDate ? (\n                    <FormFeedback>\n                      {deleteBlockoutFormik.errors.endDate}\n                    </FormFeedback>\n                  ) : null}\n                </FormGroup>\n                <Button color=\"danger\" className=\"w-100\" type=\"submit\">\n                  Remove\n                </Button>\n              </Form>\n            </CardBody>\n          </Card>\n        </Collapse>\n      </Row>\n    </>\n  );\n};\n\nAddBlockout.propTypes = {\n  handleAdd: PropTypes.func.isRequired,\n  handleDelete: PropTypes.func.isRequired\n};\n\nexport default AddBlockout;\n","import React, { useState, useMemo, memo } from 'react';\nimport PropTypes from 'prop-types';\nimport { Row, Col } from 'reactstrap';\nimport moment from 'moment-timezone';\nimport { List } from 'immutable';\nimport BlockoutTable from './blockout/BlockoutTable';\nimport AddBlockout from './blockout/AddBlockout';\nimport Pagination from '../../commons/Pagination';\n\nfunction useSortedBlockoutDate(dates) {\n  const sortedBlockoutDate = useMemo(() => {\n    return dates.sort((a, b) => {\n      const date1 = moment(a, 'DD-MM-YYYY', true);\n      const date2 = moment(b, 'DD-MM-YYYY', true);\n\n      if (date1.isBefore(date2)) {\n        return -1;\n      }\n      if (date1.isAfter(date2)) {\n        return 1;\n      }\n\n      return 0;\n    });\n  }, [dates]);\n  return sortedBlockoutDate;\n}\n\nfunction BlockoutDetails({ blockoutDates, handleDelete, handleAdd }) {\n  const [rowsPerPage] = useState(5);\n  const [page, setPage] = useState(1);\n  const sortedBlockoutDate = useSortedBlockoutDate(blockoutDates);\n  const lastIndex = page * rowsPerPage;\n  const firstIndex = lastIndex - rowsPerPage;\n  const shownDates = sortedBlockoutDate.slice(firstIndex, lastIndex);\n  return (\n    <>\n      <AddBlockout handleAdd={handleAdd} handleDelete={handleDelete} />\n      {sortedBlockoutDate.length === 0 ? (\n        <h3 className=\"my-2\">No blockout date for this personnel</h3>\n      ) : (\n        <BlockoutTable handleDelete={handleDelete} blockoutDates={shownDates} />\n      )}\n      <Row>\n        <Col className=\"d-flex justify-content-center align-items-center\">\n          <Pagination\n            currentPage={page}\n            rowsPerPage={rowsPerPage}\n            totalPosts={blockoutDates.size}\n            setPage={setPage}\n          />\n        </Col>\n      </Row>\n    </>\n  );\n}\n\nBlockoutDetails.defaultProps = {\n  blockoutDates: List()\n};\n\nBlockoutDetails.propTypes = {\n  // blockoutDates: PropTypes.arrayOf(PropTypes.string),\n  blockoutDates: PropTypes.instanceOf(List),\n  handleDelete: PropTypes.func.isRequired,\n  handleAdd: PropTypes.func.isRequired\n};\n\nexport default memo(BlockoutDetails);\n","import React, { memo } from 'react';\nimport PropTypes from 'prop-types';\nimport { Button } from 'reactstrap';\nimport { Map } from 'immutable';\n\nfunction SinglePoint({ point, handleUpdate }) {\n  const name = point.getIn(['pointSystem', 'name']);\n  const points = point.get('points');\n\n  return (\n    <tr>\n      <td className=\"text-center\">{name}</td>\n      <td className=\"text-center\">{points}</td>\n      <td className=\"text-center\">\n        <Button color=\"primary\" onClick={() => handleUpdate(point)}>\n          Edit\n        </Button>\n      </td>\n    </tr>\n  );\n}\n\nSinglePoint.propTypes = {\n  point: PropTypes.instanceOf(Map).isRequired,\n  handleUpdate: PropTypes.func.isRequired\n};\n\nexport default memo(SinglePoint);\n","import React, { useMemo, memo, useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport { Table } from 'reactstrap';\nimport Swal from 'sweetalert2';\nimport { List } from 'immutable';\nimport SinglePoint from './points/SinglePoint';\n\nfunction useSortPoints(points) {\n  const sortedPoints = useMemo(() => {\n    const sortingPoints = points.sort((a, b) => {\n      const textA = String(a.getIn(['pointSystem', 'name'])).toUpperCase();\n      const textB = String(b.getIn(['pointSystem', 'name'])).toUpperCase();\n      if (textA < textB) {\n        return -1;\n      }\n      if (textA > textB) {\n        return 1;\n      }\n      return 0;\n    });\n    return sortingPoints;\n  }, [points]);\n  return sortedPoints;\n}\n\nfunction useUpdatePointModal(editFunc) {\n  const handler = useCallback(\n    point => {\n      Swal.fire({\n        title: `Enter new point for ${point.getIn(['pointSystem', 'name'])}`,\n        input: 'number',\n        inputPlaceholder: point.get('points'),\n        showCancelButton: true,\n        confirmButtonText: 'Change',\n        inputValidator: value => {\n          if (!value) {\n            return `Please enter a new number for ${point.getIn([\n              'pointSystem',\n              'name'\n            ])}`;\n          }\n          const newPoint = parseInt(value, 10);\n          if (typeof newPoint !== 'number') {\n            return `Only numbers are accepted`;\n          }\n\n          if (newPoint < 0) {\n            return 'Only positive number is allowed inclusive of 0';\n          }\n          return null;\n        }\n      }).then(({ value }) => {\n        if (value) {\n          editFunc(point.get('_id'), value);\n        }\n      });\n    },\n    [editFunc]\n  );\n  return handler;\n}\n\nconst PointsDetails = ({ handleEdit, points }) => {\n  const sortedPoints = useSortPoints(points);\n  const edit = useUpdatePointModal(handleEdit);\n\n  return (\n    <Table striped responsive>\n      <thead>\n        <tr>\n          <th className=\"text-center\">Point System:</th>\n          <th className=\"text-center\">Point:</th>\n          <th className=\"text-center\">Action:</th>\n        </tr>\n      </thead>\n      <tbody>\n        {sortedPoints.map(point => {\n          return (\n            <SinglePoint\n              key={point.get('_id')}\n              handleUpdate={edit}\n              point={point}\n            />\n          );\n        })}\n      </tbody>\n    </Table>\n  );\n};\n\nPointsDetails.propTypes = {\n  handleEdit: PropTypes.func.isRequired,\n  points: PropTypes.oneOfType([PropTypes.instanceOf(List)]).isRequired\n};\n\nexport default memo(PointsDetails);\n","import React, { useState, memo, useMemo } from 'react';\nimport {\n  Container,\n  Row,\n  Col,\n  TabContent,\n  TabPane,\n  Breadcrumb,\n  BreadcrumbItem,\n  Alert\n} from 'reactstrap';\nimport { Helmet } from 'react-helmet';\nimport { Link, Redirect, useParams } from 'react-router-dom';\nimport { useSelector, useDispatch } from 'react-redux';\nimport './styles.css';\n\nimport {\n  addStatus,\n  deleteStatus,\n  addBlockout,\n  deleteBlockout,\n  editPersonnelPoint\n} from './actions';\nimport { getStatuses } from './selectors';\nimport useReduxPageSelector from '../../../hooks/useReduxPageSelector';\nimport {\n  useHandleAddStatus,\n  useHandleDeleteStatus\n} from './hooks/useHandleStatus';\nimport {\n  useHandleAddBlockout,\n  useHandleDeleteBlockout\n} from './hooks/useHandleBlockout';\nimport { useHandleEditPoint } from './hooks/useHandlePoint';\n\nimport Details from '../../../components/personnels/single/Details';\nimport Tabs from '../../../components/personnels/single/Tabs';\nimport Status from '../../../components/personnels/single/Status';\nimport ActionAlert from '../../../components/commons/ActionAlert';\nimport BlockoutDetails from '../../../components/personnels/single/BlockoutDetails';\nimport PointsDetails from '../../../components/personnels/single/PointsDetails';\n\nexport function Single() {\n  const params = useParams();\n  const personId = params.personnelId;\n\n  const [activeTab, setActiveTab] = useState('1');\n  const statuses = useSelector(getStatuses);\n  const personnels = useSelector(state => state.personnels.get('personnels'));\n  const pages = useMemo(() => ['personnels', 'single'], []);\n  const actionInProgress = useReduxPageSelector(pages, 'actionInProgress');\n  const errors = useReduxPageSelector(pages, 'errors');\n  const dispatch = useDispatch();\n  const handleDeleteStatus = useHandleDeleteStatus(\n    dispatch,\n    deleteStatus,\n    personId\n  );\n  const handleAddStatus = useHandleAddStatus(dispatch, addStatus, personId);\n  const handleAddBlockout = useHandleAddBlockout(\n    dispatch,\n    addBlockout,\n    personId\n  );\n  const handleDeleteBlockout = useHandleDeleteBlockout(\n    dispatch,\n    deleteBlockout,\n    personId\n  );\n  const handleEditPoint = useHandleEditPoint(\n    dispatch,\n    editPersonnelPoint,\n    personId\n  );\n\n  const person = personnels.get(personId);\n  if (!person || person.size === 0) {\n    return <Redirect to=\"/personnels\" />;\n  }\n  return (\n    <>\n      <Helmet>\n        <title>Personnel Details</title>\n      </Helmet>\n      <Container className=\"py-2\">\n        <Row className=\"justify-content-center align-items-center\">\n          <Col>\n            <Breadcrumb tag=\"nav\" listTag=\"div\">\n              <BreadcrumbItem tag={Link} to=\"/personnels\">\n                Personnels\n              </BreadcrumbItem>\n              <BreadcrumbItem tag=\"span\">Details</BreadcrumbItem>\n              <BreadcrumbItem active tag=\"span\">\n                {person.name}\n              </BreadcrumbItem>\n            </Breadcrumb>\n          </Col>\n        </Row>\n        {errors.size > 0 && (\n          <Row className=\"my-2 flex-column\">\n            <Col>\n              <Alert color=\"danger\" className=\"w-100\">\n                {errors.map(error => {\n                  return (\n                    <p className=\"mb-0\" key={error}>\n                      {error}\n                    </p>\n                  );\n                })}\n              </Alert>\n            </Col>\n          </Row>\n        )}\n        {actionInProgress !== 0 && (\n          <Row>\n            <Col>\n              <ActionAlert name={`${actionInProgress} action(s)`} />\n            </Col>\n          </Row>\n        )}\n        <Row className=\"align-items-center\">\n          <Col>\n            <h1>Details</h1>\n          </Col>\n        </Row>\n        <Row>\n          <Col>\n            <p className=\"text-danger\">\n              Note: Event dates, status and blockout dates that expired will be\n              automatically removed\n            </p>\n          </Col>\n        </Row>\n        <Row>\n          <Col>\n            <Tabs activeTab={activeTab} setTab={setActiveTab} />\n            <TabContent activeTab={activeTab}>\n              <TabPane tabId=\"1\">\n                <Details\n                  name={person.get('name')}\n                  rank={person.getIn(['rank', 'name'])}\n                  platoon={person.getIn(['platoon', 'name'])}\n                  eventsDate={person.get('eventsDate')}\n                />\n              </TabPane>\n              <TabPane tabId=\"2\">\n                <Status\n                  handleDelete={handleDeleteStatus}\n                  personStatuses={person.get('statuses')}\n                  statuses={statuses}\n                  handleAdd={handleAddStatus}\n                />\n              </TabPane>\n              <TabPane tabId=\"3\">\n                <BlockoutDetails\n                  handleAdd={handleAddBlockout}\n                  blockoutDates={person.get('blockOutDates')}\n                  handleDelete={handleDeleteBlockout}\n                />\n              </TabPane>\n              <TabPane tabId=\"4\">\n                <PointsDetails\n                  points={person.get('points')}\n                  handleEdit={handleEditPoint}\n                />\n              </TabPane>\n            </TabContent>\n          </Col>\n        </Row>\n      </Container>\n    </>\n  );\n}\n\nexport default memo(Single);\n","import { useCallback } from 'react';\n\nexport function useHandleAddStatus(dispatch, addFunc, personnelId) {\n  const addHandler = useCallback(\n    ({ statusId, startDate, endDate }) => {\n      dispatch(addFunc(personnelId, statusId, startDate, endDate));\n    },\n    [addFunc, dispatch, personnelId]\n  );\n\n  return addHandler;\n}\n\nexport function useHandleDeleteStatus(dispatch, deleteFunc, personnelId) {\n  const deleteHandler = useCallback(\n    personnelStatusId => {\n      dispatch(deleteFunc(personnelId, personnelStatusId));\n    },\n    [deleteFunc, dispatch, personnelId]\n  );\n\n  return deleteHandler;\n}\n","import { useCallback } from 'react';\n\nexport function useHandleAddBlockout(dispatch, addFunc, personnelId) {\n  const addHandler = useCallback(\n    ({ startDate, endDate = null }) => {\n      const date = {\n        startDate\n      };\n\n      if (endDate) {\n        date.endDate = endDate;\n      }\n\n      dispatch(addFunc(personnelId, date));\n    },\n    [addFunc, dispatch, personnelId]\n  );\n\n  return addHandler;\n}\n\nexport function useHandleDeleteBlockout(dispatch, deleteFunc, personnelId) {\n  const deleteHandle = useCallback(\n    ({ startDate, endDate = null }) => {\n      const date = {\n        startDate\n      };\n\n      if (endDate) {\n        date.endDate = endDate;\n      }\n      dispatch(deleteFunc(personnelId, date));\n    },\n    [deleteFunc, dispatch, personnelId]\n  );\n  return deleteHandle;\n}\n","import { createSelector } from 'reselect';\n\nconst getPerson = createSelector(\n  state => state.personnels.get('personnels'),\n  (_, personnelId) => personnelId,\n  (personnels, id) => personnels.get(id)\n);\n\nconst rankIds = state => state.ranks.get('ids');\nconst allRanks = state => state.ranks.get('ranks');\nconst getRanks = createSelector(rankIds, allRanks, (ids, byRankIds) =>\n  ids.map(id => byRankIds.get(id))\n);\n\nconst platoonIds = state => state.platoons.get('ids');\nconst allPlatoons = state => state.platoons.get('platoons');\nconst getPlatoons = createSelector(\n  platoonIds,\n  allPlatoons,\n  (ids, byPlatoonIds) => ids.map(id => byPlatoonIds.get(id))\n);\n\nexport { getPerson, getRanks, getPlatoons };\n","import React, { memo } from 'react';\nimport {\n  Label,\n  FormGroup,\n  FormFeedback,\n  Input,\n  Form,\n  Button\n} from 'reactstrap';\nimport PropTypes from 'prop-types';\nimport { useFormik } from 'formik';\nimport { List, Map } from 'immutable';\nimport * as Yup from 'yup';\n\nconst EditFormSchema = Yup.object().shape({\n  name: Yup.string().required('Name is required'),\n  rank: Yup.string().required('Rank is required'),\n  platoon: Yup.string().required('Platoon is required')\n});\n\nconst EditForm = ({ person, handleSubmit, ranks, platoons, isUpdating }) => {\n  const formik = useFormik({\n    initialValues: {\n      name: person.get('name'),\n      rank: person.getIn(['rank', '_id']),\n      platoon: person.getIn(['platoon', '_id'])\n    },\n    validationSchema: EditFormSchema,\n    onSubmit: handleSubmit\n  });\n  return (\n    <Form onSubmit={formik.handleSubmit}>\n      <FormGroup>\n        <Label for=\"nameInput\">Name</Label>\n        <Input\n          type=\"text\"\n          name=\"name\"\n          id=\"nameInput\"\n          placeholder=\"John\"\n          invalid={\n            formik.touched.name &&\n            formik.errors.name &&\n            formik.errors.name !== ''\n          }\n          value={formik.values.name}\n          onChange={formik.handleChange}\n          disabled={isUpdating}\n        />\n        {formik.touched.name && formik.errors.name ? (\n          <FormFeedback>{formik.errors.name}</FormFeedback>\n        ) : null}\n      </FormGroup>\n      <FormGroup>\n        <Label for=\"rankSelect\">Rank</Label>\n        <Input\n          type=\"select\"\n          name=\"rank\"\n          id=\"rankSelect\"\n          invalid={\n            formik.touched.rank &&\n            formik.errors.rank &&\n            formik.errors.rank !== ''\n          }\n          onChange={formik.handleChange}\n          value={formik.values.rank}\n          disabled={isUpdating}\n        >\n          {ranks.map(rank => {\n            return (\n              <option value={rank.get('_id')} key={rank.get('_id')}>\n                {rank.get('name')}\n              </option>\n            );\n          })}\n        </Input>\n        {formik.touched.rank && formik.errors.rank ? (\n          <FormFeedback>{formik.errors.rank}</FormFeedback>\n        ) : null}\n      </FormGroup>\n      <FormGroup>\n        <Label for=\"platoonSelect\">Platoon</Label>\n        <Input\n          type=\"select\"\n          name=\"platoon\"\n          id=\"platoonSelect\"\n          disabled={isUpdating}\n          invalid={\n            formik.touched.platoon &&\n            formik.errors.platoon &&\n            formik.errors.platoon !== ''\n          }\n          onChange={formik.handleChange}\n          value={formik.values.platoon}\n        >\n          {platoons.map(platoon => {\n            return (\n              <option value={platoon.get('_id')} key={platoon.get('_id')}>\n                {platoon.get('name')}\n              </option>\n            );\n          })}\n        </Input>\n        {formik.touched.platoon && formik.errors.platoon ? (\n          <FormFeedback>{formik.errors.platoon}</FormFeedback>\n        ) : null}\n      </FormGroup>\n      <Button\n        color=\"primary\"\n        type=\"submit\"\n        className=\"w-100\"\n        disabled={isUpdating}\n      >\n        Update\n      </Button>\n    </Form>\n  );\n};\n\nEditForm.propTypes = {\n  handleSubmit: PropTypes.func.isRequired,\n  person: PropTypes.instanceOf(Map).isRequired,\n  ranks: PropTypes.instanceOf(List).isRequired,\n  platoons: PropTypes.instanceOf(List).isRequired,\n  isUpdating: PropTypes.bool.isRequired\n};\n\nexport default memo(EditForm);\n","import React, { memo, useCallback, useEffect } from 'react';\nimport {\n  Container,\n  Row,\n  Col,\n  Breadcrumb,\n  BreadcrumbItem,\n  Alert\n} from 'reactstrap';\nimport { Helmet } from 'react-helmet';\nimport { Link, Redirect, useParams } from 'react-router-dom';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { getPerson, getRanks, getPlatoons } from './selectors';\nimport EditForm from '../../../components/personnels/edit/EditForm';\nimport { updatePerson } from './actions';\nimport ActionAlert from '../../../components/commons/ActionAlert';\nimport usePrevious from '../../../hooks/usePrevious';\nimport useSuccessModal from '../../../hooks/useSuccessModal';\nimport useReduxPageSelector from '../../../hooks/useReduxPageSelector';\n\nexport function Edit() {\n  const params = useParams();\n  const person = useSelector(state => getPerson(state, params.personnelId));\n\n  /**\n   * initial setup\n   */\n  const pages = ['personnels', 'edit'];\n  const isUpdating = useReduxPageSelector(pages, 'isUpdating');\n  const errors = useReduxPageSelector(pages, 'errors');\n  const prevUpdating = usePrevious(isUpdating);\n  const ranks = useSelector(getRanks);\n  const platoons = useSelector(getPlatoons);\n  const successModal = useSuccessModal('Updated!', 2000);\n\n  const dispatch = useDispatch();\n  useEffect(() => {\n    if (prevUpdating && !isUpdating && errors.size === 0) {\n      successModal();\n    }\n  }, [errors.size, isUpdating, prevUpdating, successModal]);\n\n  const handleEdit = useCallback(\n    values => {\n      const personToUpdate = {\n        ...values,\n        personnelId: params.personnelId\n      };\n      dispatch(updatePerson(personToUpdate));\n    },\n    [dispatch, params.personnelId]\n  );\n\n  /**\n   * if there is no person found, redirect back to\n   * personnels page\n   */\n  if (!person || person.size === 0) {\n    return <Redirect to=\"/personnels\" />;\n  }\n\n  return (\n    <>\n      <Helmet>\n        <title>Edit Personnel</title>\n      </Helmet>\n      <Container className=\"py-2\">\n        <Row className=\"justify-content-center align-items-center\">\n          <Col>\n            <Breadcrumb tag=\"nav\" listTag=\"div\">\n              <BreadcrumbItem tag={Link} to=\"/personnels\">\n                Personnels\n              </BreadcrumbItem>\n              <BreadcrumbItem tag=\"span\">Details</BreadcrumbItem>\n              <BreadcrumbItem\n                tag={Link}\n                to={`/personnels/${params.personnelId}`}\n              >\n                {person.get('name')}\n              </BreadcrumbItem>\n              <BreadcrumbItem active tag=\"span\">\n                Edit Details\n              </BreadcrumbItem>\n            </Breadcrumb>\n          </Col>\n        </Row>\n        {errors.size > 0 && (\n          <Row>\n            <Col>\n              <Alert color=\"danger\" className=\"w-100\">\n                {errors.map(error => {\n                  return (\n                    <p className=\"mb-0\" key={error}>\n                      {error}\n                    </p>\n                  );\n                })}\n              </Alert>\n            </Col>\n          </Row>\n        )}\n        {isUpdating && (\n          <Row>\n            <Col>\n              <ActionAlert name=\"Updating\" />\n            </Col>\n          </Row>\n        )}\n        <Row>\n          <Col>\n            <h1>Editing {person.get('name')}</h1>\n          </Col>\n        </Row>\n        <Row>\n          <Col>\n            <EditForm\n              handleSubmit={handleEdit}\n              person={person}\n              platoons={platoons}\n              ranks={ranks}\n              isUpdating={isUpdating}\n            />\n          </Col>\n        </Row>\n      </Container>\n    </>\n  );\n}\n\nexport default memo(Edit);\n","import React, { memo } from 'react';\nimport { Switch, Route, useRouteMatch } from 'react-router-dom';\n\nimport Layout from '../shared/AppLayout';\n// SUB-PAGES\nimport All from './all';\nimport Add from './add';\nimport Single from './single';\nimport Edit from './edit';\n\nexport function Personnels() {\n  const { path } = useRouteMatch();\n\n  return (\n    <Layout>\n      <Switch>\n        <Route exact path={path} component={All} />\n        <Route path={`${path}/add`} component={Add} />\n        <Route path={`${path}/:personnelId`} exact component={Single} />\n        <Route path={`${path}/:personnelId/edit`} component={Edit} />\n      </Switch>\n    </Layout>\n  );\n}\n\nexport default memo(Personnels);\n","export { default } from './Personnels';\n"],"sourceRoot":""}