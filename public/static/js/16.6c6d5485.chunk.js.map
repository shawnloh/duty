{"version":3,"sources":["components/statuses/StatusesTable.jsx","components/statuses/StatusModalEdit.jsx","components/statuses/StatusModalDelete.jsx","components/statuses/StatusModalAdd.jsx","pages/statuses/Statuses.jsx","pages/statuses/index.js"],"names":["StatusesTable","statuses","toggle","modes","Table","striped","responsive","style","width","className","map","status","key","_id","name","Button","color","onClick","UPDATE","DELETE","StatusModalEdit","onCancel","onSave","onToggle","showModal","onChangeText","Modal","isOpen","ModalHeader","ModalBody","FormGroup","Label","for","Input","type","id","placeholder","onChange","ModalFooter","StatusModalDelete","onDelete","StatusModalAdd","ADD","Statuses","props","handleUpdate","modifyStatus","updateStatus","state","selectedId","newName","toggleModal","handleDelete","removeStatus","deleteStatus","handleAdd","createStatus","addStatus","handleChange","e","target","value","setState","mode","prevState","showErrors","errors","Row","error","Alert","getModal","modal","this","ids","actionInProgress","shownStatuses","AppLayout","Helmet","Container","length","Spinner","size","Col","xs","md","PureComponent","mapDispatchToProps","connect","get","pages"],"mappings":"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","file":"static/js/16.6c6d5485.chunk.js","sourcesContent":["import React from 'react';\nimport { Table, Button } from 'reactstrap';\nimport PropTypes from 'prop-types';\n\nconst StatusesTable = ({ statuses, toggle, modes }) => {\n  return (\n    <Table striped responsive>\n      <thead>\n        <tr>\n          <th style={{ width: '50%' }} className=\"text-center\">\n            Name\n          </th>\n          <th className=\"text-center\">Actions</th>\n        </tr>\n      </thead>\n      <tbody>\n        {statuses.map(status => {\n          return (\n            <tr key={status._id}>\n              <td className=\"text-center\">{status.name}</td>\n              <td className=\"text-center\">\n                <Button\n                  color=\"primary\"\n                  onClick={() => toggle(modes.UPDATE, status._id)}\n                >\n                  Edit\n                </Button>{' '}\n                <Button\n                  onClick={() => toggle(modes.DELETE, status._id)}\n                  color=\"danger\"\n                >\n                  Delete\n                </Button>\n              </td>\n            </tr>\n          );\n        })}\n      </tbody>\n    </Table>\n  );\n};\n\nStatusesTable.propTypes = {\n  statuses: PropTypes.arrayOf(\n    PropTypes.shape({\n      _id: PropTypes.string,\n      name: PropTypes.string\n    })\n  ).isRequired,\n  toggle: PropTypes.func.isRequired,\n  modes: PropTypes.shape({\n    UPDATE: PropTypes.string.isRequired,\n    DELETE: PropTypes.string.isRequired,\n    ADD: PropTypes.string.isRequired\n  }).isRequired\n};\n\nexport default StatusesTable;\n","import React from 'react';\nimport {\n  Modal,\n  ModalHeader,\n  ModalBody,\n  ModalFooter,\n  Button,\n  FormGroup,\n  Label,\n  Input\n} from 'reactstrap';\nimport PropTypes from 'prop-types';\n\nconst StatusModalEdit = ({\n  onCancel,\n  onSave,\n  onToggle,\n  showModal,\n  onChangeText,\n  status\n}) => {\n  return (\n    <Modal isOpen={showModal} toggle={() => onToggle()}>\n      <ModalHeader toggle={() => onToggle()}>Updating for {status}</ModalHeader>\n      <ModalBody>\n        <FormGroup>\n          <Label for=\"statusName\">New name for {status}</Label>\n          <Input\n            type=\"text\"\n            name=\"statusName\"\n            id=\"statusName\"\n            placeholder={status}\n            onChange={onChangeText}\n          />\n        </FormGroup>\n      </ModalBody>\n      <ModalFooter>\n        <Button color=\"success\" onClick={onSave}>\n          Save\n        </Button>\n        <Button color=\"secondary\" onClick={() => onCancel()}>\n          Cancel\n        </Button>\n      </ModalFooter>\n    </Modal>\n  );\n};\n\nStatusModalEdit.propTypes = {\n  onCancel: PropTypes.func.isRequired,\n  onSave: PropTypes.func.isRequired,\n  onToggle: PropTypes.func.isRequired,\n  showModal: PropTypes.bool.isRequired,\n  onChangeText: PropTypes.func.isRequired,\n  status: PropTypes.string.isRequired\n};\n\nexport default StatusModalEdit;\n","import React from 'react';\nimport { Modal, ModalHeader, ModalBody, ModalFooter, Button } from 'reactstrap';\nimport PropTypes from 'prop-types';\n\nconst StatusModalDelete = ({\n  onCancel,\n  onDelete,\n  onToggle,\n  showModal,\n  status\n}) => {\n  return (\n    <Modal isOpen={showModal} toggle={() => onToggle()}>\n      <ModalHeader toggle={() => onToggle()}>\n        Action is irreversible!\n      </ModalHeader>\n      <ModalBody>\n        <p>Are you sure you want to delete {status.name}?</p>\n      </ModalBody>\n      <ModalFooter>\n        <Button color=\"danger\" onClick={onDelete}>\n          Delete\n        </Button>\n        <Button color=\"secondary\" onClick={() => onCancel()}>\n          Cancel\n        </Button>\n      </ModalFooter>\n    </Modal>\n  );\n};\n\nStatusModalDelete.propTypes = {\n  onCancel: PropTypes.func.isRequired,\n  onDelete: PropTypes.func.isRequired,\n  onToggle: PropTypes.func.isRequired,\n  showModal: PropTypes.bool.isRequired,\n  status: PropTypes.shape({\n    _id: PropTypes.string.isRequired,\n    name: PropTypes.string.isRequired\n  }).isRequired\n};\n\nexport default StatusModalDelete;\n","import React from 'react';\nimport {\n  Modal,\n  ModalHeader,\n  ModalBody,\n  ModalFooter,\n  Button,\n  FormGroup,\n  Label,\n  Input\n} from 'reactstrap';\nimport PropTypes from 'prop-types';\n\nconst StatusModalAdd = ({\n  onCancel,\n  onSave,\n  onToggle,\n  showModal,\n  onChangeText\n}) => {\n  return (\n    <Modal isOpen={showModal} toggle={() => onToggle()}>\n      <ModalHeader toggle={() => onToggle()}>Adding New Status!</ModalHeader>\n      <ModalBody>\n        <FormGroup>\n          <Label for=\"statusName\">New status</Label>\n          <Input\n            type=\"text\"\n            name=\"statusName\"\n            id=\"statusName\"\n            onChange={onChangeText}\n          />\n        </FormGroup>\n      </ModalBody>\n      <ModalFooter>\n        <Button color=\"success\" onClick={onSave}>\n          Add\n        </Button>\n        <Button color=\"secondary\" onClick={() => onCancel()}>\n          Cancel\n        </Button>\n      </ModalFooter>\n    </Modal>\n  );\n};\n\nStatusModalAdd.propTypes = {\n  onCancel: PropTypes.func.isRequired,\n  onSave: PropTypes.func.isRequired,\n  onToggle: PropTypes.func.isRequired,\n  onChangeText: PropTypes.func.isRequired,\n  showModal: PropTypes.bool.isRequired\n};\n\nexport default StatusModalAdd;\n","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport { Container, Col, Row, Button, Alert, Spinner } from 'reactstrap';\nimport { connect } from 'react-redux';\nimport { Helmet } from 'react-helmet';\n\nimport AppLayout from '../shared/AppLayout';\nimport StatusesTable from '../../components/statuses/StatusesTable';\nimport StatusModalEdit from '../../components/statuses/StatusModalEdit';\nimport StatusModalDelete from '../../components/statuses/StatusModalDelete';\nimport StatusModalAdd from '../../components/statuses/StatusModalAdd';\n\nimport { addStatus, deleteStatus, updateStatus } from './actions';\n\nconst modes = {\n  UPDATE: 'UPDATE',\n  DELETE: 'DELETE',\n  ADD: 'ADD'\n};\n\nexport class Statuses extends PureComponent {\n  constructor(props) {\n    super(props);\n    this.state = {\n      selectedId: null,\n      showModal: false,\n      mode: null,\n      newName: ''\n    };\n  }\n\n  handleUpdate = () => {\n    const { updateStatus: modifyStatus } = this.props;\n    const { selectedId, newName } = this.state;\n    modifyStatus(selectedId, newName);\n    this.toggleModal();\n  };\n\n  handleDelete = () => {\n    const { deleteStatus: removeStatus } = this.props;\n    const { selectedId } = this.state;\n    removeStatus(selectedId);\n    this.toggleModal();\n  };\n\n  handleAdd = () => {\n    const { addStatus: createStatus } = this.props;\n    const { newName } = this.state;\n    createStatus(newName);\n    this.toggleModal();\n  };\n\n  handleChange = e => {\n    const name = e.target.value;\n    this.setState({\n      newName: name\n    });\n  };\n\n  toggleModal = (mode = null, id = null) => {\n    this.setState(prevState => {\n      return {\n        showModal: !prevState.showModal,\n        selectedId: id,\n        mode,\n        newName: ''\n      };\n    });\n  };\n\n  showErrors = () => {\n    const { errors } = this.props;\n\n    return (\n      <Row>\n        {errors.map(error => {\n          return (\n            <Alert key={error} color=\"danger\" className=\"w-100\">\n              {error}\n            </Alert>\n          );\n        })}\n      </Row>\n    );\n  };\n\n  getModal = () => {\n    let modal = null;\n    const { showModal, selectedId, mode } = this.state;\n    const { statuses } = this.props;\n    if (mode === modes.UPDATE) {\n      modal = (\n        <StatusModalEdit\n          status={statuses[selectedId].name}\n          onCancel={this.toggleModal}\n          onToggle={this.toggleModal}\n          onChangeText={this.handleChange}\n          showModal={showModal}\n          onSave={this.handleUpdate}\n        />\n      );\n    } else if (mode === modes.DELETE) {\n      modal = (\n        <StatusModalDelete\n          status={statuses[selectedId]}\n          onCancel={this.toggleModal}\n          onToggle={this.toggleModal}\n          onDelete={this.handleDelete}\n          showModal={showModal}\n        />\n      );\n    } else if (mode === modes.ADD) {\n      modal = (\n        <StatusModalAdd\n          onCancel={this.toggleModal}\n          onToggle={this.toggleModal}\n          onSave={this.handleAdd}\n          onChangeText={this.handleChange}\n          showModal={showModal}\n        />\n      );\n    }\n    return modal;\n  };\n\n  render() {\n    const { ids, statuses, errors, actionInProgress } = this.props;\n    const modal = this.getModal();\n\n    const shownStatuses = ids.map(id => {\n      return statuses[id];\n    });\n\n    return (\n      <AppLayout>\n        <Helmet>\n          <title>Statuses</title>\n        </Helmet>\n        <Container>\n          {modal}\n          {errors.length > 0 && this.showErrors()}\n          {actionInProgress && (\n            <Row>\n              <Alert color=\"primary\" className=\"w-100\">\n                Action in progress <Spinner color=\"primary\" size=\"sm\" />\n              </Alert>\n            </Row>\n          )}\n          <Row className=\"my-2 d-flex justify-content-center align-items-center\">\n            <Col xs=\"9\">\n              <h1>Statuses</h1>\n            </Col>\n            <Col xs=\"3\" className=\"d-flex justify-content-end\">\n              <Button\n                color=\"success\"\n                size=\"md\"\n                onClick={() => this.toggleModal(modes.ADD)}\n              >\n                Add\n              </Button>\n            </Col>\n          </Row>\n          <Row>\n            <Col md=\"12\">\n              <StatusesTable\n                modes={modes}\n                statuses={shownStatuses}\n                toggle={this.toggleModal}\n              />\n            </Col>\n          </Row>\n        </Container>\n      </AppLayout>\n    );\n  }\n}\n\nStatuses.propTypes = {\n  ids: PropTypes.arrayOf(PropTypes.string).isRequired,\n  statuses: PropTypes.shape({\n    id: PropTypes.string\n  }).isRequired,\n  errors: PropTypes.arrayOf(PropTypes.string).isRequired,\n  actionInProgress: PropTypes.bool.isRequired,\n  addStatus: PropTypes.func.isRequired,\n  deleteStatus: PropTypes.func.isRequired,\n  updateStatus: PropTypes.func.isRequired\n};\n\nconst mapStateToProps = state => ({\n  ids: state.statuses.get('ids'),\n  statuses: state.statuses.get('statuses'),\n  errors: state.pages.statuses.get('errors'),\n  actionInProgress: state.pages.statuses.get('actionInProgress')\n});\n\nconst mapDispatchToProps = {\n  addStatus,\n  deleteStatus,\n  updateStatus\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Statuses);\n","export { default } from './Statuses';\n"],"sourceRoot":""}